define("xg/jx-business/1.0.0/p/commodity/orderMng",["xg/jx-business/1.0.0/c/js/base/zepto","xg/jx-business/1.0.0/c/js/base/dragloader","xg/jx-business/1.0.0/c/js/base/zepto.touch","xg/jx-business/1.0.0/c/js/base/zepto.deferred","xg/jx-business/1.0.0/c/js/base/zepto.callbacks","xg/jx-business/1.0.0/c/js/base/sm","xg/jx-business/1.0.0/c/js/base/sm-extend","xg/jx-business/1.0.0/c/js/fastclick","xg/jx-business/1.0.0/c/js/registerHelper","alinw/handlebars/1.3.0/runtime","xg/jx-business/1.0.0/p/commodity/allOrder.handlebars","xg/jx-business/1.0.0/p/commodity/ordered.handlebars","xg/jx-business/1.0.0/p/commodity/waitSure.handlebars","xg/jx-business/1.0.0/p/commodity/completed.handlebars","xg/jx-business/1.0.0/p/commodity/notData.handlebars"],function(require,exports,module){var $=require("xg/jx-business/1.0.0/c/js/base/zepto");require("xg/jx-business/1.0.0/c/js/base/dragloader"),require("xg/jx-business/1.0.0/c/js/base/zepto.touch"),require("xg/jx-business/1.0.0/c/js/base/zepto.deferred"),require("xg/jx-business/1.0.0/c/js/base/zepto.callbacks"),require("xg/jx-business/1.0.0/c/js/base/sm"),require("xg/jx-business/1.0.0/c/js/base/sm-extend"),require("xg/jx-business/1.0.0/c/js/fastclick"),require("xg/jx-business/1.0.0/c/js/registerHelper");var allOrderTemp=require("xg/jx-business/1.0.0/p/commodity/allOrder.handlebars"),orderedTemp=require("xg/jx-business/1.0.0/p/commodity/ordered.handlebars"),waitSureTemp=require("xg/jx-business/1.0.0/p/commodity/waitSure.handlebars"),completedTemp=require("xg/jx-business/1.0.0/p/commodity/completed.handlebars"),notData=require("xg/jx-business/1.0.0/p/commodity/notData.handlebars");module.exports={init:function(){$.showIndicator();var self=this;self.buyerId=1,self.pageIndex1=1,self.loadAll1=!1,self.havaScroll1=!1,self.pageIndex2=1,self.loadAll2=!1,self.havaScroll2=!1,self.pageIndex3=1,self.loadAll3=!1,self.havaScroll3=!1,self.pageIndex4=1,self.loadAll4=!1,self.havaScroll4=!1,self.pageSize=10,self.looping=!1,self.data1={},self.data1.buyerId=self.buyerId,self.data1.pageIndex=self.pageIndex1,self.data1.pageSize=self.pageSize,self.getAllOrderList(self.data1),self.initEvents()},getAllOrderList:function(params){var self=this;0==self.havaScroll1&&$.showIndicator();var defer=$.Deferred(),allOrder=$("#allOrder");return self.looping=!0,$.post("/trade/list.json",params,function(data){if("ok"==data.result){var list=data.data;if(list.length>0){for(var i=0;i<list.length;i++)list[i].name.length>15&&(list[i].name=list[i].name.substr(0,12)+"...");allOrder.append(allOrderTemp(list)),self.looping=!1}else 1==self.data1.pageIndex?allOrder.append(notData(null)):self.data1.pageIndex>1&&0==self.loadAll1&&(allOrder.append("<div class='search-no-data-2'>已经加载全部</div>"),self.loadAll1=!0);$.hideIndicator()}}),defer.promise()},getOrderedList:function(params){var self=this;0==self.havaScroll2&&$.showIndicator();var defer=$.Deferred(),ordered=$("#ordered");return self.looping=!0,$.post("/trade/list.json",params,function(data){if("ok"==data.result){var list=data.data;if(list.length>0){for(var i=0;i<list.length;i++)list[i].name.length>15&&(list[i].name=list[i].name.substr(0,12)+"...");ordered.append(orderedTemp(list)),self.looping=!1}else 1==self.data2.pageIndex?ordered.append(notData(null)):self.data2.pageIndex>1&&0==self.loadAll2&&(ordered.append("<div class='search-no-data-2'>已经加载全部</div>"),self.loadAll2=!0);$.hideIndicator()}}),defer.promise()},getWaitSureList:function(params){var self=this;0==self.havaScroll3&&$.showIndicator();var defer=$.Deferred(),waitSure=$("#waitSure");return self.looping=!0,$.post("/trade/list.json",params,function(data){if("ok"==data.result){var list=data.data;if(list.length>0){for(var i=0;i<list.length;i++)list[i].name.length>15&&(list[i].name=list[i].name.substr(0,12)+"...");waitSure.append(waitSureTemp(list)),self.looping=!1}else 1==self.data3.pageIndex?waitSure.append(notData(null)):self.data3.pageIndex>1&&0==self.loadAll3&&(waitSure.append("<div class='search-no-data-2'>已经加载全部</div>"),self.loadAll3=!0);$.hideIndicator()}}),defer.promise()},getCompletedList:function(params){var self=this;0==self.havaScroll4&&$.showIndicator();var defer=$.Deferred(),completed=$("#completed");return self.looping=!0,$.post("/trade/list.json",params,function(data){if("ok"==data.result){var list=data.data;if(list.length>0){for(var i=0;i<list.length;i++)list[i].name.length>15&&(list[i].name=list[i].name.substr(0,12)+"...");completed.append(completedTemp(list)),self.looping=!1}else 1==self.data4.pageIndex?completed.append(notData(null)):self.data4.pageIndex>1&&0==self.loadAll4&&(completed.append("<div class='search-no-data-2'>已经加载全部</div>"),self.loadAll4=!0);$.hideIndicator()}}),defer.promise()},initEvents:function(){var self=this,tabCut1=$("#tabCut1 .select-tab .buttons-tab .tab-link"),allOrder=$("#allOrder"),ordered=$("#ordered"),waitSure=$("#waitSure"),completed=$("#completed");$(tabCut1[0]).on("click",function(){1==self.pageIndex1&&(""!=allOrder.html()&&null!=allOrder.html()||(self.data1={},self.data1.buyerId=self.buyerId,self.data1.pageIndex=1,self.data1.pageSize=self.pageSize,self.getAllOrderList(self.data1)))}),$(tabCut1[1]).on("click",function(){1==self.pageIndex2&&(""!=ordered.html()&&null!=ordered.html()||(self.data2={},self.data2.buyerId=self.buyerId,self.data2.status=0,self.data2.pageIndex=self.pageIndex2,self.data2.pageSize=self.pageSize,self.getOrderedList(self.data2)))}),$(tabCut1[2]).on("click",function(){1==self.pageIndex3&&(""!=waitSure.html()&&null!=waitSure.html()||(self.data3={},self.data3.buyerId=self.buyerId,self.data3.status=1,self.data3.pageIndex=self.pageIndex3,self.data3.pageSize=self.pageSize,self.getWaitSureList(self.data3)))}),$(tabCut1[3]).on("click",function(){1==self.pageIndex4&&(""!=completed.html()&&null!=completed.html()||(self.data4={},self.data4.buyerId=self.buyerId,self.data4.status=2,self.data4.pageIndex=self.pageIndex4,self.data4.pageSize=self.pageSize,self.getCompletedList(self.data4)))}),$(".content").on("scroll",function(){function tabindex(section){return"tab1"===$("."+section+".active").attr("id")?1:"tab2"===$("."+section+".active").attr("id")?2:"tab3"===$("."+section+".active").attr("id")?3:"tab4"===$("."+section+".active").attr("id")?4:void 0}if($(window).height()+$(".content").scrollTop()>=$(".content-block").height()-200&&0==self.looping){var tabNumber=tabindex("tab");$("#tab"+tabNumber+" .infinite-scroll-preloader").show(),self.looping=!0,1==tabNumber?(self.havaScroll1=!0,self.pageIndex1+=1,self.data1.pageIndex=self.pageIndex1,self.getAllOrderList(self.data1)):2==tabNumber?(self.havaScroll2=!0,self.pageIndex2+=1,self.data2.pageIndex=self.pageIndex2,self.getOrderedList(self.data2)):3==tabNumber?(self.havaScroll3=!0,self.pageIndex3+=1,self.data3.pageIndex=self.pageIndex3,self.getWaitSureList(self.data3)):4==tabNumber&&(self.havaScroll4=!0,self.pageIndex4+=1,self.data4.pageIndex=self.pageIndex4,self.getCompletedList(self.data4))}}),$(document).on("click","#allOrder .sureBtn.confirm-ok-cancel",function(e){var id=$(this).attr("data-id");$.confirm("是否确认消费?",function(){var params={tradeId:id};$.post("/trade/confirmShipment.json",params,function(data){"ok"==data.result&&($.toast("确认消费成功"),$(e.target).prev().removeClass("left").addClass("right"),$(e.target).parent().parent().find(".orderStatus").html("等待买家确认"),$(e.target).remove())})},function(){})}),$(document).on("click","#ordered .sureBtn.confirm-ok-cancel",function(e){var id=$(this).attr("data-id");$.confirm("是否确认消费?",function(){var params={tradeId:id};$.post("/trade/confirmShipment.json",params,function(data){"ok"==data.result&&($.toast("确认消费成功"),$(e.target).parent().parent().parent().parent().remove())})},function(){})})}},module.exports.init()}),define("xg/jx-business/1.0.0/c/js/base/zepto",[],function(require,exports,module){var Zepto=function(){function type(obj){return null==obj?String(obj):class2type[toString.call(obj)]||"object"}function isFunction(value){return"function"==type(value)}function isWindow(obj){return null!=obj&&obj==obj.window}function isDocument(obj){return null!=obj&&obj.nodeType==obj.DOCUMENT_NODE}function isObject(obj){return"object"==type(obj)}function isPlainObject(obj){return isObject(obj)&&!isWindow(obj)&&Object.getPrototypeOf(obj)==Object.prototype}function likeArray(obj){return"number"==typeof obj.length}function compact(array){return filter.call(array,function(item){return null!=item})}function flatten(array){return array.length>0?$.fn.concat.apply([],array):array}function dasherize(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp("(^|\\s)"+name+"(\\s|$)")}function maybeAddPx(name,value){return"number"!=typeof value||cssNumber[dasherize(name)]?value:value+"px"}function defaultDisplay(nodeName){var element,display;return elementDisplay[nodeName]||(element=document.createElement(nodeName),document.body.appendChild(element),display=getComputedStyle(element,"").getPropertyValue("display"),element.parentNode.removeChild(element),"none"==display&&(display="block"),elementDisplay[nodeName]=display),elementDisplay[nodeName]}function children(element){return"children"in element?slice.call(element.children):$.map(element.childNodes,function(node){if(1==node.nodeType)return node})}function extend(target,source,deep){for(key in source)deep&&(isPlainObject(source[key])||isArray(source[key]))?(isPlainObject(source[key])&&!isPlainObject(target[key])&&(target[key]={}),isArray(source[key])&&!isArray(target[key])&&(target[key]=[]),extend(target[key],source[key],deep)):source[key]!==undefined&&(target[key]=source[key])}function filtered(nodes,selector){return null==selector?$(nodes):$(nodes).filter(selector)}function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}function setAttribute(node,name,value){null==value?node.removeAttribute(name):node.setAttribute(name,value)}function className(node,value){var klass=node.className||"",svg=klass&&klass.baseVal!==undefined;return value===undefined?svg?klass.baseVal:klass:void(svg?klass.baseVal=value:node.className=value)}function deserializeValue(value){try{return value?"true"==value||"false"!=value&&("null"==value?null:+value+""==value?+value:/^[\[\{]/.test(value)?$.parseJSON(value):value):value}catch(e){return value}}function traverseNode(node,fun){fun(node);for(var i=0,len=node.childNodes.length;i<len;i++)traverseNode(node.childNodes[i],fun)}var undefined,key,$,classList,camelize,uniq,emptyArray=[],slice=emptyArray.slice,filter=emptyArray.filter,document=window.document,elementDisplay={},classCache={},cssNumber={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,singleTagRE=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tagExpanderRE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rootNodeRE=/^(?:body|html)$/i,capitalRE=/([A-Z])/g,methodAttributes=["val","css","html","text","data","width","height","offset"],adjacencyOperators=["after","prepend","before","append"],table=document.createElement("table"),tableRow=document.createElement("tr"),containers={tr:document.createElement("tbody"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,"*":document.createElement("div")},readyRE=/complete|loaded|interactive/,simpleSelectorRE=/^[\w-]*$/,class2type={},toString=class2type.toString,zepto={},tempParent=document.createElement("div"),propMap={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},isArray=Array.isArray||function(object){return object instanceof Array};return zepto.matches=function(element,selector){if(!selector||!element||1!==element.nodeType)return!1;var matchesSelector=element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);var match,parent=element.parentNode,temp=!parent;return temp&&(parent=tempParent).appendChild(element),match=~zepto.qsa(parent,selector).indexOf(element),temp&&tempParent.removeChild(element),match},camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})},uniq=function(array){return filter.call(array,function(item,idx){return array.indexOf(item)==idx})},zepto.fragment=function(html,name,properties){var dom,nodes,container;return singleTagRE.test(html)&&(dom=$(document.createElement(RegExp.$1))),dom||(html.replace&&(html=html.replace(tagExpanderRE,"<$1></$2>")),name===undefined&&(name=fragmentRE.test(html)&&RegExp.$1),name in containers||(name="*"),container=containers[name],container.innerHTML=""+html,dom=$.each(slice.call(container.childNodes),function(){container.removeChild(this)})),isPlainObject(properties)&&(nodes=$(dom),$.each(properties,function(key,value){methodAttributes.indexOf(key)>-1?nodes[key](value):nodes.attr(key,value)})),dom},zepto.Z=function(dom,selector){return dom=dom||[],dom.__proto__=$.fn,dom.selector=selector||"",dom},zepto.isZ=function(object){return object instanceof zepto.Z},zepto.init=function(selector,context){var dom;if(!selector)return zepto.Z();if("string"==typeof selector)if(selector=selector.trim(),"<"==selector[0]&&fragmentRE.test(selector))dom=zepto.fragment(selector,RegExp.$1,context),selector=null;else{if(context!==undefined)return $(context).find(selector);dom=zepto.qsa(document,selector)}else{if(isFunction(selector))return $(document).ready(selector);if(zepto.isZ(selector))return selector;if(isArray(selector))dom=compact(selector);else if(isObject(selector))dom=[selector],selector=null;else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1,context),selector=null;else{if(context!==undefined)return $(context).find(selector);dom=zepto.qsa(document,selector)}}return zepto.Z(dom,selector)},$=function(selector,context){return zepto.init(selector,context)},$.extend=function(target){var deep,args=slice.call(arguments,1);return"boolean"==typeof target&&(deep=target,target=args.shift()),args.forEach(function(arg){extend(target,arg,deep)}),target},zepto.qsa=function(element,selector){var found,maybeID="#"==selector[0],maybeClass=!maybeID&&"."==selector[0],nameOnly=maybeID||maybeClass?selector.slice(1):selector,isSimple=simpleSelectorRE.test(nameOnly);return isDocument(element)&&isSimple&&maybeID?(found=element.getElementById(nameOnly))?[found]:[]:1!==element.nodeType&&9!==element.nodeType?[]:slice.call(isSimple&&!maybeID?maybeClass?element.getElementsByClassName(nameOnly):element.getElementsByTagName(selector):element.querySelectorAll(selector))},$.contains=document.documentElement.contains?function(parent,node){return parent!==node&&parent.contains(node)}:function(parent,node){for(;node&&(node=node.parentNode);)if(node===parent)return!0;return!1},$.type=type,$.isFunction=isFunction,$.isWindow=isWindow,$.isArray=isArray,$.isPlainObject=isPlainObject,$.isEmptyObject=function(obj){var name;for(name in obj)return!1;return!0},$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)},$.camelCase=camelize,$.trim=function(str){return null==str?"":String.prototype.trim.call(str)},$.uuid=0,$.support={},$.expr={},$.map=function(elements,callback){var value,i,key,values=[];if(likeArray(elements))for(i=0;i<elements.length;i++)value=callback(elements[i],i),null!=value&&values.push(value);else for(key in elements)value=callback(elements[key],key),null!=value&&values.push(value);return flatten(values)},$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++)if(callback.call(elements[i],i,elements[i])===!1)return elements}else for(key in elements)if(callback.call(elements[key],key,elements[key])===!1)return elements;return elements},$.grep=function(elements,callback){return filter.call(elements,callback)},window.JSON&&($.parseJSON=JSON.parse),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),$.fn={forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,sort:emptyArray.sort,indexOf:emptyArray.indexOf,concat:emptyArray.concat,map:function(fn){return $($.map(this,function(el,i){return fn.call(el,i,el)}))},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){return readyRE.test(document.readyState)&&document.body?callback($):document.addEventListener("DOMContentLoaded",function(){callback($)},!1),this},get:function(idx){return idx===undefined?slice.call(this):this[idx>=0?idx:idx+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(callback){return emptyArray.every.call(this,function(el,idx){return callback.call(el,idx,el)!==!1}),this},filter:function(selector){return isFunction(selector)?this.not(this.not(selector)):$(filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return this.length>0&&zepto.matches(this[0],selector)},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){selector.call(this,idx)||nodes.push(this)});else{var excludes="string"==typeof selector?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?slice.call(selector):$(selector);this.forEach(function(el){excludes.indexOf(el)<0&&nodes.push(el)})}return $(nodes)},has:function(selector){return this.filter(function(){return isObject(selector)?$.contains(this,selector):$(this).find(selector).size()})},eq:function(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result,$this=this;return result=selector?"object"==typeof selector?$(selector).filter(function(){var node=this;return emptyArray.some.call($this,function(parent){return $.contains(parent,node)})}):1==this.length?$(zepto.qsa(this[0],selector)):this.map(function(){return zepto.qsa(this,selector)}):$()},closest:function(selector,context){var node=this[0],collection=!1;for("object"==typeof selector&&(collection=$(selector));node&&!(collection?collection.indexOf(node)>=0:zepto.matches(node,selector));)node=node!==context&&!isDocument(node)&&node.parentNode;return $(node)},parents:function(selector){for(var ancestors=[],nodes=this;nodes.length>0;)nodes=$.map(nodes,function(node){if((node=node.parentNode)&&!isDocument(node)&&ancestors.indexOf(node)<0)return ancestors.push(node),node});return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck("parentNode")),selector)},children:function(selector){return filtered(this.map(function(){return children(this)}),selector)},contents:function(){return this.map(function(){return slice.call(this.childNodes)})},siblings:function(selector){return filtered(this.map(function(i,el){return filter.call(children(el.parentNode),function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(property){return $.map(this,function(el){return el[property]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=defaultDisplay(this.nodeName))})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(structure){var func=isFunction(structure);if(this[0]&&!func)var dom=$(structure).get(0),clone=dom.parentNode||this.length>1;return this.each(function(index){$(this).wrapAll(func?structure.call(this,index):clone?dom.cloneNode(!0):dom)})},wrapAll:function(structure){if(this[0]){$(this[0]).before(structure=$(structure));for(var children;(children=structure.children()).length;)structure=children.first();$(structure).append(this)}return this},wrapInner:function(structure){var func=isFunction(structure);return this.each(function(index){var self=$(this),contents=self.contents(),dom=func?structure.call(this,index):structure;contents.length?contents.wrapAll(dom):self.append(dom)})},unwrap:function(){return this.parent().each(function(){$(this).replaceWith($(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(setting){return this.each(function(){var el=$(this);(setting===undefined?"none"==el.css("display"):setting)?el.show():el.hide()})},prev:function(selector){return $(this.pluck("previousElementSibling")).filter(selector||"*")},next:function(selector){return $(this.pluck("nextElementSibling")).filter(selector||"*")},html:function(html){return 0 in arguments?this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))}):0 in this?this[0].innerHTML:null},text:function(text){return 0 in arguments?this.each(function(idx){var newText=funcArg(this,text,idx,this.textContent);this.textContent=null==newText?"":""+newText}):0 in this?this[0].textContent:null},attr:function(name,value){var result;return"string"!=typeof name||1 in arguments?this.each(function(idx){if(1===this.nodeType)if(isObject(name))for(key in name)setAttribute(this,key,name[key]);else setAttribute(this,name,funcArg(this,value,idx,this.getAttribute(name)))}):this.length&&1===this[0].nodeType?!(result=this[0].getAttribute(name))&&name in this[0]?this[0][name]:result:undefined},removeAttr:function(name){return this.each(function(){1===this.nodeType&&name.split(" ").forEach(function(attribute){setAttribute(this,attribute)},this)})},prop:function(name,value){return name=propMap[name]||name,1 in arguments?this.each(function(idx){this[name]=funcArg(this,value,idx,this[name])}):this[0]&&this[0][name]},data:function(name,value){var attrName="data-"+name.replace(capitalRE,"-$1").toLowerCase(),data=1 in arguments?this.attr(attrName,value):this.attr(attrName);return null!==data?deserializeValue(data):undefined},val:function(value){return 0 in arguments?this.each(function(idx){this.value=funcArg(this,value,idx,this.value)}):this[0]&&(this[0].multiple?$(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(coordinates){if(coordinates)return this.each(function(index){var $this=$(this),coords=funcArg(this,coordinates,index,$this.offset()),parentOffset=$this.offsetParent().offset(),props={top:coords.top-parentOffset.top,left:coords.left-parentOffset.left};"static"==$this.css("position")&&(props.position="relative"),$this.css(props)});if(!this.length)return null;var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:Math.round(obj.width),height:Math.round(obj.height)}},css:function(property,value){if(arguments.length<2){var computedStyle,element=this[0];if(!element)return;if(computedStyle=getComputedStyle(element,""),"string"==typeof property)return element.style[camelize(property)]||computedStyle.getPropertyValue(property);if(isArray(property)){var props={};return $.each(property,function(_,prop){props[prop]=element.style[camelize(prop)]||computedStyle.getPropertyValue(prop)}),props}}var css="";if("string"==type(property))value||0===value?css=dasherize(property)+":"+maybeAddPx(property,value):this.each(function(){this.style.removeProperty(dasherize(property))});else for(key in property)property[key]||0===property[key]?css+=dasherize(key)+":"+maybeAddPx(key,property[key])+";":this.each(function(){this.style.removeProperty(dasherize(key))});return this.each(function(){this.style.cssText+=";"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){return!!name&&emptyArray.some.call(this,function(el){return this.test(className(el))},classRE(name))},addClass:function(name){return name?this.each(function(idx){if("className"in this){classList=[];var cls=className(this),newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){$(this).hasClass(klass)||classList.push(klass)},this),classList.length&&className(this,cls+(cls?" ":"")+classList.join(" "))}}):this},removeClass:function(name){return this.each(function(idx){if("className"in this){if(name===undefined)return className(this,"");classList=className(this),funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ")}),className(this,classList.trim())}})},toggleClass:function(name,when){return name?this.each(function(idx){var $this=$(this),names=funcArg(this,name,idx,className(this));names.split(/\s+/g).forEach(function(klass){(when===undefined?!$this.hasClass(klass):when)?$this.addClass(klass):$this.removeClass(klass)})}):this},scrollTop:function(value){if(this.length){var hasScrollTop="scrollTop"in this[0];return value===undefined?hasScrollTop?this[0].scrollTop:this[0].pageYOffset:this.each(hasScrollTop?function(){this.scrollTop=value}:function(){this.scrollTo(this.scrollX,value)})}},scrollLeft:function(value){if(this.length){var hasScrollLeft="scrollLeft"in this[0];return value===undefined?hasScrollLeft?this[0].scrollLeft:this[0].pageXOffset:this.each(hasScrollLeft?function(){this.scrollLeft=value}:function(){this.scrollTo(value,this.scrollY)})}},position:function(){if(this.length){var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rootNodeRE.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();return offset.top-=parseFloat($(elem).css("margin-top"))||0,offset.left-=parseFloat($(elem).css("margin-left"))||0,parentOffset.top+=parseFloat($(offsetParent[0]).css("border-top-width"))||0,parentOffset.left+=parseFloat($(offsetParent[0]).css("border-left-width"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}},offsetParent:function(){return this.map(function(){for(var parent=this.offsetParent||document.body;parent&&!rootNodeRE.test(parent.nodeName)&&"static"==$(parent).css("position");)parent=parent.offsetParent;return parent})}},$.fn.detach=$.fn.remove,["width","height"].forEach(function(dimension){var dimensionProperty=dimension.replace(/./,function(m){return m[0].toUpperCase()});$.fn[dimension]=function(value){var offset,el=this[0];return value===undefined?isWindow(el)?el["inner"+dimensionProperty]:isDocument(el)?el.documentElement["scroll"+dimensionProperty]:(offset=this.offset())&&offset[dimension]:this.each(function(idx){el=$(this),el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}}),adjacencyOperators.forEach(function(operator,operatorIndex){var inside=operatorIndex%2;$.fn[operator]=function(){var argType,parent,nodes=$.map(arguments,function(arg){return argType=type(arg),"object"==argType||"array"==argType||null==arg?arg:zepto.fragment(arg)}),copyByClone=this.length>1;return nodes.length<1?this:this.each(function(_,target){parent=inside?target:target.parentNode,target=0==operatorIndex?target.nextSibling:1==operatorIndex?target.firstChild:2==operatorIndex?target:null;var parentInDocument=$.contains(document.documentElement,parent);nodes.forEach(function(node){if(copyByClone)node=node.cloneNode(!0);else if(!parent)return $(node).remove();parent.insertBefore(node,target),parentInDocument&&traverseNode(node,function(el){null==el.nodeName||"SCRIPT"!==el.nodeName.toUpperCase()||el.type&&"text/javascript"!==el.type||el.src||window.eval.call(window,el.innerHTML)})})})},$.fn[inside?operator+"To":"insert"+(operatorIndex?"Before":"After")]=function(html){return $(html)[operator](this),this}}),zepto.Z.prototype=$.fn,zepto.uniq=uniq,zepto.deserializeValue=deserializeValue,$.zepto=zepto,$}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function($){function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){if(event=parse(event),event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(""+event).split(".");return{e:parts[0],ns:parts.slice(1).sort().join(" ")}}function matcherFor(ns){return new RegExp("(?:^| )"+ns.replace(" "," .* ?")+"(?: |$)")}function eventCapture(handler,captureSetting){return handler.del&&!focusinSupported&&handler.e in focus||!!captureSetting}function realEvent(type){return hover[type]||focusinSupported&&focus[type]||type}function add(element,events,fn,data,selector,delegator,capture){var id=zid(element),set=handlers[id]||(handlers[id]=[]);events.split(/\s/).forEach(function(event){if("ready"==event)return $(document).ready(fn);var handler=parse(event);handler.fn=fn,handler.sel=selector,handler.e in hover&&(fn=function(e){var related=e.relatedTarget;if(!related||related!==this&&!$.contains(this,related))return handler.fn.apply(this,arguments)}),handler.del=delegator;var callback=delegator||fn;handler.proxy=function(e){if(e=compatible(e),!e.isImmediatePropagationStopped()){e.data=data;var result=callback.apply(element,e._args==undefined?[e]:[e].concat(e._args));return result===!1&&(e.preventDefault(),e.stopPropagation()),result}},handler.i=set.length,set.push(handler),"addEventListener"in element&&element.addEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})}function remove(element,events,fn,selector,capture){var id=zid(element);(events||"").split(/\s/).forEach(function(event){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i],"removeEventListener"in element&&element.removeEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})})}function compatible(event,source){return!source&&event.isDefaultPrevented||(source||(source=event),$.each(eventMethods,function(name,predicate){var sourceMethod=source[name];event[name]=function(){return this[predicate]=returnTrue,sourceMethod&&sourceMethod.apply(source,arguments)},event[predicate]=returnFalse}),(source.defaultPrevented!==undefined?source.defaultPrevented:"returnValue"in source?source.returnValue===!1:source.getPreventDefault&&source.getPreventDefault())&&(event.isDefaultPrevented=returnTrue)),event}function createProxy(event){var key,proxy={originalEvent:event};for(key in event)ignoreProperties.test(key)||event[key]===undefined||(proxy[key]=event[key]);return compatible(proxy,event)}var undefined,_zid=1,slice=Array.prototype.slice,isFunction=$.isFunction,isString=function(obj){return"string"==typeof obj},handlers={},specialEvents={},focusinSupported="onfocusin"in window,focus={focus:"focusin",blur:"focusout"},hover={mouseenter:"mouseover",mouseleave:"mouseout"};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove="MouseEvents",$.event={add:add,remove:remove},$.proxy=function(fn,context){var args=2 in arguments&&slice.call(arguments,2);if(isFunction(fn)){var proxyFn=function(){return fn.apply(context,args?args.concat(slice.call(arguments)):arguments)};return proxyFn._zid=zid(fn),proxyFn}if(isString(context))return args?(args.unshift(fn[context],fn),$.proxy.apply(null,args)):$.proxy(fn[context],fn);throw new TypeError("expected function")},$.fn.bind=function(event,data,callback){return this.on(event,data,callback)},$.fn.unbind=function(event,callback){return this.off(event,callback)},$.fn.one=function(event,selector,data,callback){return this.on(event,selector,data,callback,1)};var returnTrue=function(){
return!0},returnFalse=function(){return!1},ignoreProperties=/^([A-Z]|returnValue$|layer[XY]$)/,eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};$.fn.delegate=function(selector,event,callback){return this.on(event,selector,callback)},$.fn.undelegate=function(selector,event,callback){return this.off(event,selector,callback)},$.fn.live=function(event,callback){return $(document.body).delegate(this.selector,event,callback),this},$.fn.die=function(event,callback){return $(document.body).undelegate(this.selector,event,callback),this},$.fn.on=function(event,selector,data,callback,one){var autoRemove,delegator,$this=this;return event&&!isString(event)?($.each(event,function(type,fn){$this.on(type,selector,data,fn,one)}),$this):(isString(selector)||isFunction(callback)||callback===!1||(callback=data,data=selector,selector=undefined),(isFunction(data)||data===!1)&&(callback=data,data=undefined),callback===!1&&(callback=returnFalse),$this.each(function(_,element){one&&(autoRemove=function(e){return remove(element,e.type,callback),callback.apply(this,arguments)}),selector&&(delegator=function(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match&&match!==element)return evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element}),(autoRemove||callback).apply(match,[evt].concat(slice.call(arguments,1)))}),add(element,event,callback,data,selector,delegator||autoRemove)}))},$.fn.off=function(event,selector,callback){var $this=this;return event&&!isString(event)?($.each(event,function(type,fn){$this.off(type,selector,fn)}),$this):(isString(selector)||isFunction(callback)||callback===!1||(callback=selector,selector=undefined),callback===!1&&(callback=returnFalse),$this.each(function(){remove(this,event,callback,selector)}))},$.fn.trigger=function(event,args){return event=isString(event)||$.isPlainObject(event)?$.Event(event):compatible(event),event._args=args,this.each(function(){event.type in focus&&"function"==typeof this[event.type]?this[event.type]():"dispatchEvent"in this?this.dispatchEvent(event):$(this).triggerHandler(event,args)})},$.fn.triggerHandler=function(event,args){var e,result;return this.each(function(i,element){e=createProxy(isString(event)?$.Event(event):event),e._args=args,e.target=element,$.each(findHandlers(element,event.type||event),function(i,handler){if(result=handler.proxy(e),e.isImmediatePropagationStopped())return!1})}),result},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(event){$.fn[event]=function(callback){return 0 in arguments?this.bind(event,callback):this.trigger(event)}}),$.Event=function(type,props){isString(type)||(props=type,type=props.type);var event=document.createEvent(specialEvents[type]||"Events"),bubbles=!0;if(props)for(var name in props)"bubbles"==name?bubbles=!!props[name]:event[name]=props[name];return event.initEvent(type,bubbles,!0),compatible(event)}}(Zepto),function($){function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);return $(context).trigger(event,data),!event.isDefaultPrevented()}function triggerGlobal(settings,context,eventName,data){if(settings.global)return triggerAndReturn(context||document,eventName,data)}function ajaxStart(settings){settings.global&&0===$.active++&&triggerGlobal(settings,null,"ajaxStart")}function ajaxStop(settings){settings.global&&!--$.active&&triggerGlobal(settings,null,"ajaxStop")}function ajaxBeforeSend(xhr,settings){var context=settings.context;return settings.beforeSend.call(context,xhr,settings)!==!1&&triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])!==!1&&void triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status="success";settings.success.call(context,data,status,xhr),deferred&&deferred.resolveWith(context,[data,status,xhr]),triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]),ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error),deferred&&deferred.rejectWith(context,[xhr,type,error]),triggerGlobal(settings,context,"ajaxError",[xhr,settings,error||type]),ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status),triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]),ajaxStop(settings)}function empty(){}function mimeToDataType(mime){return mime&&(mime=mime.split(";",2)[0]),mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){return""==query?url:(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){options.processData&&options.data&&"string"!=$.type(options.data)&&(options.data=$.param(options.data,options.traditional)),!options.data||options.type&&"GET"!=options.type.toUpperCase()||(options.url=appendQuery(options.url,options.data),options.data=void 0)}function parseArguments(url,data,success,dataType){return $.isFunction(data)&&(dataType=success,success=data,data=void 0),$.isFunction(success)||(dataType=success,success=void 0),{url:url,data:data,success:success,dataType:dataType}}function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value),scope&&(key=traditional?scope:scope+"["+(hash||"object"==type||"array"==type?key:"")+"]"),!scope&&array?params.add(value.name,value.value):"array"==type||!traditional&&"object"==type?serialize(params,value,traditional,key):params.add(key,value)})}var key,name,jsonpID=0,document=window.document,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,originAnchor=document.createElement("a");originAnchor.href=window.location.href,$.active=0,$.ajaxJSONP=function(options,deferred){if(!("type"in options))return $.ajax(options);var responseData,abortTimeout,_callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||"jsonp"+ ++jsonpID,script=document.createElement("script"),originalCallback=window[callbackName],abort=function(errorType){$(script).triggerHandler("error",errorType||"abort")},xhr={abort:abort};return deferred&&deferred.promise(xhr),$(script).on("load error",function(e,errorType){clearTimeout(abortTimeout),$(script).off().remove(),"error"!=e.type&&responseData?ajaxSuccess(responseData[0],xhr,options,deferred):ajaxError(null,errorType||"error",xhr,options,deferred),window[callbackName]=originalCallback,responseData&&$.isFunction(originalCallback)&&originalCallback(responseData[0]),originalCallback=responseData=void 0}),ajaxBeforeSend(xhr,options)===!1?(abort("abort"),xhr):(window[callbackName]=function(){responseData=arguments},script.src=options.url.replace(/\?(.+)=\?/,"?$1="+callbackName),document.head.appendChild(script),options.timeout>0&&(abortTimeout=setTimeout(function(){abort("timeout")},options.timeout)),xhr)},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},$.ajax=function(options){var urlAnchor,settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred();for(key in $.ajaxSettings)void 0===settings[key]&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(urlAnchor=document.createElement("a"),urlAnchor.href=settings.url,urlAnchor.href=urlAnchor.href,settings.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host),settings.url||(settings.url=window.location.toString()),serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder&&(dataType="jsonp"),settings.cache!==!1&&(options&&options.cache===!0||"script"!=dataType&&"jsonp"!=dataType)||(settings.url=appendQuery(settings.url,"_="+Date.now())),"jsonp"==dataType)return hasPlaceholder||(settings.url=appendQuery(settings.url,settings.jsonp?settings.jsonp+"=?":settings.jsonp===!1?"":"callback=?")),$.ajaxJSONP(settings,deferred);var abortTimeout,mime=settings.accepts[dataType],headers={},setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader;if(deferred&&deferred.promise(xhr),settings.crossDomain||setHeader("X-Requested-With","XMLHttpRequest"),setHeader("Accept",mime||"*/*"),(mime=settings.mimeType||mime)&&(mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime)),(settings.contentType||settings.contentType!==!1&&settings.data&&"GET"!=settings.type.toUpperCase())&&setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded"),settings.headers)for(name in settings.headers)setHeader(name,settings.headers[name]);if(xhr.setRequestHeader=setHeader,xhr.onreadystatechange=function(){if(4==xhr.readyState){xhr.onreadystatechange=empty,clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||304==xhr.status||0==xhr.status&&"file:"==protocol){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type")),result=xhr.responseText;try{"script"==dataType?(0,eval)(result):"xml"==dataType?result=xhr.responseXML:"json"==dataType&&(result=blankRE.test(result)?null:$.parseJSON(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings,deferred):ajaxSuccess(result,xhr,settings,deferred)}else ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}},ajaxBeforeSend(xhr,settings)===!1)return xhr.abort(),ajaxError(null,"abort",xhr,settings,deferred),xhr;if(settings.xhrFields)for(name in settings.xhrFields)xhr[name]=settings.xhrFields[name];var async=!("async"in settings)||settings.async;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers)nativeSetHeader.apply(xhr,headers[name]);return settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr},$.get=function(){return $.ajax(parseArguments.apply(null,arguments))},$.post=function(){var options=parseArguments.apply(null,arguments);return options.type="POST",$.ajax(options)},$.getJSON=function(){var options=parseArguments.apply(null,arguments);return options.dataType="json",$.ajax(options)},$.fn.load=function(url,data,success){if(!this.length)return this;var selector,self=this,parts=url.split(/\s/),options=parseArguments(url,data,success),callback=options.success;return parts.length>1&&(options.url=parts[0],selector=parts[1]),options.success=function(response){self.html(selector?$("<div>").html(response.replace(rscript,"")).find(selector):response),callback&&callback.apply(self,arguments)},$.ajax(options),this};var escape=encodeURIComponent;$.param=function(obj,traditional){var params=[];return params.add=function(key,value){$.isFunction(value)&&(value=value()),null==value&&(value=""),this.push(escape(key)+"="+escape(value))},serialize(params,obj,traditional),params.join("&").replace(/%20/g,"+")}}(Zepto),function($){$.fn.serializeArray=function(){var name,type,result=[],add=function(value){return value.forEach?value.forEach(add):void result.push({name:name,value:value})};return this[0]&&$.each(this[0].elements,function(_,field){type=field.type,name=field.name,name&&"fieldset"!=field.nodeName.toLowerCase()&&!field.disabled&&"submit"!=type&&"reset"!=type&&"button"!=type&&"file"!=type&&("radio"!=type&&"checkbox"!=type||field.checked)&&add($(field).val())}),result},$.fn.serialize=function(){var result=[];return this.serializeArray().forEach(function(elm){result.push(encodeURIComponent(elm.name)+"="+encodeURIComponent(elm.value))}),result.join("&")},$.fn.submit=function(callback){if(0 in arguments)this.bind("submit",callback);else if(this.length){var event=$.Event("submit");this.eq(0).trigger(event),event.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function($){"__proto__"in{}||$.extend($.zepto,{Z:function(dom,selector){return dom=dom||[],$.extend(dom,$.fn),dom.selector=selector||"",dom.__Z=!0,dom},isZ:function(object){return"array"===$.type(object)&&"__Z"in object}});try{getComputedStyle(void 0)}catch(e){var nativeGetComputedStyle=getComputedStyle;window.getComputedStyle=function(element){try{return nativeGetComputedStyle(element)}catch(e){return null}}}}(Zepto),module.exports=Zepto}),define("xg/jx-business/1.0.0/c/js/base/dragloader",[],function(require,exports,module){!function(window){var document=window.document,navigator=window.navigator,msPointerEnabled=navigator.msPointerEnabled,TOUCH_EVENTS={start:msPointerEnabled?"MSPointerDown":"touchstart",move:msPointerEnabled?"MSPointerMove":"touchmove",end:msPointerEnabled?"MSPointerUp":"touchend"},dummyStyle=document.createElement("div").style,vendor=function(){for(var t,vendors="t,webkitT,MozT,msT,OT".split(","),i=0,l=vendors.length;i<l;i++)if(t=vendors[i]+"ransform",t in dummyStyle)return vendors[i].substr(0,vendors[i].length-1);return!1}(),prefixStyle=function(style){return""===vendor?style:(style=style.charAt(0).toUpperCase()+style.substr(1),vendor+style)},transition=prefixStyle("transition"),transitionEndEvent=function(){return"webkit"==vendor||"O"===vendor?vendor.toLowerCase()+"TransitionEnd":"transitionend"}(),listenTransition=function(target,duration,callbackFn){var me=this,clear=function(){target.transitionTimer&&clearTimeout(target.transitionTimer),target.transitionTimer=null,target.removeEventListener(transitionEndEvent,handler,!1)},handler=function(){clear(),callbackFn&&callbackFn.call(me)};clear(),target.addEventListener(transitionEndEvent,handler,!1),target.transitionTimer=setTimeout(handler,duration+100)},DragLoader=function(el,options){this.ct=el?"string"==typeof el?document.querySelector(el):el:document.body,options=options||{},this.options=options,"undefined"==typeof options.threshold&&(options.threshold=80),"undefined"==typeof options.dragDownThreshold&&(options.dragDownThreshold=options.threshold),"undefined"==typeof options.dragUpThreshold&&(options.dragUpThreshold=options.threshold),this._events={},this._draggable=!0,this.ct.addEventListener(TOUCH_EVENTS.start,this,!1)};DragLoader.prototype={STATUS:{"default":"default",prepare:"prepare",load:"load"},_createDragDownRegion:function(){return this._removeDragDownRegion(),this.header=document.createElement("div"),this.header.style.cssText="position:relative;top:0;left:0;margin:0;padding:0;overflow:hidden;width:100%;height:0px;",this.header.className=this.options.dragDownRegionCls||"",this._touchCoords.status=this._processStatus("down",0,null,!0),this.ct.insertBefore(this.header,this.ct.children[0]),this.header},_removeDragDownRegion:function(){this.header&&(this.ct.removeChild(this.header),this.header=null)},_createDragUpRegion:function(){return this._removeDragUpRegion(),this.footer=document.createElement("div"),this.footer.style.cssText="position:relative;bottom:0;left:0;margin:0;padding:0;overflow:hidden;width:100%;height:0px;",this.footer.className=this.options.dragUpRegionCls||"",this._touchCoords.status=this._processStatus("up",0,null,!0),this.ct.appendChild(this.footer),this.footer},_removeDragUpRegion:function(){this.footer&&(this.ct.removeChild(this.footer),this.footer=null)},_processDragDownHelper:function(status){var options=this.options,helper=options.dragDownHelper;!options.preventDragHelper&&helper&&(this.header.innerHTML=helper.call(this,status))},_processDragUpHelper:function(status){var options=this.options,helper=options.dragUpHelper;!options.preventDragHelper&&helper&&(this.footer.innerHTML=helper.call(this,status))},_processStatus:function(orient,offsetY,currentStatus,moved){var overflow,upperStr,options=this.options,STATUS=this.STATUS,nextStatus=currentStatus;return orient&&(upperStr=orient.charAt(0).toUpperCase()+orient.substr(1),overflow=offsetY>options["drag"+upperStr+"Threshold"],overflow||currentStatus==STATUS["default"]?moved&&overflow&&currentStatus!=STATUS.prepare?(this["_processDrag"+upperStr+"Helper"].call(this,STATUS.prepare),this._fireEvent("drag"+upperStr+"Prepare"),nextStatus=STATUS.prepare):!moved&&overflow&&currentStatus!=STATUS.load&&(this["_processDrag"+upperStr+"Helper"].call(this,STATUS.load),this._fireEvent("drag"+upperStr+"Load"),nextStatus=STATUS.load):(this["_processDrag"+upperStr+"Helper"].call(this,STATUS["default"]),this._fireEvent("drag"+upperStr+"Default"),nextStatus=STATUS["default"])),nextStatus},_onTouchStrat:function(e){this.ct.removeEventListener(TOUCH_EVENTS.move,this,!1),this.ct.removeEventListener(TOUCH_EVENTS.end,this,!1);var body=document.body,startScrollY=this.ct===body?window.pageYOffset||window.scrollY||document.documentElement.scrollTop:this.ct.scrollTop;!this._draggable||this.options.disableDragDown===!0&&this.options.disableDragUp===!0||this._fireEvent("beforeDrag")===!1||(this._draggable=!1,this.ct.addEventListener(TOUCH_EVENTS.move,this,!1),this.ct.addEventListener(TOUCH_EVENTS.end,this,!1),this._touchCoords={},this._touchCoords.startY=msPointerEnabled?e.screenY:e.touches[0].screenY,this._touchCoords.startScrollY=startScrollY)},_onTouchMove:function(e){var offsetY,overY,ct=this.ct,header=this.header,footer=this.footer,options=this.options,innerHeight=window.innerHeight,ctHeight=ct.scrollHeight,coords=this._touchCoords,startScrollY=coords.startScrollY,blockY=coords.blockY,startY=coords.startY,stopY=msPointerEnabled?e.screenY:e.touches[0].screenY;"undefined"==typeof coords.canDragDown&&(coords.canDragDown=options.disableDragDown!==!0&&startY<stopY&&startScrollY<=0),"undefined"==typeof coords.canDragUp&&(coords.canDragUp=options.disableDragUp!==!0&&startY>stopY&&startScrollY+innerHeight>=ctHeight),coords.canDragDown&&coords.dragUp!==!0&&(coords.dragDown||startY-stopY+startScrollY<0)?(e.preventDefault(),coords.dragDown=!0,header||(header=this._createDragDownRegion()),"undefined"==typeof blockY&&(coords.blockY=blockY=stopY),offsetY=stopY-blockY,offsetY=offsetY>0?offsetY:0,overY=offsetY-options.dragDownThreshold,overY>100?offsetY=options.dragDownThreshold+75+.25*(overY-100):overY>50&&(offsetY=options.dragDownThreshold+50+.5*(overY-50)),header.style.height=offsetY+"px",coords.status=this._processStatus("down",offsetY,coords.status,!0)):coords.canDragUp&&coords.dragDown!==!0&&(coords.dragUp||startY-stopY+startScrollY+innerHeight>ctHeight)?(e.preventDefault(),coords.dragUp=!0,footer||(footer=this._createDragUpRegion()),"undefined"==typeof blockY&&(coords.blockY=blockY=stopY),offsetY=blockY-stopY,offsetY=offsetY>0?offsetY:0,overY=offsetY-options.dragUpThreshold,overY>100?offsetY=options.dragUpThreshold+75+.2*(overY-100):overY>50&&(offsetY=options.dragUpThreshold+50+.5*(overY-50)),ct.scrollTop=startScrollY+offsetY,footer.style.height=offsetY+"px",coords.status=this._processStatus("up",offsetY,coords.status,!0)):coords.blockY=stopY},_onTouchEnd:function(e){this.ct.removeEventListener(TOUCH_EVENTS.move,this,!1),this.ct.removeEventListener(TOUCH_EVENTS.end,this,!1),this._translate()},_translate:function(){var orient,target,targetHeight,adjustHeight,duration,upperStr,threshold,me=this,options=me.options,coords=me._touchCoords,maxDuration=200,endFn=function(){coords.status=me._processStatus(orient,targetHeight,coords.status,!1),orient&&coords.status===me.STATUS.load?"down"==orient?me._removeDragUpRegion():"up"==orient&&me._removeDragDownRegion():(me._removeDragDownRegion(),me._removeDragUpRegion(),me._touchCoords=null,me._draggable=!0)};coords&&(orient=coords.dragDown?"down":coords.dragUp?"up":null,orient?(target="down"==orient?me.header:me.footer,targetHeight=target.offsetHeight,upperStr=orient.charAt(0).toUpperCase()+orient.substr(1),threshold=options["drag"+upperStr+"Threshold"],adjustHeight=!options.preventDragHelper&&targetHeight>threshold?threshold:0,duration=Math.ceil((targetHeight-adjustHeight)/threshold*maxDuration),duration=duration>maxDuration?maxDuration:duration,listenTransition(target,duration,endFn),target.style[transition]="height "+duration+"ms",setTimeout(function(){target.style.height=adjustHeight+"px"},0)):endFn())},reset:function(){this._translate()},on:function(type,fn){this._events[type]||(this._events[type]=[]),this._events[type].push(fn)},off:function(type,fn){this._events[type]&&this._events[type].every(function(cb,i){if(cb===fn)return this._events[type].splice(i,1),!1})},_fireEvent:function(type,args){var ret,me=this;return me._events[type]&&me._events[type].forEach(function(fn){ret=fn.apply(me,args||[])}),ret},setDragDownDisabled:function(disabled){this.options.disableDragDown=disabled},setDragUpDisabled:function(disabled){this.options.disableDragUp=disabled},handleEvent:function(e){switch(e.type){case TOUCH_EVENTS.start:this._onTouchStrat(e);break;case TOUCH_EVENTS.move:this._onTouchMove(e);break;case TOUCH_EVENTS.end:this._onTouchEnd(e)}},destroy:function(){this.destroyed||(this.destroyed=!0,this._removeDragDownRegion(),this._removeDragUpRegion(),this.ct.removeEventListener(TOUCH_EVENTS.start,this,!1),this.ct.removeEventListener(TOUCH_EVENTS.move,this,!1),this.ct.removeEventListener(TOUCH_EVENTS.end,this,!1),this.ct=null)}},dummyStyle=null,window.DragLoader=DragLoader}(window)}),define("xg/jx-business/1.0.0/c/js/base/zepto.touch",[],function(require,exports,module){!function($){function swipeDirection(x1,x2,y1,y2){return Math.abs(x1-x2)>=Math.abs(y1-y2)?x1-x2>0?"Left":"Right":y1-y2>0?"Up":"Down"}function longTap(){longTapTimeout=null,touch.last&&(touch.el.trigger("longTap"),touch={})}function cancelLongTap(){longTapTimeout&&clearTimeout(longTapTimeout),longTapTimeout=null}function cancelAll(){touchTimeout&&clearTimeout(touchTimeout),tapTimeout&&clearTimeout(tapTimeout),swipeTimeout&&clearTimeout(swipeTimeout),longTapTimeout&&clearTimeout(longTapTimeout),touchTimeout=tapTimeout=swipeTimeout=longTapTimeout=null,touch={}}function isPrimaryTouch(event){return("touch"==event.pointerType||event.pointerType==event.MSPOINTER_TYPE_TOUCH)&&event.isPrimary}function isPointerEventType(e,type){return e.type=="pointer"+type||e.type.toLowerCase()=="mspointer"+type}var touchTimeout,tapTimeout,swipeTimeout,longTapTimeout,gesture,touch={},longTapDelay=750;$(document).ready(function(){var now,delta,firstTouch,_isPointerType,deltaX=0,deltaY=0;"MSGesture"in window&&(gesture=new MSGesture,gesture.target=document.body),$(document).bind("MSGestureEnd",function(e){var swipeDirectionFromVelocity=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;swipeDirectionFromVelocity&&(touch.el.trigger("swipe"),touch.el.trigger("swipe"+swipeDirectionFromVelocity))}).on("touchstart MSPointerDown pointerdown",function(e){(_isPointerType=isPointerEventType(e,"down"))&&!isPrimaryTouch(e)||(firstTouch=_isPointerType?e:e.touches[0],e.touches&&1===e.touches.length&&touch.x2&&(touch.x2=void 0,touch.y2=void 0),now=Date.now(),delta=now-(touch.last||now),touch.el=$("tagName"in firstTouch.target?firstTouch.target:firstTouch.target.parentNode),touchTimeout&&clearTimeout(touchTimeout),touch.x1=firstTouch.pageX,touch.y1=firstTouch.pageY,delta>0&&delta<=250&&(touch.isDoubleTap=!0),touch.last=now,longTapTimeout=setTimeout(longTap,longTapDelay),gesture&&_isPointerType&&gesture.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(_isPointerType=isPointerEventType(e,"move"))&&!isPrimaryTouch(e)||(firstTouch=_isPointerType?e:e.touches[0],cancelLongTap(),touch.x2=firstTouch.pageX,touch.y2=firstTouch.pageY,deltaX+=Math.abs(touch.x1-touch.x2),deltaY+=Math.abs(touch.y1-touch.y2))}).on("touchend MSPointerUp pointerup",function(e){(_isPointerType=isPointerEventType(e,"up"))&&!isPrimaryTouch(e)||(cancelLongTap(),touch.x2&&Math.abs(touch.x1-touch.x2)>30||touch.y2&&Math.abs(touch.y1-touch.y2)>30?swipeTimeout=setTimeout(function(){touch.el.trigger("swipe"),touch.el.trigger("swipe"+swipeDirection(touch.x1,touch.x2,touch.y1,touch.y2)),touch={}},0):"last"in touch&&(deltaX<30&&deltaY<30?tapTimeout=setTimeout(function(){var event=$.Event("tap");event.cancelTouch=cancelAll,touch.el.trigger(event),touch.isDoubleTap?(touch.el&&touch.el.trigger("doubleTap"),touch={}):touchTimeout=setTimeout(function(){touchTimeout=null,touch.el&&touch.el.trigger("singleTap"),touch={}},250)},0):touch={}),deltaX=deltaY=0)}).on("touchcancel MSPointerCancel pointercancel",cancelAll),$(window).on("scroll",cancelAll)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(eventName){$.fn[eventName]=function(callback){return this.on(eventName,callback)}})}(Zepto)}),define("xg/jx-business/1.0.0/c/js/base/zepto.deferred",[],function(require,exports,module){!function($){function Deferred(func){var tuples=[["resolve","done",$.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",$.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",$.Callbacks({memory:1})]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return Deferred(function(defer){$.each(tuples,function(i,tuple){var fn=$.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&$.isFunction(returned.promise))returned.promise().done(defer.resolve).fail(defer.reject).progress(defer.notify);else{var context=this===promise?defer.promise():this,values=fn?[returned]:arguments;defer[tuple[0]+"With"](context,values)}})}),fns=null}).promise()},promise:function(obj){return null!=obj?$.extend(obj,promise):promise}},deferred={};return $.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred}var slice=Array.prototype.slice;$.when=function(sub){var progressValues,progressContexts,resolveContexts,resolveValues=slice.call(arguments),len=resolveValues.length,i=0,remain=1!==len||sub&&$.isFunction(sub.promise)?len:0,deferred=1===remain?sub:Deferred(),updateFn=function(i,ctx,val){return function(value){ctx[i]=this,val[i]=arguments.length>1?slice.call(arguments):value,val===progressValues?deferred.notifyWith(ctx,val):--remain||deferred.resolveWith(ctx,val)}};if(len>1)for(progressValues=new Array(len),progressContexts=new Array(len),resolveContexts=new Array(len);i<len;++i)resolveValues[i]&&$.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFn(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFn(i,progressContexts,progressValues)):--remain;return remain||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()},$.Deferred=Deferred}(Zepto),module.exports=Zepto}),define("xg/jx-business/1.0.0/c/js/base/zepto.callbacks",[],function(require,exports,module){!function($){$.Callbacks=function(options){options=$.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingIndex<firingLength;++firingIndex)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list.length=0:Callbacks.disable())},Callbacks={add:function(){if(list){var start=list.length,add=function(args){$.each(args,function(_,arg){"function"==typeof arg?options.unique&&Callbacks.has(arg)||list.push(arg):arg&&arg.length&&"string"!=typeof arg&&add(arg)})};add(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&$.each(arguments,function(_,arg){for(var index;(index=$.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(index<=firingLength&&--firingLength,index<=firingIndex&&--firingIndex)}),this},has:function(fn){return!(!list||!(fn?$.inArray(fn,list)>-1:list.length))},empty:function(){return firingLength=list.length=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||Callbacks.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return Callbacks.fireWith(this,arguments)},fired:function(){return!!fired}};return Callbacks}}(Zepto),module.exports=Zepto}),define("xg/jx-business/1.0.0/c/js/base/sm",[],function(require,exports,module){$.smVersion="0.5.4",+function($){"use strict";var defaults={autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!1,pushAnimationDuration:400};$.smConfig=$.extend(defaults,$.config)}(Zepto),function($){"use strict";var device={},ua=navigator.userAgent,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);if(device.ios=device.android=device.iphone=device.ipad=device.androidChrome=!1,android&&(device.os="android",device.osVersion=android[2],device.android=!0,device.androidChrome=ua.toLowerCase().indexOf("chrome")>=0),(ipad||iphone||ipod)&&(device.os="ios",device.ios=!0),iphone&&!ipod&&(device.osVersion=iphone[2].replace(/_/g,"."),device.iphone=!0),ipad&&(device.osVersion=ipad[2].replace(/_/g,"."),device.ipad=!0),ipod&&(device.osVersion=ipod[3]?ipod[3].replace(/_/g,"."):null,device.iphone=!0),device.ios&&device.osVersion&&ua.indexOf("Version/")>=0&&"10"===device.osVersion.split(".")[0]&&(device.osVersion=ua.toLowerCase().split("version/")[1].split(" ")[0]),device.webView=(iphone||ipad||ipod)&&ua.match(/.*AppleWebKit(?!.*Safari)/i),device.os&&"ios"===device.os){var osVersionArr=device.osVersion.split(".");device.minimalUi=!device.webView&&(ipod||iphone)&&(1*osVersionArr[0]===7?1*osVersionArr[1]>=1:1*osVersionArr[0]>7)&&$('meta[name="viewport"]').length>0&&$('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var windowWidth=$(window).width(),windowHeight=$(window).height();device.statusBar=!1,device.webView&&windowWidth*windowHeight===screen.width*screen.height?device.statusBar=!0:device.statusBar=!1;var classNames=[];if(device.pixelRatio=window.devicePixelRatio||1,classNames.push("pixel-ratio-"+Math.floor(device.pixelRatio)),device.pixelRatio>=2&&classNames.push("retina"),device.os&&(classNames.push(device.os,device.os+"-"+device.osVersion.split(".")[0],device.os+"-"+device.osVersion.replace(/\./g,"-")),"ios"===device.os))for(var major=parseInt(device.osVersion.split(".")[0],10),i=major-1;i>=6;i--)classNames.push("ios-gt-"+i);device.statusBar?classNames.push("with-statusbar-overlay"):$("html").removeClass("with-statusbar-overlay"),classNames.length>0&&$("html").addClass(classNames.join(" ")),$.device=device}(Zepto),+function($){"use strict";$.compareVersion=function(a,b){var as=a.split("."),bs=b.split(".");
if(a===b)return 0;for(var i=0;i<as.length;i++){var x=parseInt(as[i]);if(!bs[i])return 1;var y=parseInt(bs[i]);if(x<y)return-1;if(x>y)return 1}return 1}}(Zepto),+function($){"use strict";function detect(ua,platform){var os=this.os={},browser=this.browser={},webkit=ua.match(/Web[kK]it[\/]{0,1}([\d.]+)/),android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),osx=!!ua.match(/\(Macintosh\; Intel /),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/),webos=ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),win=/Win\d{2}|Windows/.test(platform),wp=ua.match(/Windows Phone ([\d.]+)/),touchpad=webos&&ua.match(/TouchPad/),kindle=ua.match(/Kindle\/([\d.]+)/),silk=ua.match(/Silk\/([\d._]+)/),blackberry=ua.match(/(BlackBerry).*Version\/([\d.]+)/),bb10=ua.match(/(BB10).*Version\/([\d.]+)/),rimtabletos=ua.match(/(RIM\sTablet\sOS)\s([\d.]+)/),playbook=ua.match(/PlayBook/),chrome=ua.match(/Chrome\/([\d.]+)/)||ua.match(/CriOS\/([\d.]+)/),firefox=ua.match(/Firefox\/([\d.]+)/),firefoxos=ua.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),webview=!chrome&&ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),safari=webview||ua.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(browser.webkit=!!webkit)&&(browser.version=webkit[1]),android&&(os.android=!0,os.version=android[2]),iphone&&!ipod&&(os.ios=os.iphone=!0,os.version=iphone[2].replace(/_/g,".")),ipad&&(os.ios=os.ipad=!0,os.version=ipad[2].replace(/_/g,".")),ipod&&(os.ios=os.ipod=!0,os.version=ipod[3]?ipod[3].replace(/_/g,"."):null),wp&&(os.wp=!0,os.version=wp[1]),webos&&(os.webos=!0,os.version=webos[2]),touchpad&&(os.touchpad=!0),blackberry&&(os.blackberry=!0,os.version=blackberry[2]),bb10&&(os.bb10=!0,os.version=bb10[2]),rimtabletos&&(os.rimtabletos=!0,os.version=rimtabletos[2]),playbook&&(browser.playbook=!0),kindle&&(os.kindle=!0,os.version=kindle[1]),silk&&(browser.silk=!0,browser.version=silk[1]),!silk&&os.android&&ua.match(/Kindle Fire/)&&(browser.silk=!0),chrome&&(browser.chrome=!0,browser.version=chrome[1]),firefox&&(browser.firefox=!0,browser.version=firefox[1]),firefoxos&&(os.firefoxos=!0,os.version=firefoxos[1]),ie&&(browser.ie=!0,browser.version=ie[1]),safari&&(osx||os.ios||win)&&(browser.safari=!0,os.ios||(browser.version=safari[1])),webview&&(browser.webview=!0),os.tablet=!!(ipad||playbook||android&&!ua.match(/Mobile/)||firefox&&ua.match(/Tablet/)||ie&&!ua.match(/Phone/)&&ua.match(/Touch/)),os.phone=!(os.tablet||os.ipod||!(android||iphone||webos||blackberry||bb10||chrome&&ua.match(/Android/)||chrome&&ua.match(/CriOS\/([\d.]+)/)||firefox&&ua.match(/Mobile/)||ie&&ua.match(/Touch/)))}detect.call($,navigator.userAgent,navigator.platform),$.__detect=detect}(Zepto),function($){"use strict";["width","height"].forEach(function(dimension){var Dimension=dimension.replace(/./,function(m){return m[0].toUpperCase()});$.fn["outer"+Dimension]=function(margin){var elem=this;if(elem){var size=elem[dimension](),sides={width:["left","right"],height:["top","bottom"]};return sides[dimension].forEach(function(side){margin&&(size+=parseInt(elem.css("margin-"+side),10))}),size}return null}}),$.support=function(){var support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return support}(),$.touchEvents={start:$.support.touch?"touchstart":"mousedown",move:$.support.touch?"touchmove":"mousemove",end:$.support.touch?"touchend":"mouseup"},$.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return"undefined"==typeof axis&&(axis="x"),curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new WebKitCSSMatrix("none"===curStyle.webkitTransform?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),curTransform||0},$.requestAnimationFrame=function(callback){return window.requestAnimationFrame?window.requestAnimationFrame(callback):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(callback):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(callback):window.setTimeout(callback,1e3/60)},$.cancelAnimationFrame=function(id){return window.cancelAnimationFrame?window.cancelAnimationFrame(id):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(id):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(id):window.clearTimeout(id)},$.fn.transitionEnd=function(callback){function fireCallBack(e){if(e.target===this)for(callback.call(this,e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},$.fn.dataset=function(){var el=this[0];if(el){var dataset={};if(el.dataset)for(var dataKey in el.dataset)dataset[dataKey]=el.dataset[dataKey];else for(var i=0;i<el.attributes.length;i++){var attr=el.attributes[i];attr.name.indexOf("data-")>=0&&(dataset[$.toCamelCase(attr.name.split("data-")[1])]=attr.value)}for(var key in dataset)"false"===dataset[key]?dataset[key]=!1:"true"===dataset[key]?dataset[key]=!0:parseFloat(dataset[key])===1*dataset[key]&&(dataset[key]=1*dataset[key]);return dataset}},$.fn.data=function(key,value){if("undefined"==typeof key)return $(this).dataset();{if("undefined"!=typeof value){for(var i=0;i<this.length;i++){var el=this[i];el.smElementDataStorage||(el.smElementDataStorage={}),el.smElementDataStorage[key]=value}return this}if(this[0]&&this[0].getAttribute){var dataKey=this[0].getAttribute("data-"+key);return dataKey?dataKey:this[0].smElementDataStorage&&key in this[0].smElementDataStorage?this[0].smElementDataStorage[key]:void 0}}},$.fn.animationEnd=function(callback){function fireCallBack(e){for(callback(e),i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}var i,events=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],dom=this;if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},$.fn.transition=function(duration){"string"!=typeof duration&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},$.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform}return this},$.fn.prevAll=function(selector){var prevEls=[],el=this[0];if(!el)return $([]);for(;el.previousElementSibling;){var prev=el.previousElementSibling;selector?$(prev).is(selector)&&prevEls.push(prev):prevEls.push(prev),el=prev}return $(prevEls)},$.fn.nextAll=function(selector){var nextEls=[],el=this[0];if(!el)return $([]);for(;el.nextElementSibling;){var next=el.nextElementSibling;selector?$(next).is(selector)&&nextEls.push(next):nextEls.push(next),el=next}return $(nextEls)},$.fn.show=function(){function defaultDisplay(nodeName){var element,display;return elementDisplay[nodeName]||(element=document.createElement(nodeName),document.body.appendChild(element),display=getComputedStyle(element,"").getPropertyValue("display"),element.parentNode.removeChild(element),"none"===display&&(display="block"),elementDisplay[nodeName]=display),elementDisplay[nodeName]}var elementDisplay={};return this.each(function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display"),this.style.display=defaultDisplay(this.nodeName)})}}(Zepto),function(){"use strict";function FastClick(layer,options){function bind(method,context){return function(){return method.apply(context,arguments)}}var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;i<l;i++)context[methods[i]]=bind(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0,isCompositeLabel=!1;FastClick.prototype.needsClick=function(target){for(var parent=target;parent&&"BODY"!==parent.tagName.toUpperCase();){if("LABEL"===parent.tagName.toUpperCase()&&(isCompositeLabel=!0,/\bneedsclick\b/.test(parent.className)))return!0;parent=parent.parentNode}switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(scrollParent=targetElement.fastClickScrollParent,!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary},FastClick.prototype.onTouchMove=function(event){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),targetTagName=targetElement.tagName.toLowerCase(),"label"===targetTagName){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||(scrollParent=targetElement.fastClickScrollParent,!scrollParent||scrollParent.fastClickLastScrollTop===scrollParent.scrollTop))||(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return!this.targetElement||(!!event.forwardedTouchEvent||(!event.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),isCompositeLabel||event.preventDefault(),!1))))},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail||(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion,firefoxVersion;if("undefined"==typeof window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),blackberryVersion[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]")))){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction||(firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(firefoxVersion>=27&&(metaViewport=document.querySelector("meta[name=viewport]"),metaViewport&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===layer.style.touchAction||"manipulation"===layer.style.touchAction))},FastClick.attach=function(layer,options){return new FastClick(layer,options)},FastClick.attach(document.body)}(),+function($){"use strict";$.getCurrentPage=function(){return $(".page")[0]||document.body}}(Zepto),+function($){"use strict";var showTab=function(tab,tabLink,force){var newTab=$(tab);if(2===arguments.length&&"boolean"==typeof tabLink&&(force=tabLink),0===newTab.length)return!1;if(newTab.hasClass("active"))return force&&newTab.trigger("show"),!1;var tabs=newTab.parent(".tabs");if(0===tabs.length)return!1;var oldTab=tabs.children(".tab.active").removeClass("active");if(newTab.addClass("active"),newTab.trigger("show"),tabLink?tabLink=$(tabLink):(tabLink=$("string"==typeof tab?'.tab-link[href="'+tab+'"]':'.tab-link[href="#'+newTab.attr("id")+'"]'),(!tabLink||tabLink&&0===tabLink.length)&&$("[data-tab]").each(function(){newTab.is($(this).attr("data-tab"))&&(tabLink=$(this))})),0!==tabLink.length){var oldTabLink;if(oldTab&&oldTab.length>0){var oldTabId=oldTab.attr("id");oldTabId&&(oldTabLink=$('.tab-link[href="#'+oldTabId+'"]')),(!oldTabLink||oldTabLink&&0===oldTabLink.length)&&$("[data-tab]").each(function(){oldTab.is($(this).attr("data-tab"))&&(oldTabLink=$(this))})}return tabLink&&tabLink.length>0&&tabLink.addClass("active"),oldTabLink&&oldTabLink.length>0&&oldTabLink.removeClass("active"),!0}},old=$.showTab;$.showTab=showTab,$.showTab.noConflict=function(){return $.showTab=old,this},$(document).on("click",".tab-link",function(e){e.preventDefault();var clicked=$(this);showTab(clicked.data("tab")||clicked.attr("href"),clicked)})}(Zepto),+function($){"use strict";function handleClicks(e){var popup,clicked=$(this),clickedData=(clicked.attr("href"),clicked.dataset());clicked.hasClass("open-popup")&&(popup=clickedData.popup?clickedData.popup:".popup",$.popup(popup)),clicked.hasClass("close-popup")&&(popup=clickedData.popup?clickedData.popup:".popup.modal-in",$.closeModal(popup)),clicked.hasClass("modal-overlay")&&($(".modal.modal-in").length>0&&defaults.modalCloseByOutside&&$.closeModal(".modal.modal-in"),$(".actions-modal.modal-in").length>0&&defaults.actionsCloseByOutside&&$.closeModal(".actions-modal.modal-in")),clicked.hasClass("popup-overlay")&&$(".popup.modal-in").length>0&&defaults.popupCloseByOutside&&$.closeModal(".popup.modal-in")}var _modalTemplateTempDiv=document.createElement("div");$.modalStack=[],$.modalStackClearQueue=function(){$.modalStack.length&&$.modalStack.shift()()},$.modal=function(params){params=params||{};var modalHTML="",buttonsHTML="";if(params.buttons&&params.buttons.length>0)for(var i=0;i<params.buttons.length;i++)buttonsHTML+='<span class="modal-button'+(params.buttons[i].bold?" modal-button-bold":"")+'">'+params.buttons[i].text+"</span>";var titleHTML=params.title?'<div class="modal-title">'+params.title+"</div>":"",textHTML=params.text?'<div class="modal-text">'+params.text+"</div>":"",afterTextHTML=params.afterText?params.afterText:"",noButtons=params.buttons&&0!==params.buttons.length?"":"modal-no-buttons",verticalButtons=params.verticalButtons?"modal-buttons-vertical":"";modalHTML='<div class="modal '+noButtons+'"><div class="modal-inner">'+(titleHTML+textHTML+afterTextHTML)+'</div><div class="modal-buttons '+verticalButtons+'">'+buttonsHTML+"</div></div>",_modalTemplateTempDiv.innerHTML=modalHTML;var modal=$(_modalTemplateTempDiv).children();return $(defaults.modalContainer).append(modal[0]),modal.find(".modal-button").each(function(index,el){$(el).on("click",function(e){params.buttons[index].close!==!1&&$.closeModal(modal),params.buttons[index].onClick&&params.buttons[index].onClick(modal,e),params.onClick&&params.onClick(modal,index)})}),$.openModal(modal),modal[0]},$.alert=function(text,title,callbackOk){return"function"==typeof title&&(callbackOk=arguments[1],title=void 0),$.modal({text:text||"",title:"undefined"==typeof title?defaults.modalTitle:title,buttons:[{text:defaults.modalButtonOk,bold:!0,onClick:callbackOk}]})},$.confirm=function(text,title,callbackOk,callbackCancel){return"function"==typeof title&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=void 0),$.modal({text:text||"",title:"undefined"==typeof title?defaults.modalTitle:title,buttons:[{text:defaults.modalButtonCancel,onClick:callbackCancel},{text:defaults.modalButtonOk,bold:!0,onClick:callbackOk}]})},$.prompt=function(text,title,callbackOk,callbackCancel){return"function"==typeof title&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=void 0),$.modal({text:text||"",title:"undefined"==typeof title?defaults.modalTitle:title,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:defaults.modalButtonCancel},{text:defaults.modalButtonOk,bold:!0}],onClick:function(modal,index){0===index&&callbackCancel&&callbackCancel($(modal).find(".modal-text-input").val()),1===index&&callbackOk&&callbackOk($(modal).find(".modal-text-input").val())}})},$.modalLogin=function(text,title,callbackOk,callbackCancel){return"function"==typeof title&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=void 0),$.modal({text:text||"",title:"undefined"==typeof title?defaults.modalTitle:title,afterText:'<input type="text" name="modal-username" placeholder="'+defaults.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+defaults.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:defaults.modalButtonCancel},{text:defaults.modalButtonOk,bold:!0}],onClick:function(modal,index){var username=$(modal).find('.modal-text-input[name="modal-username"]').val(),password=$(modal).find('.modal-text-input[name="modal-password"]').val();0===index&&callbackCancel&&callbackCancel(username,password),1===index&&callbackOk&&callbackOk(username,password)}})},$.modalPassword=function(text,title,callbackOk,callbackCancel){return"function"==typeof title&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=void 0),$.modal({text:text||"",title:"undefined"==typeof title?defaults.modalTitle:title,afterText:'<input type="password" name="modal-password" placeholder="'+defaults.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:defaults.modalButtonCancel},{text:defaults.modalButtonOk,bold:!0}],onClick:function(modal,index){var password=$(modal).find('.modal-text-input[name="modal-password"]').val();0===index&&callbackCancel&&callbackCancel(password),1===index&&callbackOk&&callbackOk(password)}})},$.showPreloader=function(title){return $.modal({title:title||defaults.modalPreloaderTitle,text:'<div class="preloader"></div>'})},$.hidePreloader=function(){$.closeModal(".modal.modal-in")},$.showIndicator=function(){$(defaults.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},$.hideIndicator=function(){$(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},$.actions=function(params){var modal,groupSelector,buttonSelector;params=params||[],params.length>0&&!$.isArray(params[0])&&(params=[params]);for(var modalHTML,buttonsHTML="",i=0;i<params.length;i++)for(var j=0;j<params[i].length;j++){0===j&&(buttonsHTML+='<div class="actions-modal-group">');var button=params[i][j],buttonClass=button.label?"actions-modal-label":"actions-modal-button";button.bold&&(buttonClass+=" actions-modal-button-bold"),button.color&&(buttonClass+=" color-"+button.color),button.bg&&(buttonClass+=" bg-"+button.bg),button.disabled&&(buttonClass+=" disabled"),buttonsHTML+='<span class="'+buttonClass+'">'+button.text+"</span>",j===params[i].length-1&&(buttonsHTML+="</div>")}modalHTML='<div class="actions-modal">'+buttonsHTML+"</div>",_modalTemplateTempDiv.innerHTML=modalHTML,modal=$(_modalTemplateTempDiv).children(),$(defaults.modalContainer).append(modal[0]),groupSelector=".actions-modal-group",buttonSelector=".actions-modal-button";var groups=modal.find(groupSelector);return groups.each(function(index,el){var groupIndex=index;$(el).children().each(function(index,el){var clickTarget,buttonIndex=index,buttonParams=params[groupIndex][buttonIndex];$(el).is(buttonSelector)&&(clickTarget=$(el)),clickTarget&&clickTarget.on("click",function(e){buttonParams.close!==!1&&$.closeModal(modal),buttonParams.onClick&&buttonParams.onClick(modal,e)})})}),$.openModal(modal),modal[0]},$.popup=function(modal,removeOnClose){if("undefined"==typeof removeOnClose&&(removeOnClose=!0),"string"==typeof modal&&modal.indexOf("<")>=0){var _modal=document.createElement("div");if(_modal.innerHTML=modal.trim(),!(_modal.childNodes.length>0))return!1;modal=_modal.childNodes[0],removeOnClose&&modal.classList.add("remove-on-close"),$(defaults.modalContainer).append(modal)}return modal=$(modal),0!==modal.length&&(modal.show(),modal.find(".content").scroller("refresh"),modal.find("."+defaults.viewClass).length>0&&$.sizeNavbars(modal.find("."+defaults.viewClass)[0]),$.openModal(modal),modal[0])},$.pickerModal=function(pickerModal,removeOnClose){if("undefined"==typeof removeOnClose&&(removeOnClose=!0),"string"==typeof pickerModal&&pickerModal.indexOf("<")>=0){if(pickerModal=$(pickerModal),!(pickerModal.length>0))return!1;removeOnClose&&pickerModal.addClass("remove-on-close"),$(defaults.modalContainer).append(pickerModal[0])}return pickerModal=$(pickerModal),0!==pickerModal.length&&(pickerModal.show(),$.openModal(pickerModal),pickerModal[0])},$.loginScreen=function(modal){return modal||(modal=".login-screen"),modal=$(modal),0!==modal.length&&(modal.show(),modal.find("."+defaults.viewClass).length>0&&$.sizeNavbars(modal.find("."+defaults.viewClass)[0]),$.openModal(modal),modal[0])},$.toast=function(msg,duration,extraclass){var $toast=$('<div class="modal toast '+(extraclass||"")+'">'+msg+"</div>").appendTo(document.body);$.openModal($toast,function(){setTimeout(function(){$.closeModal($toast)},duration||2e3)})},$.openModal=function(modal,cb){modal=$(modal);var isModal=modal.hasClass("modal");if($(".modal.modal-in:not(.modal-out)").length&&defaults.modalStack&&isModal)return void $.modalStack.push(function(){$.openModal(modal,cb)});var isPopup=modal.hasClass("popup"),isLoginScreen=modal.hasClass("login-screen"),isPickerModal=modal.hasClass("picker-modal"),isToast=modal.hasClass("toast");isModal&&(modal.show(),modal.css({marginTop:-Math.round(modal.outerHeight()/2)+"px"})),isToast&&modal.css({marginLeft:-Math.round(modal.outerWidth()/2/1.185)+"px"});var overlay;isLoginScreen||isPickerModal||isToast||(0!==$(".modal-overlay").length||isPopup||$(defaults.modalContainer).append('<div class="modal-overlay"></div>'),0===$(".popup-overlay").length&&isPopup&&$(defaults.modalContainer).append('<div class="popup-overlay"></div>'),overlay=$(isPopup?".popup-overlay":".modal-overlay"));modal[0].clientLeft;return modal.trigger("open"),isPickerModal&&$(defaults.modalContainer).addClass("with-picker-modal"),isLoginScreen||isPickerModal||isToast||overlay.addClass("modal-overlay-visible"),modal.removeClass("modal-out").addClass("modal-in").transitionEnd(function(e){modal.hasClass("modal-out")?modal.trigger("closed"):modal.trigger("opened")}),"function"==typeof cb&&cb.call(this),!0},$.closeModal=function(modal){if(modal=$(modal||".modal-in"),"undefined"==typeof modal||0!==modal.length){var isModal=modal.hasClass("modal"),isPopup=modal.hasClass("popup"),isToast=modal.hasClass("toast"),isLoginScreen=modal.hasClass("login-screen"),isPickerModal=modal.hasClass("picker-modal"),removeOnClose=modal.hasClass("remove-on-close"),overlay=$(isPopup?".popup-overlay":".modal-overlay");return isPopup?modal.length===$(".popup.modal-in").length&&overlay.removeClass("modal-overlay-visible"):isPickerModal||isToast||overlay.removeClass("modal-overlay-visible"),modal.trigger("close"),isPickerModal&&($(defaults.modalContainer).removeClass("with-picker-modal"),$(defaults.modalContainer).addClass("picker-modal-closing")),modal.removeClass("modal-in").addClass("modal-out").transitionEnd(function(e){modal.hasClass("modal-out")?modal.trigger("closed"):modal.trigger("opened"),isPickerModal&&$(defaults.modalContainer).removeClass("picker-modal-closing"),isPopup||isLoginScreen||isPickerModal?(modal.removeClass("modal-out").hide(),removeOnClose&&modal.length>0&&modal.remove()):modal.remove()}),isModal&&defaults.modalStack&&$.modalStackClearQueue(),!0}},$(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",handleClicks);var defaults=$.modal.prototype.defaults={modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body}}(Zepto),+function($){"use strict";var rtl=!1,Calendar=function(params){function formatDate(date){date=new Date(date);var year=date.getFullYear(),month=date.getMonth(),month1=month+1,day=date.getDate(),weekDay=date.getDay();return p.params.dateFormat.replace(/yyyy/g,year).replace(/yy/g,(year+"").substring(2)).replace(/mm/g,month1<10?"0"+month1:month1).replace(/m/g,month1).replace(/MM/g,p.params.monthNames[month]).replace(/M/g,p.params.monthNamesShort[month]).replace(/dd/g,day<10?"0"+day:day).replace(/d/g,day).replace(/DD/g,p.params.dayNames[weekDay]).replace(/D/g,p.params.dayNamesShort[weekDay])}function openOnInput(e){if(e.preventDefault(),!p.opened&&(p.open(),p.params.scrollToInput)){var pageContent=p.input.parents(".page-content");if(0===pageContent.length)return;var newPaddingBottom,paddingTop=parseInt(pageContent.css("padding-top"),10),paddingBottom=parseInt(pageContent.css("padding-bottom"),10),pageHeight=pageContent[0].offsetHeight-paddingTop-p.container.height(),pageScrollHeight=pageContent[0].scrollHeight-paddingTop-p.container.height(),inputTop=p.input.offset().top-paddingTop+p.input[0].offsetHeight;
if(inputTop>pageHeight){var scrollTop=pageContent.scrollTop()+inputTop-pageHeight;scrollTop+pageHeight>pageScrollHeight&&(newPaddingBottom=scrollTop+pageHeight-pageScrollHeight+paddingBottom,pageHeight===pageScrollHeight&&(newPaddingBottom=p.container.height()),pageContent.css({"padding-bottom":newPaddingBottom+"px"})),pageContent.scrollTop(scrollTop,300)}}}function closeOnHTMLClick(e){p.input&&p.input.length>0?e.target!==p.input[0]&&0===$(e.target).parents(".picker-modal").length&&p.close():0===$(e.target).parents(".picker-modal").length&&p.close()}function onPickerClose(){p.opened=!1,p.input&&p.input.length>0&&p.input.parents(".page-content").css({"padding-bottom":""}),p.params.onClose&&p.params.onClose(p),p.destroyCalendarEvents()}var p=this,defaults={monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'};params=params||{};for(var def in defaults)"undefined"==typeof params[def]&&(params[def]=defaults[def]);p.params=params,p.initialized=!1,p.inline=!!p.params.container,p.isH="horizontal"===p.params.direction;var inverter=p.isH&&rtl?-1:1;return p.animating=!1,p.addValue=function(value){if(p.params.multiple){p.value||(p.value=[]);for(var inValuesIndex,i=0;i<p.value.length;i++)new Date(value).getTime()===new Date(p.value[i]).getTime()&&(inValuesIndex=i);"undefined"==typeof inValuesIndex?p.value.push(value):p.value.splice(inValuesIndex,1),p.updateValue()}else p.value=[value],p.updateValue()},p.setValue=function(arrValues){p.value=arrValues,p.updateValue()},p.updateValue=function(){p.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var i,inputValue;for(i=0;i<p.value.length;i++){var valueDate=new Date(p.value[i]);p.wrapper.find('.picker-calendar-day[data-date="'+valueDate.getFullYear()+"-"+valueDate.getMonth()+"-"+valueDate.getDate()+'"]').addClass("picker-calendar-day-selected")}if(p.params.onChange&&p.params.onChange(p,p.value,p.value.map(formatDate)),p.input&&p.input.length>0){if(p.params.formatValue)inputValue=p.params.formatValue(p,p.value);else{for(inputValue=[],i=0;i<p.value.length;i++)inputValue.push(formatDate(p.value[i]));inputValue=inputValue.join(", ")}$(p.input).val(inputValue),$(p.input).trigger("change")}},p.initCalendarEvents=function(){function handleTouchStart(e){isMoved||isTouched||(isTouched=!0,touchStartX=touchCurrentY="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,touchStartY=touchCurrentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime(),percentage=0,allowItemClick=!0,isScrolling=void 0,startTranslate=currentTranslate=p.monthsTranslate)}function handleTouchMove(e){if(isTouched){if(touchCurrentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,touchCurrentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(touchCurrentY-touchStartY)>Math.abs(touchCurrentX-touchStartX))),p.isH&&isScrolling)return void(isTouched=!1);if(e.preventDefault(),p.animating)return void(isTouched=!1);allowItemClick=!1,isMoved||(isMoved=!0,wrapperWidth=p.wrapper[0].offsetWidth,wrapperHeight=p.wrapper[0].offsetHeight,p.wrapper.transition(0)),e.preventDefault(),touchesDiff=p.isH?touchCurrentX-touchStartX:touchCurrentY-touchStartY,percentage=touchesDiff/(p.isH?wrapperWidth:wrapperHeight),currentTranslate=100*(p.monthsTranslate*inverter+percentage),p.wrapper.transform("translate3d("+(p.isH?currentTranslate:0)+"%, "+(p.isH?0:currentTranslate)+"%, 0)")}}function handleTouchEnd(e){return isTouched&&isMoved?(isTouched=isMoved=!1,touchEndTime=(new Date).getTime(),touchEndTime-touchStartTime<300?Math.abs(touchesDiff)<10?p.resetMonth():touchesDiff>=10?rtl?p.nextMonth():p.prevMonth():rtl?p.prevMonth():p.nextMonth():percentage<=-.5?rtl?p.prevMonth():p.nextMonth():percentage>=.5?rtl?p.nextMonth():p.prevMonth():p.resetMonth(),void setTimeout(function(){allowItemClick=!0},100)):void(isTouched=isMoved=!1)}function handleDayClick(e){if(allowItemClick){var day=$(e.target).parents(".picker-calendar-day");if(0===day.length&&$(e.target).hasClass("picker-calendar-day")&&(day=$(e.target)),0!==day.length&&(!day.hasClass("picker-calendar-day-selected")||p.params.multiple)&&!day.hasClass("picker-calendar-day-disabled")){day.hasClass("picker-calendar-day-next")&&p.nextMonth(),day.hasClass("picker-calendar-day-prev")&&p.prevMonth();var dateYear=day.attr("data-year"),dateMonth=day.attr("data-month"),dateDay=day.attr("data-day");p.params.onDayClick&&p.params.onDayClick(p,day[0],dateYear,dateMonth,dateDay),p.addValue(new Date(dateYear,dateMonth,dateDay).getTime()),p.params.closeOnSelect&&p.close()}}}var isTouched,isMoved,touchStartX,touchStartY,touchCurrentX,touchCurrentY,touchStartTime,touchEndTime,startTranslate,currentTranslate,wrapperWidth,wrapperHeight,percentage,touchesDiff,isScrolling,allowItemClick=!0;p.container.find(".picker-calendar-prev-month").on("click",p.prevMonth),p.container.find(".picker-calendar-next-month").on("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").on("click",p.prevYear),p.container.find(".picker-calendar-next-year").on("click",p.nextYear),p.wrapper.on("click",handleDayClick),p.params.touchMove&&(p.wrapper.on($.touchEvents.start,handleTouchStart),p.wrapper.on($.touchEvents.move,handleTouchMove),p.wrapper.on($.touchEvents.end,handleTouchEnd)),p.container[0].f7DestroyCalendarEvents=function(){p.container.find(".picker-calendar-prev-month").off("click",p.prevMonth),p.container.find(".picker-calendar-next-month").off("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").off("click",p.prevYear),p.container.find(".picker-calendar-next-year").off("click",p.nextYear),p.wrapper.off("click",handleDayClick),p.params.touchMove&&(p.wrapper.off($.touchEvents.start,handleTouchStart),p.wrapper.off($.touchEvents.move,handleTouchMove),p.wrapper.off($.touchEvents.end,handleTouchEnd))}},p.destroyCalendarEvents=function(colContainer){"f7DestroyCalendarEvents"in p.container[0]&&p.container[0].f7DestroyCalendarEvents()},p.daysInMonth=function(date){var d=new Date(date);return new Date(d.getFullYear(),d.getMonth()+1,0).getDate()},p.monthHTML=function(date,offset){date=new Date(date);var year=date.getFullYear(),month=date.getMonth();date.getDate();"next"===offset&&(date=11===month?new Date(year+1,0):new Date(year,month+1,1)),"prev"===offset&&(date=0===month?new Date(year-1,11):new Date(year,month-1,1)),"next"!==offset&&"prev"!==offset||(month=date.getMonth(),year=date.getFullYear());var daysInPrevMonth=p.daysInMonth(new Date(date.getFullYear(),date.getMonth()).getTime()-864e6),daysInMonth=p.daysInMonth(date),firstDayOfMonthIndex=new Date(date.getFullYear(),date.getMonth()).getDay();0===firstDayOfMonthIndex&&(firstDayOfMonthIndex=7);var dayDate,i,j,currentValues=[],rows=6,cols=7,monthHTML="",dayIndex=0+(p.params.firstDay-1),today=(new Date).setHours(0,0,0,0),minDate=p.params.minDate?new Date(p.params.minDate).getTime():null,maxDate=p.params.maxDate?new Date(p.params.maxDate).getTime():null;if(p.value&&p.value.length)for(i=0;i<p.value.length;i++)currentValues.push(new Date(p.value[i]).setHours(0,0,0,0));for(i=1;i<=rows;i++){var rowHTML="";for(j=1;j<=cols;j++){var col=j;dayIndex++;var dayNumber=dayIndex-firstDayOfMonthIndex,addClass="";dayNumber<0?(dayNumber=daysInPrevMonth+dayNumber+1,addClass+=" picker-calendar-day-prev",dayDate=new Date(month-1<0?year-1:year,month-1<0?11:month-1,dayNumber).getTime()):(dayNumber+=1,dayNumber>daysInMonth?(dayNumber-=daysInMonth,addClass+=" picker-calendar-day-next",dayDate=new Date(month+1>11?year+1:year,month+1>11?0:month+1,dayNumber).getTime()):dayDate=new Date(year,month,dayNumber).getTime()),dayDate===today&&(addClass+=" picker-calendar-day-today"),currentValues.indexOf(dayDate)>=0&&(addClass+=" picker-calendar-day-selected"),p.params.weekendDays.indexOf(col-1)>=0&&(addClass+=" picker-calendar-day-weekend"),(minDate&&dayDate<minDate||maxDate&&dayDate>maxDate)&&(addClass+=" picker-calendar-day-disabled"),dayDate=new Date(dayDate);var dayYear=dayDate.getFullYear(),dayMonth=dayDate.getMonth();rowHTML+='<div data-year="'+dayYear+'" data-month="'+dayMonth+'" data-day="'+dayNumber+'" class="picker-calendar-day'+addClass+'" data-date="'+(dayYear+"-"+dayMonth+"-"+dayNumber)+'"><span>'+dayNumber+"</span></div>"}monthHTML+='<div class="picker-calendar-row">'+rowHTML+"</div>"}return monthHTML='<div class="picker-calendar-month" data-year="'+year+'" data-month="'+month+'">'+monthHTML+"</div>"},p.animating=!1,p.updateCurrentMonthYear=function(dir){"undefined"==typeof dir?(p.currentMonth=parseInt(p.months.eq(1).attr("data-month"),10),p.currentYear=parseInt(p.months.eq(1).attr("data-year"),10)):(p.currentMonth=parseInt(p.months.eq("next"===dir?p.months.length-1:0).attr("data-month"),10),p.currentYear=parseInt(p.months.eq("next"===dir?p.months.length-1:0).attr("data-year"),10)),p.container.find(".current-month-value").text(p.params.monthNames[p.currentMonth]),p.container.find(".current-year-value").text(p.currentYear)},p.onMonthChangeStart=function(dir){p.updateCurrentMonthYear(dir),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var currentIndex="next"===dir?p.months.length-1:0;p.months.eq(currentIndex).addClass("picker-calendar-month-current"),p.months.eq("next"===dir?currentIndex-1:currentIndex+1).addClass("next"===dir?"picker-calendar-month-prev":"picker-calendar-month-next"),p.params.onMonthYearChangeStart&&p.params.onMonthYearChangeStart(p,p.currentYear,p.currentMonth)},p.onMonthChangeEnd=function(dir,rebuildBoth){p.animating=!1;var nextMonthHTML,prevMonthHTML,newMonthHTML;p.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof dir&&(dir="next",rebuildBoth=!0),rebuildBoth?(p.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),prevMonthHTML=p.monthHTML(new Date(p.currentYear,p.currentMonth),"prev"),nextMonthHTML=p.monthHTML(new Date(p.currentYear,p.currentMonth),"next")):newMonthHTML=p.monthHTML(new Date(p.currentYear,p.currentMonth),dir),("next"===dir||rebuildBoth)&&p.wrapper.append(newMonthHTML||nextMonthHTML),("prev"===dir||rebuildBoth)&&p.wrapper.prepend(newMonthHTML||prevMonthHTML),p.months=p.wrapper.find(".picker-calendar-month"),p.setMonthsTranslate(p.monthsTranslate),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===dir?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.params.onMonthYearChangeEnd&&p.params.onMonthYearChangeEnd(p,p.currentYear,p.currentMonth)},p.setMonthsTranslate=function(translate){translate=translate||p.monthsTranslate||0,"undefined"==typeof p.monthsTranslate&&(p.monthsTranslate=translate),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var prevMonthTranslate=100*-(translate+1)*inverter,currentMonthTranslate=100*-translate*inverter,nextMonthTranslate=100*-(translate-1)*inverter;p.months.eq(0).transform("translate3d("+(p.isH?prevMonthTranslate:0)+"%, "+(p.isH?0:prevMonthTranslate)+"%, 0)").addClass("picker-calendar-month-prev"),p.months.eq(1).transform("translate3d("+(p.isH?currentMonthTranslate:0)+"%, "+(p.isH?0:currentMonthTranslate)+"%, 0)").addClass("picker-calendar-month-current"),p.months.eq(2).transform("translate3d("+(p.isH?nextMonthTranslate:0)+"%, "+(p.isH?0:nextMonthTranslate)+"%, 0)").addClass("picker-calendar-month-next")},p.nextMonth=function(transition){"undefined"!=typeof transition&&"object"!=typeof transition||(transition="",p.params.animate||(transition=0));var nextMonth=parseInt(p.months.eq(p.months.length-1).attr("data-month"),10),nextYear=parseInt(p.months.eq(p.months.length-1).attr("data-year"),10),nextDate=new Date(nextYear,nextMonth),nextDateTime=nextDate.getTime(),transitionEndCallback=!p.animating;if(p.params.maxDate&&nextDateTime>new Date(p.params.maxDate).getTime())return p.resetMonth();if(p.monthsTranslate--,nextMonth===p.currentMonth){var nextMonthTranslate=100*-p.monthsTranslate*inverter,nextMonthHTML=$(p.monthHTML(nextDateTime,"next")).transform("translate3d("+(p.isH?nextMonthTranslate:0)+"%, "+(p.isH?0:nextMonthTranslate)+"%, 0)").addClass("picker-calendar-month-next");p.wrapper.append(nextMonthHTML[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(p.months.length-1)[0])}p.animating=!0,p.onMonthChangeStart("next");var translate=100*p.monthsTranslate*inverter;p.wrapper.transition(transition).transform("translate3d("+(p.isH?translate:0)+"%, "+(p.isH?0:translate)+"%, 0)"),transitionEndCallback&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("next")}),p.params.animate||p.onMonthChangeEnd("next")},p.prevMonth=function(transition){"undefined"!=typeof transition&&"object"!=typeof transition||(transition="",p.params.animate||(transition=0));var prevMonth=parseInt(p.months.eq(0).attr("data-month"),10),prevYear=parseInt(p.months.eq(0).attr("data-year"),10),prevDate=new Date(prevYear,prevMonth+1,(-1)),prevDateTime=prevDate.getTime(),transitionEndCallback=!p.animating;if(p.params.minDate&&prevDateTime<new Date(p.params.minDate).getTime())return p.resetMonth();if(p.monthsTranslate++,prevMonth===p.currentMonth){var prevMonthTranslate=100*-p.monthsTranslate*inverter,prevMonthHTML=$(p.monthHTML(prevDateTime,"prev")).transform("translate3d("+(p.isH?prevMonthTranslate:0)+"%, "+(p.isH?0:prevMonthTranslate)+"%, 0)").addClass("picker-calendar-month-prev");p.wrapper.prepend(prevMonthHTML[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(0)[0])}p.animating=!0,p.onMonthChangeStart("prev");var translate=100*p.monthsTranslate*inverter;p.wrapper.transition(transition).transform("translate3d("+(p.isH?translate:0)+"%, "+(p.isH?0:translate)+"%, 0)"),transitionEndCallback&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("prev")}),p.params.animate||p.onMonthChangeEnd("prev")},p.resetMonth=function(transition){"undefined"==typeof transition&&(transition="");var translate=100*p.monthsTranslate*inverter;p.wrapper.transition(transition).transform("translate3d("+(p.isH?translate:0)+"%, "+(p.isH?0:translate)+"%, 0)")},p.setYearMonth=function(year,month,transition){"undefined"==typeof year&&(year=p.currentYear),"undefined"==typeof month&&(month=p.currentMonth),"undefined"!=typeof transition&&"object"!=typeof transition||(transition="",p.params.animate||(transition=0));var targetDate;if(targetDate=year<p.currentYear?new Date(year,month+1,(-1)).getTime():new Date(year,month).getTime(),p.params.maxDate&&targetDate>new Date(p.params.maxDate).getTime())return!1;if(p.params.minDate&&targetDate<new Date(p.params.minDate).getTime())return!1;var currentDate=new Date(p.currentYear,p.currentMonth).getTime(),dir=targetDate>currentDate?"next":"prev",newMonthHTML=p.monthHTML(new Date(year,month));p.monthsTranslate=p.monthsTranslate||0;var monthTranslate,wrapperTranslate,prevTranslate=p.monthsTranslate,transitionEndCallback=!p.animating;targetDate>currentDate?(p.monthsTranslate--,p.animating||p.months.eq(p.months.length-1).remove(),p.wrapper.append(newMonthHTML),p.months=p.wrapper.find(".picker-calendar-month"),monthTranslate=100*-(prevTranslate-1)*inverter,p.months.eq(p.months.length-1).transform("translate3d("+(p.isH?monthTranslate:0)+"%, "+(p.isH?0:monthTranslate)+"%, 0)").addClass("picker-calendar-month-next")):(p.monthsTranslate++,p.animating||p.months.eq(0).remove(),p.wrapper.prepend(newMonthHTML),p.months=p.wrapper.find(".picker-calendar-month"),monthTranslate=100*-(prevTranslate+1)*inverter,p.months.eq(0).transform("translate3d("+(p.isH?monthTranslate:0)+"%, "+(p.isH?0:monthTranslate)+"%, 0)").addClass("picker-calendar-month-prev")),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===dir?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.animating=!0,p.onMonthChangeStart(dir),wrapperTranslate=100*p.monthsTranslate*inverter,p.wrapper.transition(transition).transform("translate3d("+(p.isH?wrapperTranslate:0)+"%, "+(p.isH?0:wrapperTranslate)+"%, 0)"),transitionEndCallback&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd(dir,!0)}),p.params.animate||p.onMonthChangeEnd(dir)},p.nextYear=function(){p.setYearMonth(p.currentYear+1)},p.prevYear=function(){p.setYearMonth(p.currentYear-1)},p.layout=function(){var i,pickerHTML="",pickerClass="",layoutDate=p.value&&p.value.length?p.value[0]:(new Date).setHours(0,0,0,0),prevMonthHTML=p.monthHTML(layoutDate,"prev"),currentMonthHTML=p.monthHTML(layoutDate),nextMonthHTML=p.monthHTML(layoutDate,"next"),monthsHTML='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(prevMonthHTML+currentMonthHTML+nextMonthHTML)+"</div></div>",weekHeaderHTML="";if(p.params.weekHeader){for(i=0;i<7;i++){var weekDayIndex=i+p.params.firstDay>6?i-7+p.params.firstDay:i+p.params.firstDay,dayName=p.params.dayNamesShort[weekDayIndex];weekHeaderHTML+='<div class="picker-calendar-week-day '+(p.params.weekendDays.indexOf(weekDayIndex)>=0?"picker-calendar-week-day-weekend":"")+'"> '+dayName+"</div>"}weekHeaderHTML='<div class="picker-calendar-week-days">'+weekHeaderHTML+"</div>"}pickerClass="picker-modal picker-calendar "+(p.params.cssClass||"");var toolbarHTML=p.params.toolbar?p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText):"";p.params.toolbar&&(toolbarHTML=p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText).replace(/{{monthPicker}}/g,p.params.monthPicker?p.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,p.params.yearPicker?p.params.yearPickerTemplate:"")),pickerHTML='<div class="'+pickerClass+'">'+toolbarHTML+'<div class="picker-modal-inner">'+weekHeaderHTML+monthsHTML+"</div></div>",p.pickerHTML=pickerHTML},p.params.input&&(p.input=$(p.params.input),p.input.length>0&&(p.params.inputReadOnly&&p.input.prop("readOnly",!0),p.inline||p.input.on("click",openOnInput),p.params.inputReadOnly&&p.input.on("focus mousedown",function(e){e.preventDefault()}))),p.inline||$("html").on("click",closeOnHTMLClick),p.opened=!1,p.open=function(){var updateValue=!1;p.opened||(p.value||p.params.value&&(p.value=p.params.value,updateValue=!0),p.layout(),p.inline?(p.container=$(p.pickerHTML),p.container.addClass("picker-modal-inline"),$(p.params.container).append(p.container)):(p.container=$($.pickerModal(p.pickerHTML)),$(p.container).on("close",function(){onPickerClose()})),p.container[0].f7Calendar=p,p.wrapper=p.container.find(".picker-calendar-months-wrapper"),p.months=p.wrapper.find(".picker-calendar-month"),p.updateCurrentMonthYear(),p.monthsTranslate=0,p.setMonthsTranslate(),p.initCalendarEvents(),updateValue&&p.updateValue()),p.opened=!0,p.initialized=!0,p.params.onMonthAdd&&p.months.each(function(){p.params.onMonthAdd(p,this)}),p.params.onOpen&&p.params.onOpen(p)},p.close=function(){p.opened&&!p.inline&&$.closeModal(p.container)},p.destroy=function(){p.close(),p.params.input&&p.input.length>0&&p.input.off("click focus",openOnInput),$("html").off("click",closeOnHTMLClick)},p.inline&&p.open(),p};$.fn.calendar=function(params){return this.each(function(){var $this=$(this);if($this[0]){var p={};"INPUT"===$this[0].tagName.toUpperCase()?p.input=$this:p.container=$this,new Calendar($.extend(p,params))}})},$.initCalendar=function(content){var $content=$(content?content:document.body);$content.find("[data-toggle='date']").each(function(){$(this).calendar()})}}(Zepto),+function($){"use strict";var Picker=function(params){function resizeCols(){if(p.opened)for(var i=0;i<p.cols.length;i++)p.cols[i].divider||(p.cols[i].calcSize(),p.cols[i].setValue(p.cols[i].value,0,!1))}function openOnInput(e){if(e.preventDefault(),!p.opened&&(p.open(),p.params.scrollToInput)){var pageContent=p.input.parents(".page-content");if(0===pageContent.length)return;var newPaddingBottom,paddingTop=parseInt(pageContent.css("padding-top"),10),paddingBottom=parseInt(pageContent.css("padding-bottom"),10),pageHeight=pageContent[0].offsetHeight-paddingTop-p.container.height(),pageScrollHeight=pageContent[0].scrollHeight-paddingTop-p.container.height(),inputTop=p.input.offset().top-paddingTop+p.input[0].offsetHeight;if(inputTop>pageHeight){var scrollTop=pageContent.scrollTop()+inputTop-pageHeight;scrollTop+pageHeight>pageScrollHeight&&(newPaddingBottom=scrollTop+pageHeight-pageScrollHeight+paddingBottom,pageHeight===pageScrollHeight&&(newPaddingBottom=p.container.height()),pageContent.css({"padding-bottom":newPaddingBottom+"px"})),pageContent.scrollTop(scrollTop,300)}}}function closeOnHTMLClick(e){p.input&&p.input.length>0?e.target!==p.input[0]&&0===$(e.target).parents(".picker-modal").length&&p.close():0===$(e.target).parents(".picker-modal").length&&p.close()}function onPickerClose(){p.opened=!1,p.input&&p.input.length>0&&p.input.parents(".page-content").css({"padding-bottom":""}),p.params.onClose&&p.params.onClose(p),p.container.find(".picker-items-col").each(function(){p.destroyPickerCol(this)})}var p=this,defaults={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"确定",toolbarTemplate:'<header class="bar bar-nav">          <button class="button button-link pull-right close-picker">确定</button>          <h1 class="title"></h1>          </header>'};params=params||{};for(var def in defaults)"undefined"==typeof params[def]&&(params[def]=defaults[def]);p.params=params,p.cols=[],p.initialized=!1,p.inline=!!p.params.container;var originBug=$.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!$.device.android;return p.setValue=function(arrValues,transition){for(var valueIndex=0,i=0;i<p.cols.length;i++)p.cols[i]&&!p.cols[i].divider&&(p.cols[i].setValue(arrValues[valueIndex],transition),valueIndex++)},p.updateValue=function(){for(var newValue=[],newDisplayValue=[],i=0;i<p.cols.length;i++)p.cols[i].divider||(newValue.push(p.cols[i].value),newDisplayValue.push(p.cols[i].displayValue));newValue.indexOf(void 0)>=0||(p.value=newValue,p.displayValue=newDisplayValue,p.params.onChange&&p.params.onChange(p,p.value,p.displayValue),p.input&&p.input.length>0&&($(p.input).val(p.params.formatValue?p.params.formatValue(p,p.value,p.displayValue):p.value.join(" ")),$(p.input).trigger("change")))},p.initPickerCol=function(colElement,updateItems){function updateDuringScroll(){animationFrameId=$.requestAnimationFrame(function(){col.updateItems(void 0,void 0,0),updateDuringScroll()})}function handleTouchStart(e){isMoved||isTouched||(e.preventDefault(),isTouched=!0,touchStartY=touchCurrentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime(),allowItemClick=!0,startTranslate=currentTranslate=$.getTranslate(col.wrapper[0],"y"))}function handleTouchMove(e){if(isTouched){e.preventDefault(),allowItemClick=!1,touchCurrentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,isMoved||($.cancelAnimationFrame(animationFrameId),isMoved=!0,startTranslate=currentTranslate=$.getTranslate(col.wrapper[0],"y"),col.wrapper.transition(0)),e.preventDefault();var diff=touchCurrentY-touchStartY;currentTranslate=startTranslate+diff,returnTo=void 0,currentTranslate<minTranslate&&(currentTranslate=minTranslate-Math.pow(minTranslate-currentTranslate,.8),returnTo="min"),currentTranslate>maxTranslate&&(currentTranslate=maxTranslate+Math.pow(currentTranslate-maxTranslate,.8),returnTo="max"),col.wrapper.transform("translate3d(0,"+currentTranslate+"px,0)"),col.updateItems(void 0,currentTranslate,0,p.params.updateValuesOnTouchmove),velocityTranslate=currentTranslate-prevTranslate||currentTranslate,velocityTime=(new Date).getTime(),prevTranslate=currentTranslate}}function handleTouchEnd(e){if(!isTouched||!isMoved)return void(isTouched=isMoved=!1);isTouched=isMoved=!1,col.wrapper.transition(""),returnTo&&("min"===returnTo?col.wrapper.transform("translate3d(0,"+minTranslate+"px,0)"):col.wrapper.transform("translate3d(0,"+maxTranslate+"px,0)")),touchEndTime=(new Date).getTime();var velocity,newTranslate;touchEndTime-touchStartTime>300?newTranslate=currentTranslate:(velocity=Math.abs(velocityTranslate/(touchEndTime-velocityTime)),newTranslate=currentTranslate+velocityTranslate*p.params.momentumRatio),newTranslate=Math.max(Math.min(newTranslate,maxTranslate),minTranslate);var activeIndex=-Math.floor((newTranslate-maxTranslate)/itemHeight);p.params.freeMode||(newTranslate=-activeIndex*itemHeight+maxTranslate),col.wrapper.transform("translate3d(0,"+parseInt(newTranslate,10)+"px,0)"),col.updateItems(activeIndex,newTranslate,"",!0),p.params.updateValuesOnMomentum&&(updateDuringScroll(),col.wrapper.transitionEnd(function(){$.cancelAnimationFrame(animationFrameId)})),setTimeout(function(){allowItemClick=!0},100)}function handleClick(e){if(allowItemClick){$.cancelAnimationFrame(animationFrameId);var value=$(this).attr("data-picker-value");col.setValue(value)}}var colContainer=$(colElement),colIndex=colContainer.index(),col=p.cols[colIndex];if(!col.divider){col.container=colContainer,col.wrapper=col.container.find(".picker-items-col-wrapper"),col.items=col.wrapper.find(".picker-item");var wrapperHeight,itemHeight,itemsHeight,minTranslate,maxTranslate;col.replaceValues=function(values,displayValues){col.destroyEvents(),col.values=values,col.displayValues=displayValues;var newItemsHTML=p.columnHTML(col,!0);col.wrapper.html(newItemsHTML),col.items=col.wrapper.find(".picker-item"),col.calcSize(),col.setValue(col.values[0],0,!0),col.initEvents()},col.calcSize=function(){p.params.rotateEffect&&(col.container.removeClass("picker-items-col-absolute"),col.width||col.container.css({width:""}));var colWidth,colHeight;colWidth=0,colHeight=col.container[0].offsetHeight,wrapperHeight=col.wrapper[0].offsetHeight,itemHeight=col.items[0].offsetHeight,itemsHeight=itemHeight*col.items.length,minTranslate=colHeight/2-itemsHeight+itemHeight/2,maxTranslate=colHeight/2-itemHeight/2,col.width&&(colWidth=col.width,parseInt(colWidth,10)===colWidth&&(colWidth+="px"),col.container.css({width:colWidth})),p.params.rotateEffect&&(col.width||(col.items.each(function(){var item=$(this);item.css({width:"auto"}),colWidth=Math.max(colWidth,item[0].offsetWidth),item.css({width:""})}),col.container.css({width:colWidth+2+"px"})),col.container.addClass("picker-items-col-absolute"))},col.calcSize(),col.wrapper.transform("translate3d(0,"+maxTranslate+"px,0)").transition(0);var animationFrameId;col.setValue=function(newValue,transition,valueCallbacks){"undefined"==typeof transition&&(transition="");var newActiveIndex=col.wrapper.find('.picker-item[data-picker-value="'+newValue+'"]').index();if("undefined"!=typeof newActiveIndex&&newActiveIndex!==-1){var newTranslate=-newActiveIndex*itemHeight+maxTranslate;col.wrapper.transition(transition),col.wrapper.transform("translate3d(0,"+newTranslate+"px,0)"),p.params.updateValuesOnMomentum&&col.activeIndex&&col.activeIndex!==newActiveIndex&&($.cancelAnimationFrame(animationFrameId),col.wrapper.transitionEnd(function(){$.cancelAnimationFrame(animationFrameId)}),updateDuringScroll()),col.updateItems(newActiveIndex,newTranslate,transition,valueCallbacks)}},col.updateItems=function(activeIndex,translate,transition,valueCallbacks){"undefined"==typeof translate&&(translate=$.getTranslate(col.wrapper[0],"y")),"undefined"==typeof activeIndex&&(activeIndex=-Math.round((translate-maxTranslate)/itemHeight)),activeIndex<0&&(activeIndex=0),activeIndex>=col.items.length&&(activeIndex=col.items.length-1);var previousActiveIndex=col.activeIndex;col.activeIndex=activeIndex,col.wrapper.find(".picker-selected").removeClass("picker-selected"),p.params.rotateEffect&&col.items.transition(transition);var selectedItem=col.items.eq(activeIndex).addClass("picker-selected").transform("");if((valueCallbacks||"undefined"==typeof valueCallbacks)&&(col.value=selectedItem.attr("data-picker-value"),col.displayValue=col.displayValues?col.displayValues[activeIndex]:col.value,previousActiveIndex!==activeIndex&&(col.onChange&&col.onChange(p,col.value,col.displayValue),p.updateValue())),p.params.rotateEffect){(translate-(Math.floor((translate-maxTranslate)/itemHeight)*itemHeight+maxTranslate))/itemHeight;col.items.each(function(){var item=$(this),itemOffsetTop=item.index()*itemHeight,translateOffset=maxTranslate-translate,itemOffset=itemOffsetTop-translateOffset,percentage=itemOffset/itemHeight,itemsFit=Math.ceil(col.height/itemHeight/2)+1,angle=-18*percentage;angle>180&&(angle=180),angle<-180&&(angle=-180),Math.abs(percentage)>itemsFit?item.addClass("picker-item-far"):item.removeClass("picker-item-far"),item.transform("translate3d(0, "+(-translate+maxTranslate)+"px, "+(originBug?-110:0)+"px) rotateX("+angle+"deg)")})}},updateItems&&col.updateItems(0,maxTranslate,0);var isTouched,isMoved,touchStartY,touchCurrentY,touchStartTime,touchEndTime,startTranslate,returnTo,currentTranslate,prevTranslate,velocityTranslate,velocityTime,allowItemClick=!0;col.initEvents=function(detach){var method=detach?"off":"on";col.container[method]($.touchEvents.start,handleTouchStart),col.container[method]($.touchEvents.move,handleTouchMove),col.container[method]($.touchEvents.end,handleTouchEnd),col.items[method]("click",handleClick)},col.destroyEvents=function(){col.initEvents(!0)},col.container[0].f7DestroyPickerCol=function(){col.destroyEvents()},col.initEvents()}},p.destroyPickerCol=function(colContainer){colContainer=$(colContainer),"f7DestroyPickerCol"in colContainer[0]&&colContainer[0].f7DestroyPickerCol()},$(window).on("resize",resizeCols),p.columnHTML=function(col,onlyItems){var columnItemsHTML="",columnHTML="";if(col.divider)columnHTML+='<div class="picker-items-col picker-items-col-divider '+(col.textAlign?"picker-items-col-"+col.textAlign:"")+" "+(col.cssClass||"")+'">'+col.content+"</div>";else{for(var j=0;j<col.values.length;j++)columnItemsHTML+='<div class="picker-item" data-picker-value="'+col.values[j]+'">'+(col.displayValues?col.displayValues[j]:col.values[j])+"</div>";columnHTML+='<div class="picker-items-col '+(col.textAlign?"picker-items-col-"+col.textAlign:"")+" "+(col.cssClass||"")+'"><div class="picker-items-col-wrapper">'+columnItemsHTML+"</div></div>"}return onlyItems?columnItemsHTML:columnHTML},p.layout=function(){var i,pickerHTML="",pickerClass="";p.cols=[];var colsHTML="";for(i=0;i<p.params.cols.length;i++){var col=p.params.cols[i];colsHTML+=p.columnHTML(p.params.cols[i]),p.cols.push(col)}pickerClass="picker-modal picker-columns "+(p.params.cssClass||"")+(p.params.rotateEffect?" picker-3d":""),pickerHTML='<div class="'+pickerClass+'">'+(p.params.toolbar?p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+colsHTML+'<div class="picker-center-highlight"></div></div></div>',p.pickerHTML=pickerHTML},p.params.input&&(p.input=$(p.params.input),
p.input.length>0&&(p.params.inputReadOnly&&p.input.prop("readOnly",!0),p.inline||p.input.on("click",openOnInput),p.params.inputReadOnly&&p.input.on("focus mousedown",function(e){e.preventDefault()}))),p.inline||$("html").on("click",closeOnHTMLClick),p.opened=!1,p.open=function(){p.opened||(p.layout(),p.inline?(p.container=$(p.pickerHTML),p.container.addClass("picker-modal-inline"),$(p.params.container).append(p.container)):(p.container=$($.pickerModal(p.pickerHTML)),$(p.container).on("close",function(){onPickerClose()})),p.container[0].f7Picker=p,p.container.find(".picker-items-col").each(function(){var updateItems=!0;(!p.initialized&&p.params.value||p.initialized&&p.value)&&(updateItems=!1),p.initPickerCol(this,updateItems)}),p.initialized?p.value&&p.setValue(p.value,0):p.params.value&&p.setValue(p.params.value,0)),p.opened=!0,p.initialized=!0,p.params.onOpen&&p.params.onOpen(p)},p.close=function(){p.opened&&!p.inline&&$.closeModal(p.container)},p.destroy=function(){p.close(),p.params.input&&p.input.length>0&&p.input.off("click focus",openOnInput),$("html").off("click",closeOnHTMLClick),$(window).off("resize",resizeCols)},p.inline&&p.open(),p};$(document).on("click",".close-picker",function(){var pickerToClose=$(".picker-modal.modal-in");$.closeModal(pickerToClose)}),$.fn.picker=function(params){var args=arguments;return this.each(function(){if(this){var $this=$(this),picker=$this.data("picker");if(!picker){var p=$.extend({input:this},params);picker=new Picker(p),$this.data("picker",picker)}"string"==typeof params&&picker[params].apply(picker,Array.prototype.slice.call(args,1))}})}}(Zepto),+function($){"use strict";var today=new Date,getDays=function(max){for(var days=[],i=1;i<=(max||31);i++)days.push(i<10?"0"+i:i);return days},getDaysByMonthAndYear=function(month,year){var int_d=new Date(year,parseInt(month)+1-1,1),d=new Date(int_d-1);return getDays(d.getDate())},formatNumber=function(n){return n<10?"0"+n:n},initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),initYears=function(){for(var arr=[],i=1950;i<=2030;i++)arr.push(i);return arr}(),defaults={rotateEffect:!1,value:[today.getFullYear(),formatNumber(today.getMonth()+1),today.getDate(),today.getHours(),formatNumber(today.getMinutes())],onChange:function(picker,values,displayValues){var days=getDaysByMonthAndYear(picker.cols[1].value,picker.cols[0].value),currentValue=picker.cols[2].value;currentValue>days.length&&(currentValue=days.length),picker.cols[2].setValue(currentValue)},formatValue:function(p,values,displayValues){return displayValues[0]+"-"+values[1]+"-"+values[2]+" "+values[3]+":"+values[4]},cols:[{values:initYears},{values:initMonthes},{values:getDays()},{divider:!0,content:"  "},{values:function(){for(var arr=[],i=0;i<=23;i++)arr.push(i);return arr}()},{divider:!0,content:":"},{values:function(){for(var arr=[],i=0;i<=59;i++)arr.push(i<10?"0"+i:i);return arr}()}]};$.fn.datetimePicker=function(params){return this.each(function(){if(this){var p=$.extend(defaults,params);$(this).picker(p)}})}}(Zepto),+function(window){"use strict";function IScroll(el,options){this.wrapper="string"==typeof el?document.querySelector(el):el,this.scroller=$(this.wrapper).find(".content-inner")[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,eventPassthrough:void 0};for(var i in options)this.options[i]=options[i];this.translateZ=this.options.HWCompositing&&utils.hasPerspective?" translateZ(0)":"",this.options.useTransition=utils.hasTransition&&this.options.useTransition,this.options.useTransform=utils.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3===this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement("div"),indicator=document.createElement("div");return type===!0&&(scrollbar.style.cssText="position:absolute;z-index:9999",indicator.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),indicator.className="iScrollIndicator","h"===direction?(type===!0&&(scrollbar.style.cssText+=";height:5px;left:2px;right:2px;bottom:0",indicator.style.height="100%"),scrollbar.className="iScrollHorizontalScrollbar"):(type===!0&&(scrollbar.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px",indicator.style.width="100%"),scrollbar.className="iScrollVerticalScrollbar"),scrollbar.style.cssText+=";overflow:hidden",interactive||(scrollbar.style.pointerEvents="none"),scrollbar.appendChild(indicator),scrollbar}function Indicator(scroller,options){this.wrapper="string"==typeof options.el?document.querySelector(options.el):options.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=scroller,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in options)this.options[i]=options[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(utils.addEvent(this.indicator,"touchstart",this),utils.addEvent(window,"touchend",this)),this.options.disablePointer||(utils.addEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.addEvent(window,utils.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(utils.addEvent(this.indicator,"mousedown",this),utils.addEvent(window,"mouseup",this))),this.options.fade&&(this.wrapperStyle[utils.style.transform]=this.scroller.translateZ,this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)},utils=function(){function _prefixStyle(style){return _vendor!==!1&&(""===_vendor?style:_vendor+style.charAt(0).toUpperCase()+style.substr(1))}var me={},_elementStyle=document.createElement("div").style,_vendor=function(){for(var transform,vendors=["t","webkitT","MozT","msT","OT"],i=0,l=vendors.length;i<l;i++)if(transform=vendors[i]+"ransform",transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);return!1}();me.getTime=Date.now||function(){return(new Date).getTime()},me.extend=function(target,obj){for(var i in obj)target[i]=obj[i]},me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture)},me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture)},me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?"MSPointer"+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent},me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration,self){function eventTrigger(){+new Date-l>50&&(self._execEvent("scroll"),l=+new Date),+new Date-t<duration&&rAF(eventTrigger)}var destination,duration,distance=current-start,speed=Math.abs(distance)/time;speed/=2,speed=speed>1.5?1.5:speed,deceleration=void 0===deceleration?6e-4:deceleration,destination=current+speed*speed/(2*deceleration)*(distance<0?-1:1),duration=speed/deceleration,destination<lowerMargin?(destination=wrapperSize?lowerMargin-wrapperSize/2.5*(speed/8):lowerMargin,distance=Math.abs(destination-current),duration=distance/speed):destination>0&&(destination=wrapperSize?wrapperSize/2.5*(speed/8):0,distance=Math.abs(current)+destination,duration=distance/speed);var t=+new Date,l=t;return rAF(eventTrigger),{destination:Math.round(destination),duration:duration}};var _transform=_prefixStyle("transform");return me.extend(me,{hasTransform:_transform!==!1,hasPerspective:_prefixStyle("perspective")in _elementStyle,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:_prefixStyle("transition")in _elementStyle}),me.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)&&!1,me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle("transitionTimingFunction"),transitionDuration:_prefixStyle("transitionDuration"),transitionDelay:_prefixStyle("transitionDelay"),transformOrigin:_prefixStyle("transformOrigin")}),me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className)},me.addClass=function(e,c){if(!me.hasClass(e,c)){var newclass=e.className.split(" ");newclass.push(c),e.className=newclass.join(" ")}},me.removeClass=function(e,c){if(me.hasClass(e,c)){var re=new RegExp("(^|\\s)"+c+"(\\s|$)","g");e.className=e.className.replace(re," ")}},me.offset=function(el){for(var left=-el.offsetLeft,top=-el.offsetTop;el=el.offsetParent;)left-=el.offsetLeft,top-=el.offsetTop;return{left:left,top:top}},me.preventDefaultException=function(el,exceptions){for(var i in exceptions)if(exceptions[i].test(el[i]))return!0;return!1},me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),me.extend(me.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(k){return k*(2-k)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(k){return Math.sqrt(1- --k*k)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(k){var b=4;return(k-=1)*k*((b+1)*k+b)+1}},bounce:{style:"",fn:function(k){return(k/=1)<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375}},elastic:{style:"",fn:function(k){var f=.22,e=.4;return 0===k?0:1===k?1:e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1}}}),me.tap=function(e,eventName){var ev=document.createEvent("Event");ev.initEvent(eventName,!0,!0),ev.pageX=e.pageX,ev.pageY=e.pageY,e.target.dispatchEvent(ev)},me.click=function(e){var ev,target=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)||(ev=document.createEvent("MouseEvents"),ev.initMouseEvent("click",!0,!0,e.view,1,target.screenX,target.screenY,target.clientX,target.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),ev._constructed=!0,target.dispatchEvent(ev))},me}();IScroll.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if((1===utils.eventType[e.type]||0===e.button)&&this.enabled&&(!this.initiated||utils.eventType[e.type]===this.initiated)){!this.options.preventDefault||utils.isBadAndroid||utils.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var pos,point=e.touches?e.touches[0]:e;this.initiated=utils.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=utils.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=point.pageX,this.pointY=point.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&utils.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var newX,newY,absDistX,absDistY,point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime();if(this.pointX=point.pageX,this.pointY=point.pageY,this.distX+=deltaX,this.distY+=deltaY,absDistX=Math.abs(this.distX),absDistY=Math.abs(this.distY),!(timestamp-this.endTime>300&&absDistX<10&&absDistY<10)){if(this.directionLocked||this.options.freeScroll||(absDistX>absDistY+this.options.directionLockThreshold?this.directionLocked="h":absDistY>=absDistX+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)e.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);deltaY=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)e.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);deltaX=0}deltaX=this.hasHorizontalScroll?deltaX:0,deltaY=this.hasVerticalScroll?deltaY:0,newX=this.x+deltaX,newY=this.y+deltaY,(newX>0||newX<this.maxScrollX)&&(newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX),(newY>0||newY<this.maxScrollY)&&(newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY),this.directionX=deltaX>0?-1:deltaX<0?1:0,this.directionY=deltaY>0?-1:deltaY<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(newX,newY),timestamp-this.startTime>300&&(this.startTime=timestamp,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&utils.eventType[e.type]===this.initiated){this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing="";if(this.isInTransition=0,this.initiated=0,this.endTime=utils.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(newX,newY),!this.moved)return this.options.tap&&utils.tap(e,this.options.tap),this.options.click&&utils.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100)return void this._execEvent("flick");if(this.options.momentum&&duration<300&&(momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:newX,duration:0},momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:newY,duration:0},newX=momentumX.destination,newY=momentumY.destination,time=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=1),this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap,time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1e3),Math.min(Math.abs(newY-snap.y),1e3)),300),newX=snap.x,newY=snap.y,this.directionX=0,this.directionY=0,easing=this.options.bounceEasing}return newX!==this.x||newY!==this.y?((newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY)&&(easing=utils.ease.quadratic),void this.scrollTo(newX,newY,time,easing)):void this._execEvent("scrollEnd")}}},_resize:function(){var that=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){that.refresh()},this.options.resizePolling)},resetPosition:function(time){var x=this.x,y=this.y;if(time=time||0,!this.hasHorizontalScroll||this.x>0?x=0:this.x<this.maxScrollX&&(x=this.maxScrollX),!this.hasVerticalScroll||this.y>0?y=0:this.y<this.maxScrollY&&(y=this.maxScrollY),x===this.x&&y===this.y)return!1;if(this.options.ptr&&this.y>44&&this.startY*-1<$(window).height()&&!this.ptrLock){y=this.options.ptrOffset||44,this._execEvent("ptr"),this.ptrLock=!0;var self=this;setTimeout(function(){self.ptrLock=!1},500)}return this.scrollTo(x,y,time,this.options.bounceEasing),!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=utils.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(type,fn){this._events[type]||(this._events[type]=[]),this._events[type].push(fn)},off:function(type,fn){if(this._events[type]){var index=this._events[type].indexOf(fn);index>-1&&this._events[type].splice(index,1)}},_execEvent:function(type){if(this._events[type]){var i=0,l=this._events[type].length;if(l)for(;i<l;i++)this._events[type][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(x,y,time,easing){x=this.x+x,y=this.y+y,time=time||0,this.scrollTo(x,y,time,easing)},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular,this.isInTransition=this.options.useTransition&&time>0,!time||this.options.useTransition&&easing.style?(this._transitionTimingFunction(easing.style),this._transitionTime(time),this._translate(x,y)):this._animate(x,y,time,easing.fn)},scrollToElement:function(el,time,offsetX,offsetY,easing){if(el=el.nodeType?el:this.scroller.querySelector(el)){var pos=utils.offset(el);pos.left-=this.wrapperOffset.left,pos.top-=this.wrapperOffset.top,offsetX===!0&&(offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2)),offsetY===!0&&(offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2)),pos.left-=offsetX||0,pos.top-=offsetY||0,pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left,pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top,time=void 0===time||null===time||"auto"===time?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time,this.scrollTo(pos.left,pos.top,time,easing)}},_transitionTime:function(time){if(time=time||0,this.scrollerStyle[utils.style.transitionDuration]=time+"ms",!time&&utils.isBadAndroid&&(this.scrollerStyle[utils.style.transitionDuration]="0.001s"),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(time)},_transitionTimingFunction:function(easing){if(this.scrollerStyle[utils.style.transitionTimingFunction]=easing,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(easing)},_translate:function(x,y){if(this.options.useTransform?this.scrollerStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.translateZ:(x=Math.round(x),y=Math.round(y),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=y+"px"),this.x=x,this.y=y,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,"orientationchange",this),eventType(window,"resize",this),this.options.click&&eventType(this.wrapper,"click",this,!0),this.options.disableMouse||(eventType(this.wrapper,"mousedown",this),eventType(target,"mousemove",this),eventType(target,"mousecancel",this),eventType(target,"mouseup",this)),utils.hasPointer&&!this.options.disablePointer&&(eventType(this.wrapper,utils.prefixPointerEvent("pointerdown"),this),eventType(target,utils.prefixPointerEvent("pointermove"),this),eventType(target,utils.prefixPointerEvent("pointercancel"),this),eventType(target,utils.prefixPointerEvent("pointerup"),this)),utils.hasTouch&&!this.options.disableTouch&&(eventType(this.wrapper,"touchstart",this),eventType(target,"touchmove",this),eventType(target,"touchcancel",this),eventType(target,"touchend",this)),eventType(this.scroller,"transitionend",this),eventType(this.scroller,"webkitTransitionEnd",this),eventType(this.scroller,"oTransitionEnd",this),eventType(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var x,y,matrix=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(matrix=matrix[utils.style.transform].split(")")[0].split(", "),x=+(matrix[12]||matrix[4]),y=+(matrix[13]||matrix[5])):(x=+matrix.left.replace(/[^-\d.]/g,""),y=+matrix.top.replace(/[^-\d.]/g,"")),{x:x,y:y}},_initIndicators:function(){function _indicatorsMap(fn){for(var i=that.indicators.length;i--;)fn.call(that.indicators[i])}var indicator,interactive=this.options.interactiveScrollbars,customStyle="string"!=typeof this.options.scrollbars,indicators=[],that=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(indicator={el:createDefaultScrollbar("v",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator)),this.options.scrollX&&(indicator={el:createDefaultScrollbar("h",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator))),this.options.indicators&&(indicators=indicators.concat(this.options.indicators));for(var i=indicators.length;i--;)this.indicators.push(new Indicator(this,indicators[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollCancel",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollStart",function(){_indicatorsMap(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){_indicatorsMap(function(){this.fade(1,!0)})})),this.on("refresh",function(){_indicatorsMap(function(){this.refresh()})}),this.on("destroy",function(){_indicatorsMap(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){utils.addEvent(this.wrapper,"wheel",this),utils.addEvent(this.wrapper,"mousewheel",this),utils.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){utils.removeEvent(this.wrapper,"wheel",this),utils.removeEvent(this.wrapper,"mousewheel",this),utils.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(void 0===this.wheelTimeout&&that._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){that._execEvent("scrollEnd"),that.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed,wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed):(wheelDeltaX=-e.deltaX,wheelDeltaY=-e.deltaY);else if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed,wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed}if(wheelDeltaX*=this.options.invertWheelDirection,wheelDeltaY*=this.options.invertWheelDirection,this.hasVerticalScroll||(wheelDeltaX=wheelDeltaY,wheelDeltaY=0),this.options.snap)return newX=this.currentPage.pageX,newY=this.currentPage.pageY,wheelDeltaX>0?newX--:wheelDeltaX<0&&newX++,wheelDeltaY>0?newY--:wheelDeltaY<0&&newY++,void this.goToPage(newX,newY);newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0),newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0),newX>0?newX=0:newX<this.maxScrollX&&(newX=this.maxScrollX),newY>0?newY=0:newY<this.maxScrollY&&(newY=this.maxScrollY),this.scrollTo(newX,newY,0),this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var l,n,cx,cy,y,el,i=0,m=0,x=0,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(cx=Math.round(stepX/2),cy=Math.round(stepY/2);x>-this.scrollerWidth;){for(this.pages[i]=[],l=0,y=0;y>-this.scrollerHeight;)this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy},y-=stepY,l++;x-=stepX,i++}else for(el=this.options.snap,l=el.length,n=-1;i<l;i++)(0===i||el[i].offsetLeft<=el[i-1].offsetLeft)&&(m=0,n++),this.pages[m]||(this.pages[m]=[]),x=Math.max(-el[i].offsetLeft,this.maxScrollX),y=Math.max(-el[i].offsetTop,this.maxScrollY),cx=x-Math.round(el[i].offsetWidth/2),cy=y-Math.round(el[i].offsetHeight/2),this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy},x>this.maxScrollX&&m++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time)})},_nearestSnap:function(x,y){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY)return this.currentPage;for(x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX),y>0?y=0:y<this.maxScrollY&&(y=this.maxScrollY);i<l;i++)if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break}for(l=this.pages[i].length;m<l;m++)if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break}return i===this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),x=this.pages[i][0].x),m===this.currentPage.pageY&&(m+=this.directionY,m<0?m=0:m>=this.pages[0].length&&(m=this.pages[0].length-1),y=this.pages[0][m].y),{x:x,y:y,pageX:i,pageY:m}},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing,x>=this.pages.length?x=this.pages.length-1:x<0&&(x=0),y>=this.pages[x].length?y=this.pages[x].length-1:y<0&&(y=0);var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=void 0===time?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1e3),Math.min(Math.abs(posY-this.y),1e3)),300):time,this.currentPage={x:posX,y:posY,pageX:x,pageY:y},this.scrollTo(posX,posY,time,easing)},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++,x>=this.pages.length&&this.hasVerticalScroll&&(x=0,y++),this.goToPage(x,y,time,easing)},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--,x<0&&this.hasVerticalScroll&&(x=0,y--),this.goToPage(x,y,time,easing)},_initKeys:function(){var i,keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in keys)this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];utils.addEvent(window,"keydown",this),this.on("destroy",function(){utils.removeEvent(window,"keydown",this)})},_key:function(e){if(this.enabled){var pos,snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=.25;switch(this.options.useTransition&&this.isInTransition&&(pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this.isInTransition=!1),this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX+=snap?1:this.wrapperWidth:newY+=snap?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX-=snap?1:this.wrapperWidth:newY-=snap?1:this.wrapperHeight;break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX,newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0,newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return}if(snap)return void this.goToPage(newX,newY);newX>0?(newX=0,this.keyAcceleration=0):newX<this.maxScrollX&&(newX=this.maxScrollX,this.keyAcceleration=0),newY>0?(newY=0,this.keyAcceleration=0):newY<this.maxScrollY&&(newY=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(newX,newY,0),this.keyTime=now}},_animate:function(destX,destY,duration,easingFn){function step(){var newX,newY,easing,now=utils.getTime();return now>=destTime?(that.isAnimating=!1,that._translate(destX,destY),void(that.resetPosition(that.options.bounceTime)||that._execEvent("scrollEnd"))):(now=(now-startTime)/duration,easing=easingFn(now),newX=(destX-startX)*easing+startX,newY=(destY-startY)*easing+startY,that._translate(newX,newY),that.isAnimating&&rAF(step),void(3===that.options.probeType&&that._execEvent("scroll")))}var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;this.isAnimating=!0,step()},handleEvent:function(e){switch(e.type){
case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},Indicator.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.interactive&&(utils.removeEvent(this.indicator,"touchstart",this),utils.removeEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.removeEvent(this.indicator,"mousedown",this),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this),utils.removeEvent(window,"touchend",this),utils.removeEvent(window,utils.prefixPointerEvent("pointerup"),this),utils.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=point.pageX,this.lastPointY=point.pageY,this.startTime=utils.getTime(),this.options.disableTouch||utils.addEvent(window,"touchmove",this),this.options.disablePointer||utils.addEvent(window,utils.prefixPointerEvent("pointermove"),this),this.options.disableMouse||utils.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var deltaX,deltaY,newX,newY,point=e.touches?e.touches[0]:e,timestamp=utils.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,deltaX=point.pageX-this.lastPointX,this.lastPointX=point.pageX,deltaY=point.pageY-this.lastPointY,this.lastPointY=point.pageY,newX=this.x+deltaX,newY=this.y+deltaY,this._pos(newX,newY),1===this.scroller.options.probeType&&timestamp-this.startTime>300?(this.startTime=timestamp,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this),this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1e3),Math.min(Math.abs(this.scroller.y-snap.y),1e3)),300);this.scroller.x===snap.x&&this.scroller.y===snap.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=snap,this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(time){time=time||0,this.indicatorStyle[utils.style.transitionDuration]=time+"ms",!time&&utils.isBadAndroid&&(this.indicatorStyle[utils.style.transitionDuration]="0.001s")},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(utils.addClass(this.wrapper,"iScrollBothScrollbars"),utils.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(utils.removeClass(this.wrapper,"iScrollBothScrollbars"),utils.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(x<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=Math.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px"),x=this.minBoundaryX):x>this.maxBoundaryX?"scale"===this.options.shrink?(this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):x=this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),y<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*y,8),this.indicatorStyle.height=this.height+"px"),y=this.minBoundaryY):y>this.maxBoundaryY?"scale"===this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(y-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",y=this.maxPosY+this.indicatorHeight-this.height):y=this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=x,this.y=y,this.scroller.options.useTransform?this.indicatorStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=x+"px",this.indicatorStyle.top=y+"px")},_pos:function(x,y){x<0?x=0:x>this.maxPosX&&(x=this.maxPosX),y<0?y=0:y>this.maxPosY&&(y=this.maxPosY),x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x,y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(x,y)},fade:function(val,hold){if(!hold||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?"1":"0",this.wrapperStyle[utils.style.transitionDuration]=time+"ms",this.fadeTimeout=setTimeout(function(val){this.wrapperStyle.opacity=val,this.visible=+val}.bind(this,val),delay)}}},IScroll.utils=utils,window.IScroll=IScroll}(window),+function($){"use strict";function Plugin(option){var args=Array.apply(null,arguments);args.shift();var internal_return;return this.each(function(){var $this=$(this),options=$.extend({},$this.dataset(),"object"==typeof option&&option),data=$this.data("scroller");if(data||$this.data("scroller",data=new Scroller(this,options)),"string"==typeof option&&"function"==typeof data[option]&&(internal_return=data[option].apply(data,args),void 0!==internal_return))return!1}),void 0!==internal_return?internal_return:this}var compareVersion=function(a,b){var as=a.split("."),bs=b.split(".");if(a===b)return 0;for(var i=0;i<as.length;i++){var x=parseInt(as[i]);if(!bs[i])return 1;var y=parseInt(bs[i]);if(x<y)return-1;if(x>y)return 1}return 1},_zeptoMethodCache={scrollTop:$.fn.scrollTop,scrollLeft:$.fn.scrollLeft};!function(){$.extend($.fn,{scrollTop:function(top,dur){if(this.length){var scroller=this.data("scroller");return scroller&&scroller.scroller?scroller.scrollTop(top,dur):_zeptoMethodCache.scrollTop.apply(this,arguments)}}}),$.extend($.fn,{scrollLeft:function(left,dur){if(this.length){var scroller=this.data("scroller");return scroller&&scroller.scroller?scroller.scrollLeft(left,dur):_zeptoMethodCache.scrollLeft.apply(this,arguments)}}})}();var Scroller=function(pageContent,_options){var $pageContent=this.$pageContent=$(pageContent);this.options=$.extend({},this._defaults,_options);var type=this.options.type,useJSScroller="js"===type||"auto"===type&&$.os.android&&compareVersion("4.4.0",$.os.version)>-1||$.os.ios&&compareVersion("6.0.0",$.os.version)>-1;if(useJSScroller){var $pageContentInner=$pageContent.find(".content-inner");if(!$pageContentInner[0]){var children=$pageContent.children();children.length<1?$pageContent.children().wrapAll('<div class="content-inner"></div>'):$pageContent.html('<div class="content-inner">'+$pageContent.html()+"</div>")}$pageContent.hasClass("pull-to-refresh-content")&&$pageContent.find(".content-inner").css("min-height",$(window).height()+20+"px");var ptr=$(pageContent).hasClass("pull-to-refresh-content"),options={probeType:1,mouseWheel:!0};ptr&&(options.ptr=!0,options.ptrOffset=44),this.scroller=new IScroll(pageContent,options),this._bindEventToDomWhenJs(),$.initPullToRefresh=$._pullToRefreshJSScroll.initPullToRefresh,$.pullToRefreshDone=$._pullToRefreshJSScroll.pullToRefreshDone,$.pullToRefreshTrigger=$._pullToRefreshJSScroll.pullToRefreshTrigger,$.destroyToRefresh=$._pullToRefreshJSScroll.destroyToRefresh,$pageContent.addClass("javascript-scroll");var nativeScrollTop=this.$pageContent[0].scrollTop;nativeScrollTop&&(this.$pageContent[0].scrollTop=0,this.scrollTop(nativeScrollTop))}else $pageContent.addClass("native-scroll")};Scroller.prototype={_defaults:{type:"native"},_bindEventToDomWhenJs:function(){if(this.scroller){var self=this;this.scroller.on("scrollStart",function(){self.$pageContent.trigger("scrollstart")}),this.scroller.on("scroll",function(){self.$pageContent.trigger("scroll")}),this.scroller.on("scrollEnd",function(){self.$pageContent.trigger("scrollend")})}},scrollTop:function(top,dur){return this.scroller?void 0===top?this.scroller.getComputedPosition().y*-1:(this.scroller.scrollTo(0,-1*top,dur),this):this.$pageContent.scrollTop(top,dur)},scrollLeft:function(left,dur){return this.scroller?void 0===left?this.scroller.getComputedPosition().x*-1:(this.scroller.scrollTo(-1*left,0),this):this.$pageContent.scrollTop(left,dur)},on:function(event,callback){return this.scroller?this.scroller.on(event,function(){callback.call(this.wrapper)}):this.$pageContent.on(event,callback),this},off:function(event,callback){return this.scroller?this.scroller.off(event,callback):this.$pageContent.off(event,callback),this},refresh:function(){return this.scroller&&this.scroller.refresh(),this},scrollHeight:function(){return this.scroller?this.scroller.scrollerHeight:this.$pageContent[0].scrollHeight}};var old=$.fn.scroller;$.fn.scroller=Plugin,$.fn.scroller.Constructor=Scroller,$.fn.scroller.noConflict=function(){return $.fn.scroller=old,this},$(function(){$('[data-toggle="scroller"]').scroller()}),$.refreshScroller=function(content){content?$(content).scroller("refresh"):$(".javascript-scroll").each(function(){$(this).scroller("refresh")})},$.initScroller=function(option){this.options=$.extend({},"object"==typeof option&&option),$('[data-toggle="scroller"],.content').scroller(option)},$.getScroller=function(content){return content?$(content).data("scroller"):$(".content.javascript-scroll").data("scroller")},$.detectScrollerType=function(content){if(content)return $(content).data("scroller")&&$(content).data("scroller").scroller?"js":"native"}}(Zepto),+function($){"use strict";var refreshTime=0,initPullToRefreshJS=function(pageContainer){function handleScroll(){container.hasClass("refreshing")||(scroller.scrollTop()*-1>=44?container.removeClass("pull-down").addClass("pull-up"):container.removeClass("pull-up").addClass("pull-down"))}function handleRefresh(){container.hasClass("refreshing")||(container.removeClass("pull-down pull-up"),container.addClass("refreshing transitioning"),container.trigger("refresh",{done:function(){$.pullToRefreshDone(container)}}),refreshTime=+new Date)}function destroyPullToRefresh(){scroller.off("scroll",handleScroll),scroller.scroller.off("ptr",handleRefresh)}var eventsTarget=$(pageContainer);if(eventsTarget.hasClass("pull-to-refresh-content")||(eventsTarget=eventsTarget.find(".pull-to-refresh-content")),eventsTarget&&0!==eventsTarget.length){var page=eventsTarget.hasClass("content")?eventsTarget:eventsTarget.parents(".content"),scroller=$.getScroller(page[0]);if(scroller){var container=eventsTarget;scroller.on("scroll",handleScroll),scroller.scroller.on("ptr",handleRefresh),eventsTarget[0].destroyPullToRefresh=destroyPullToRefresh}}},pullToRefreshDoneJS=function(container){if(container=$(container),0===container.length&&(container=$(".pull-to-refresh-content.refreshing")),0!==container.length){var interval=+new Date-refreshTime,timeOut=interval>1e3?0:1e3-interval,scroller=$.getScroller(container);setTimeout(function(){scroller.refresh(),container.removeClass("refreshing"),container.transitionEnd(function(){container.removeClass("transitioning")})},timeOut)}},pullToRefreshTriggerJS=function(container){if(container=$(container),0===container.length&&(container=$(".pull-to-refresh-content")),!container.hasClass("refreshing")){container.addClass("refreshing");var scroller=$.getScroller(container);scroller.scrollTop(45,200),container.trigger("refresh",{done:function(){$.pullToRefreshDone(container)}})}},destroyPullToRefreshJS=function(pageContainer){pageContainer=$(pageContainer);var pullToRefreshContent=pageContainer.hasClass("pull-to-refresh-content")?pageContainer:pageContainer.find(".pull-to-refresh-content");0!==pullToRefreshContent.length&&pullToRefreshContent[0].destroyPullToRefresh&&pullToRefreshContent[0].destroyPullToRefresh()};$._pullToRefreshJSScroll={initPullToRefresh:initPullToRefreshJS,pullToRefreshDone:pullToRefreshDoneJS,pullToRefreshTrigger:pullToRefreshTriggerJS,destroyPullToRefresh:destroyPullToRefreshJS}}(Zepto),+function($){"use strict";$.initPullToRefresh=function(pageContainer){function handleTouchStart(e){if(isTouched){if(!$.os.android)return;if("targetTouches"in e&&e.targetTouches.length>1)return}isMoved=!1,isTouched=!0,isScrolling=void 0,wasScrolled=void 0,touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime(),container=$(this)}function handleTouchMove(e){if(isTouched){var pageX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,pageY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x))),!isScrolling)return void(isTouched=!1);if(scrollTop=container[0].scrollTop,"undefined"==typeof wasScrolled&&0!==scrollTop&&(wasScrolled=!0),!isMoved){if(container.removeClass("transitioning"),scrollTop>container[0].offsetHeight)return void(isTouched=!1);dynamicTriggerDistance&&(triggerDistance=container.attr("data-ptr-distance"),triggerDistance.indexOf("%")>=0&&(triggerDistance=container[0].offsetHeight*parseInt(triggerDistance,10)/100)),startTranslate=container.hasClass("refreshing")?triggerDistance:0,useTranslate=container[0].scrollHeight===container[0].offsetHeight||!$.os.ios,useTranslate=!0}return isMoved=!0,touchesDiff=pageY-touchesStart.y,touchesDiff>0&&scrollTop<=0||scrollTop<0?($.os.ios&&parseInt($.os.version.split(".")[0],10)>7&&0===scrollTop&&!wasScrolled&&(useTranslate=!0),useTranslate&&(e.preventDefault(),translate=Math.pow(touchesDiff,.85)+startTranslate,container.transform("translate3d(0,"+translate+"px,0)")),useTranslate&&Math.pow(touchesDiff,.85)>triggerDistance||!useTranslate&&touchesDiff>=2*triggerDistance?(refresh=!0,container.addClass("pull-up").removeClass("pull-down")):(refresh=!1,container.removeClass("pull-up").addClass("pull-down")),void 0):(container.removeClass("pull-up pull-down"),void(refresh=!1))}}function handleTouchEnd(){return isTouched&&isMoved?(translate&&(container.addClass("transitioning"),translate=0),container.transform(""),refresh?(container.addClass("refreshing"),container.trigger("refresh",{done:function(){$.pullToRefreshDone(container)}})):container.removeClass("pull-down"),isTouched=!1,void(isMoved=!1)):(isTouched=!1,void(isMoved=!1))}function destroyPullToRefresh(){eventsTarget.off($.touchEvents.start,handleTouchStart),eventsTarget.off($.touchEvents.move,handleTouchMove),eventsTarget.off($.touchEvents.end,handleTouchEnd)}var eventsTarget=$(pageContainer);if(eventsTarget.hasClass("pull-to-refresh-content")||(eventsTarget=eventsTarget.find(".pull-to-refresh-content")),eventsTarget&&0!==eventsTarget.length){var isTouched,isMoved,isScrolling,touchesDiff,touchStartTime,container,translate,scrollTop,wasScrolled,triggerDistance,dynamicTriggerDistance,touchesStart={},refresh=!1,useTranslate=!1,startTranslate=0;container=eventsTarget,container.attr("data-ptr-distance")?dynamicTriggerDistance=!0:triggerDistance=44,eventsTarget.on($.touchEvents.start,handleTouchStart),eventsTarget.on($.touchEvents.move,handleTouchMove),eventsTarget.on($.touchEvents.end,handleTouchEnd),eventsTarget[0].destroyPullToRefresh=destroyPullToRefresh}},$.pullToRefreshDone=function(container){container=$(container),0===container.length&&(container=$(".pull-to-refresh-content.refreshing")),container.removeClass("refreshing").addClass("transitioning"),container.transitionEnd(function(){container.removeClass("transitioning pull-up pull-down")})},$.pullToRefreshTrigger=function(container){container=$(container),0===container.length&&(container=$(".pull-to-refresh-content")),container.hasClass("refreshing")||(container.addClass("transitioning refreshing"),container.trigger("refresh",{done:function(){$.pullToRefreshDone(container)}}))},$.destroyPullToRefresh=function(pageContainer){pageContainer=$(pageContainer);var pullToRefreshContent=pageContainer.hasClass("pull-to-refresh-content")?pageContainer:pageContainer.find(".pull-to-refresh-content");0!==pullToRefreshContent.length&&pullToRefreshContent[0].destroyPullToRefresh&&pullToRefreshContent[0].destroyPullToRefresh()}}(Zepto),+function($){"use strict";function handleInfiniteScroll(){var virtualList,inf=$(this),scroller=$.getScroller(inf),scrollTop=scroller.scrollTop(),scrollHeight=scroller.scrollHeight(),height=inf[0].offsetHeight,distance=inf[0].getAttribute("data-distance"),virtualListContainer=inf.find(".virtual-list"),onTop=inf.hasClass("infinite-scroll-top");if(distance||(distance=50),"string"==typeof distance&&distance.indexOf("%")>=0&&(distance=parseInt(distance,10)/100*height),distance>height&&(distance=height),onTop)scrollTop<distance&&inf.trigger("infinite");else if(scrollTop+height>=scrollHeight-distance){if(virtualListContainer.length>0&&(virtualList=virtualListContainer[0].f7VirtualList,virtualList&&!virtualList.reachEnd))return;inf.trigger("infinite")}}$.attachInfiniteScroll=function(infiniteContent){$.getScroller(infiniteContent).on("scroll",handleInfiniteScroll)},$.detachInfiniteScroll=function(infiniteContent){$.getScroller(infiniteContent).off("scroll",handleInfiniteScroll)},$.initInfiniteScroll=function(pageContainer){function detachEvents(){$.detachInfiniteScroll(infiniteContent),pageContainer.off("pageBeforeRemove",detachEvents)}pageContainer=$(pageContainer);var infiniteContent=pageContainer.hasClass("infinite-scroll")?pageContainer:pageContainer.find(".infinite-scroll");0!==infiniteContent.length&&($.attachInfiniteScroll(infiniteContent),pageContainer.on("pageBeforeRemove",detachEvents))}}(Zepto),+function($){"use strict";$(function(){$(document).on("focus",".searchbar input",function(e){var $input=$(e.target);$input.parents(".searchbar").addClass("searchbar-active")}),$(document).on("click",".searchbar-cancel",function(e){var $btn=$(e.target);$btn.parents(".searchbar").removeClass("searchbar-active")}),$(document).on("blur",".searchbar input",function(e){var $input=$(e.target);$input.parents(".searchbar").removeClass("searchbar-active")})})}(Zepto),+function($){"use strict";$.allowPanelOpen=!0,$.openPanel=function(panel){function panelTransitionEnd(){transitionEndTarget.transitionEnd(function(e){e.target===transitionEndTarget[0]?(panel.hasClass("active")?panel.trigger("opened"):panel.trigger("closed"),$.allowPanelOpen=!0):panelTransitionEnd()})}if(!$.allowPanelOpen)return!1;"left"!==panel&&"right"!==panel||(panel=".panel-"+panel),panel=panel?$(panel):$(".panel").eq(0);var direction=panel.hasClass("panel-right")?"right":"left";if(0===panel.length||panel.hasClass("active"))return!1;$.closePanel(),$.allowPanelOpen=!1;var effect=panel.hasClass("panel-reveal")?"reveal":"cover";panel.css({display:"block"}).addClass("active"),panel.trigger("open");var transitionEndTarget=(panel[0].clientLeft,"reveal"===effect?$($.getCurrentPage()):panel);return panelTransitionEnd(),$(document.body).addClass("with-panel-"+direction+"-"+effect),!0},$.closePanel=function(){var activePanel=$(".panel.active");if(0===activePanel.length)return!1;var effect=activePanel.hasClass("panel-reveal")?"reveal":"cover",panelPosition=activePanel.hasClass("panel-left")?"left":"right";activePanel.removeClass("active");var transitionEndTarget="reveal"===effect?$(".page"):activePanel;activePanel.trigger("close"),$.allowPanelOpen=!1,transitionEndTarget.transitionEnd(function(){activePanel.hasClass("active")||(activePanel.css({display:""}),activePanel.trigger("closed"),$("body").removeClass("panel-closing"),$.allowPanelOpen=!0)}),$("body").addClass("panel-closing").removeClass("with-panel-"+panelPosition+"-"+effect)},$(document).on("click",".open-panel",function(e){var panel=$(e.target).data("panel");$.openPanel(panel)}),$(document).on("click",".close-panel, .panel-overlay",function(e){$.closePanel()}),$.initSwipePanels=function(){function handleTouchStart(e){if($.allowPanelOpen&&(swipePanel||swipePanelOnlyClose)&&!isTouched&&!($(".modal-in, .photo-browser-in").length>0)&&(swipePanelCloseOpposite||swipePanelOnlyClose||!($(".panel.active").length>0)||panel.hasClass("active"))){if(touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,swipePanelCloseOpposite||swipePanelOnlyClose){if($(".panel.active").length>0)side=$(".panel.active").hasClass("panel-left")?"left":"right";else{if(swipePanelOnlyClose)return;side=swipePanel}if(!side)return}if(panel=$(".panel.panel-"+side),panel[0]){if(opened=panel.hasClass("active"),swipePanelActiveArea&&!opened){if("left"===side&&touchesStart.x>swipePanelActiveArea)return;if("right"===side&&touchesStart.x<window.innerWidth-swipePanelActiveArea)return}isMoved=!1,isTouched=!0,isScrolling=void 0,touchStartTime=(new Date).getTime(),direction=void 0}}}function handleTouchMove(e){if(isTouched&&panel[0]&&!e.f7PreventPanelSwipe){var pageX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,pageY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x))),isScrolling)return void(isTouched=!1);if(!direction&&(direction=pageX>touchesStart.x?"to-right":"to-left","left"===side&&"to-left"===direction&&!panel.hasClass("active")||"right"===side&&"to-right"===direction&&!panel.hasClass("active")))return void(isTouched=!1);if(swipePanelNoFollow){var timeDiff=(new Date).getTime()-touchStartTime;return timeDiff<300&&("to-left"===direction&&("right"===side&&$.openPanel(side),"left"===side&&panel.hasClass("active")&&$.closePanel()),"to-right"===direction&&("left"===side&&$.openPanel(side),"right"===side&&panel.hasClass("active")&&$.closePanel())),isTouched=!1,void(isMoved=!1)}isMoved||(effect=panel.hasClass("panel-cover")?"cover":"reveal",opened||(panel.show(),panelOverlay.show()),panelWidth=panel[0].offsetWidth,panel.transition(0)),isMoved=!0,e.preventDefault();var threshold=opened?0:-swipePanelThreshold;"right"===side&&(threshold=-threshold),touchesDiff=pageX-touchesStart.x+threshold,"right"===side?(translate=touchesDiff-(opened?panelWidth:0),translate>0&&(translate=0),translate<-panelWidth&&(translate=-panelWidth)):(translate=touchesDiff+(opened?panelWidth:0),translate<0&&(translate=0),translate>panelWidth&&(translate=panelWidth)),"reveal"===effect?(views.transform("translate3d("+translate+"px,0,0)").transition(0),panelOverlay.transform("translate3d("+translate+"px,0,0)")):panel.transform("translate3d("+translate+"px,0,0)").transition(0)}}function handleTouchEnd(e){if(!isTouched||!isMoved)return isTouched=!1,void(isMoved=!1);isTouched=!1,isMoved=!1;var action,timeDiff=(new Date).getTime()-touchStartTime,edge=0===translate||Math.abs(translate)===panelWidth;if(action=opened?translate===-panelWidth?"reset":timeDiff<300&&Math.abs(translate)>=0||timeDiff>=300&&Math.abs(translate)<=panelWidth/2?"left"===side&&translate===panelWidth?"reset":"swap":"reset":0===translate?"reset":timeDiff<300&&Math.abs(translate)>0||timeDiff>=300&&Math.abs(translate)>=panelWidth/2?"swap":"reset","swap"===action&&($.allowPanelOpen=!0,opened?($.closePanel(),edge&&(panel.css({display:""}),$("body").removeClass("panel-closing"))):$.openPanel(side),edge&&($.allowPanelOpen=!0)),"reset"===action)if(opened)$.allowPanelOpen=!0,$.openPanel(side);else if($.closePanel(),edge)$.allowPanelOpen=!0,panel.css({display:""});else{var target="reveal"===effect?views:panel;$("body").addClass("panel-closing"),target.transitionEnd(function(){$.allowPanelOpen=!0,panel.css({display:""}),$("body").removeClass("panel-closing")})}"reveal"===effect&&(views.transition(""),views.transform("")),panel.transition("").transform(""),panelOverlay.css({display:""}).transform("")}var panel,side,swipePanel=$.smConfig.swipePanel,swipePanelOnlyClose=$.smConfig.swipePanelOnlyClose,swipePanelCloseOpposite=!0,swipePanelActiveArea=!1,swipePanelThreshold=2,swipePanelNoFollow=!1;if(swipePanel||swipePanelOnlyClose){var isTouched,isMoved,isScrolling,touchStartTime,touchesDiff,translate,opened,panelWidth,effect,direction,panelOverlay=$(".panel-overlay"),touchesStart={},views=$(".page");$(document).on($.touchEvents.start,handleTouchStart),$(document).on($.touchEvents.move,handleTouchMove),$(document).on($.touchEvents.end,handleTouchEnd)}},$.initSwipePanels()}(Zepto),+function($){"use strict";window.CustomEvent||(window.CustomEvent=function(type,config){var e=document.createEvent("CustomEvent");return e.initCustomEvent(type,config.bubbles,config.cancelable,config.detail,config.id),e});var Router=function(){this.state=sessionStorage,this.state.setItem("stateid",parseInt(this.state.getItem("stateid")||1)+1),this.state.setItem("currentStateID",this.state.getItem("stateid")),this.stack=sessionStorage,this.stack.setItem("back","[]"),this.stack.setItem("forward","[]"),this.init(),this.xhr=null,this.newLoaded=!0};Router.prototype.defaults={},Router.prototype.init=function(){var currentPage=this.getCurrentPage(),page1st=$(".page").eq(0);currentPage[0]||(currentPage=page1st.addClass("page-current"));var hash=location.hash;if(currentPage[0]&&!currentPage[0].id&&(currentPage[0].id=hash?hash.slice(1):this.genRandomID()),!currentPage[0])throw new Error("can't find .page element");var newCurrentPage=$(hash);!newCurrentPage[0]||currentPage[0]&&hash.slice(1)===currentPage[0].id||(currentPage.removeClass("page-current"),newCurrentPage.addClass("page-current"),currentPage=newCurrentPage);var id=this.genStateID(),curUrl=location.href,entryUrl=curUrl.split("#")[0];history.replaceState({url:curUrl,id:id},"",curUrl),this.setCurrentStateID(id),this.pushBack({url:entryUrl,pageid:"#"+page1st[0].id,id:id}),window.addEventListener("popstate",$.proxy(this.onpopstate,this))},Router.prototype.loadPage=function(url){this.newLoaded&&(this.newLoaded=!1),this.getPage(url,function(page){var pageid=this.getCurrentPage()[0].id;this.pushBack({url:url,pageid:"#"+pageid,id:this.getCurrentStateID()});for(var forward=JSON.parse(this.state.getItem("forward")||"[]"),i=0;i<forward.length;i++)$(forward[i].pageid).each(function(){var $page=$(this);$page.data("page-remote")&&$page.remove()});this.state.setItem("forward","[]"),page.insertAfter($(".page")[0]),this.animatePages(this.getCurrentPage(),page);var id=this.genStateID();this.setCurrentStateID(id),this.pushState(url,id),this.forwardStack=[]})},Router.prototype.animatePages=function(leftPage,rightPage,leftToRight){var removeClasses="page-left page-right page-current page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center";leftToRight?(leftPage.trigger("pageAnimationStart",[rightPage[0].id,rightPage]),leftPage.removeClass(removeClasses).addClass("page-from-left-to-center"),rightPage.removeClass(removeClasses).addClass("page-from-center-to-right"),leftPage.animationEnd(function(){leftPage.removeClass(removeClasses).addClass("page-current"),leftPage.trigger("pageAnimationEnd",[leftPage[0].id,leftPage]),leftPage.trigger("pageReinit",[leftPage[0].id,leftPage])}),rightPage.animationEnd(function(){rightPage.removeClass(removeClasses)})):(rightPage.trigger("pageAnimationStart",[rightPage[0].id,rightPage]),leftPage.removeClass(removeClasses).addClass("page-from-center-to-left"),rightPage.removeClass(removeClasses).addClass("page-from-right-to-center"),leftPage.animationEnd(function(){leftPage.removeClass(removeClasses)}),rightPage.animationEnd(function(){rightPage.removeClass(removeClasses).addClass("page-current"),rightPage.trigger("pageAnimationEnd",[rightPage[0].id,rightPage]),rightPage.trigger("pageInitInternal",[rightPage[0].id,rightPage])}))},Router.prototype.getCurrentPage=function(){return $(".page-current")},Router.prototype.forward=function(url){var stack=JSON.parse(this.stack.getItem("forward"));stack.length?history.forward():location.href=url},Router.prototype.back=function(url){var stack=JSON.parse(this.stack.getItem("back"));stack.length?history.back():url?location.href=url:console.warn("[router.back]: can not back")},Router.prototype._back=function(url){var h=this.popBack(),currentPage=this.getCurrentPage(),newPage=$(h.pageid);newPage[0]&&(this.pushForward({url:location.href,pageid:"#"+currentPage[0].id,id:this.getCurrentStateID()}),this.setCurrentStateID(h.id),this.animatePages(newPage,currentPage,!0))},Router.prototype._forward=function(){var h=this.popForward(),currentPage=this.getCurrentPage(),newPage=$(h.pageid);newPage[0]&&(this.pushBack({url:location.href,pageid:"#"+currentPage[0].id,id:this.getCurrentStateID()}),this.setCurrentStateID(h.id),this.animatePages(currentPage,newPage));
},Router.prototype.pushState=function(url,id){history.pushState({url:url,id:id},"",url)},Router.prototype.onpopstate=function(d){var state=d.state;if(!state||this.newLoaded)return void(this.newLoaded=!1);if(state.id===this.getCurrentStateID())return!1;var forward=state.id>this.getCurrentStateID();forward?this._forward():this._back(state.url)},Router.prototype.getPage=function(url,callback){if("#"===url[0])return callback.apply(this,[$(url)]);this.dispatch("pageLoadStart"),this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=function(){},this.xhr.abort(),this.dispatch("pageLoadCancel"));var self=this;this.xhr=$.ajax({url:url,success:$.proxy(function(data,s,xhr){var $page=this.parseXHR(xhr);$page[0].id||($page[0].id=this.genRandomID()),$page.data("page-remote",1),callback.apply(this,[$page])},this),error:function(){self.dispatch("pageLoadError")},complete:function(){self.dispatch("pageLoadComplete")}})},Router.prototype.parseXHR=function(xhr){var response=xhr.responseText,html=response.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[1];html||(html=response),html="<div>"+html+"</div>";var tmp=$(html);tmp.find(".popup, .panel, .panel-overlay").appendTo(document.body);var $page=tmp.find(".page");return $page[0]||($page=tmp.addClass("page")),$page},Router.prototype.genStateID=function(){var id=parseInt(this.state.getItem("stateid"))+1;return this.state.setItem("stateid",id),id},Router.prototype.getCurrentStateID=function(){return parseInt(this.state.getItem("currentStateID"))},Router.prototype.setCurrentStateID=function(id){this.state.setItem("currentStateID",id)},Router.prototype.genRandomID=function(){return"page-"+ +new Date},Router.prototype.popBack=function(){var stack=JSON.parse(this.stack.getItem("back"));if(!stack.length)return null;var h=stack.splice(stack.length-1,1)[0];return this.stack.setItem("back",JSON.stringify(stack)),h},Router.prototype.pushBack=function(h){var stack=JSON.parse(this.stack.getItem("back"));stack.push(h),this.stack.setItem("back",JSON.stringify(stack))},Router.prototype.popForward=function(){var stack=JSON.parse(this.stack.getItem("forward"));if(!stack.length)return null;var h=stack.splice(stack.length-1,1)[0];return this.stack.setItem("forward",JSON.stringify(stack)),h},Router.prototype.pushForward=function(h){var stack=JSON.parse(this.stack.getItem("forward"));stack.push(h),this.stack.setItem("forward",JSON.stringify(stack))},Router.prototype.dispatch=function(event){var e=new CustomEvent(event,{bubbles:!0,cancelable:!0});window.dispatchEvent(e)},$(function(){if($.smConfig.router){var router=$.router=new Router;$(document).on("click","a",function(e){var $target=$(e.currentTarget);if(!($target.hasClass("external")||$target[0].hasAttribute("external")||$target.hasClass("tab-link")||$target.hasClass("open-popup")||$target.hasClass("open-panel"))){e.preventDefault();var url=$target.attr("href");return $target.hasClass("back")?void router.back(url):void(url&&"#"!==url&&router.loadPage(url))}})}})}(Zepto),+function($){"use strict";var getPage=function(){var $page=$(".page-current");return $page[0]||($page=$(".page").addClass("page-current")),$page};$.initPage=function(page){var $page=getPage();$page[0]||($page=$(document.body));var $content=$page.hasClass("content")?$page:$page.find(".content");$content.scroller(),$.initPullToRefresh($content),$.initInfiniteScroll($content),$.initCalendar($content),$.initSwiper&&$.initSwiper($content)},$.smConfig.showPageLoadingIndicator&&($(window).on("pageLoadStart",function(){$.showIndicator()}),$(document).on("pageAnimationStart",function(){$.hideIndicator()}),$(window).on("pageLoadCancel",function(){$.hideIndicator()}),$(window).on("pageLoadError",function(){$.hideIndicator(),$.toast("加载失败")})),$.init=function(){var $page=getPage(),id=$page[0].id;$.initPage(),$page.trigger("pageInit",[id,$page])},$(function(){$.smConfig.autoInit&&$.init(),$(document).on("pageInitInternal",function(e,id,page){$.init()})})}(Zepto)}),define("xg/jx-business/1.0.0/c/js/base/sm-extend",[],function(require,exports,module){+function($){"use strict";var Swiper=function(container,params){function isH(){return"horizontal"===s.params.direction}function autoplay(){s.autoplayTimeoutId=setTimeout(function(){s.params.loop?(s.fixLoop(),s._slideNext()):s.isEnd?params.autoplayStopOnLast?s.stopAutoplay():s._slideTo(0):s._slideNext()},s.params.autoplay)}function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector))if("string"==typeof selector)el=el.parents(selector);else if(selector.nodeType){var found;return el.parents().each(function(index,_el){_el===selector&&(found=selector)}),found?selector:void 0}if(0!==el.length)return el[0]}function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver,observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(),s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:"undefined"==typeof options.attributes||options.attributes,childList:"undefined"==typeof options.childList||options.childList,characterData:"undefined"==typeof options.characterData||options.characterData}),s.observers.push(observer)}function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;p=el.attr("data-swiper-parallax")||"0",pX=el.attr("data-swiper-parallax-x"),pY=el.attr("data-swiper-parallax-y"),pX||pY?(pX=pX||"0",pY=pY||"0"):isH()?(pX=p,pY="0"):(pY=p,pX="0"),pX=pX.indexOf("%")>=0?parseInt(pX,10)*progress+"%":pX*progress+"px",pY=pY.indexOf("%")>=0?parseInt(pY,10)*progress+"%":pY*progress+"px",el.transform("translate3d("+pX+", "+pY+",0px)")}function normalizeEventName(eventName){return 0!==eventName.indexOf("on")&&(eventName=eventName[0]!==eventName[0].toUpperCase()?"on"+eventName[0].toUpperCase()+eventName.substring(1):"on"+eventName),eventName}var defaults=this.defaults,initalVirtualTranslate=params&&params.virtualTranslate;params=params||{};for(var def in defaults)if("undefined"==typeof params[def])params[def]=defaults[def];else if("object"==typeof params[def])for(var deepDef in defaults[def])"undefined"==typeof params[def][deepDef]&&(params[def][deepDef]=defaults[def][deepDef]);var s=this;if(s.params=params,s.classNames=[],s.$=$,s.container=$(container),0!==s.container.length){if(s.container.length>1)return void s.container.each(function(){new $.Swiper(this,params)});s.container[0].swiper=s,s.container.data("swiper",s),s.classNames.push("swiper-container-"+s.params.direction),s.params.freeMode&&s.classNames.push("swiper-container-free-mode"),s.support.flexbox||(s.classNames.push("swiper-container-no-flexbox"),s.params.slidesPerColumn=1),(s.params.parallax||s.params.watchSlidesVisibility)&&(s.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(s.params.effect)>=0&&(s.support.transforms3d?(s.params.watchSlidesProgress=!0,s.classNames.push("swiper-container-3d")):s.params.effect="slide"),"slide"!==s.params.effect&&s.classNames.push("swiper-container-"+s.params.effect),"cube"===s.params.effect&&(s.params.resistanceRatio=0,s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.centeredSlides=!1,s.params.spaceBetween=0,s.params.virtualTranslate=!0,s.params.setWrapperSize=!1),"fade"===s.params.effect&&(s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.watchSlidesProgress=!0,s.params.spaceBetween=0,"undefined"==typeof initalVirtualTranslate&&(s.params.virtualTranslate=!0)),s.params.grabCursor&&s.support.touch&&(s.params.grabCursor=!1),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=$(s.params.pagination),s.params.paginationClickable&&s.paginationContainer.addClass("swiper-pagination-clickable")),s.rtl=isH()&&("rtl"===s.container[0].dir.toLowerCase()||"rtl"===s.container.css("direction")),s.rtl&&s.classNames.push("swiper-container-rtl"),s.rtl&&(s.wrongRTL="-webkit-box"===s.wrapper.css("display")),s.params.slidesPerColumn>1&&s.classNames.push("swiper-container-multirow"),s.device.android&&s.classNames.push("swiper-container-android"),s.container.addClass(s.classNames.join(" ")),s.translate=0,s.progress=0,s.velocity=0,s.lockSwipeToNext=function(){s.params.allowSwipeToNext=!1},s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=!1},s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!1},s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=!0},s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=!0},s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!0},s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab"),s.imagesToLoad=[],s.imagesLoaded=0,s.loadImage=function(imgElement,src,checkForComplete,callback){function onReady(){callback&&callback()}var image;imgElement.complete&&checkForComplete?onReady():src?(image=new Image,image.onload=onReady,image.onerror=onReady,image.src=src):onReady()},s.preloadImages=function(){function _onReady(){"undefined"!=typeof s&&null!==s&&(void 0!==s.imagesLoaded&&s.imagesLoaded++,s.imagesLoaded===s.imagesToLoad.length&&(s.params.updateOnImagesReady&&s.update(),s.emit("onImagesReady",s)))}s.imagesToLoad=s.container.find("img");for(var i=0;i<s.imagesToLoad.length;i++)s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),!0,_onReady)},s.autoplayTimeoutId=void 0,s.autoplaying=!1,s.autoplayPaused=!1,s.startAutoplay=function(){return"undefined"==typeof s.autoplayTimeoutId&&(!!s.params.autoplay&&(!s.autoplaying&&(s.autoplaying=!0,s.emit("onAutoplayStart",s),void autoplay())))},s.stopAutoplay=function(){s.autoplayTimeoutId&&(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplaying=!1,s.autoplayTimeoutId=void 0,s.emit("onAutoplayStop",s))},s.pauseAutoplay=function(speed){s.autoplayPaused||(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplayPaused=!0,0===speed?(s.autoplayPaused=!1,autoplay()):s.wrapper.transitionEnd(function(){s.autoplayPaused=!1,s.autoplaying?autoplay():s.stopAutoplay()}))},s.minTranslate=function(){return-s.snapGrid[0]},s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]},s.updateContainerSize=function(){s.width=s.container[0].clientWidth,s.height=s.container[0].clientHeight,s.size=isH()?s.width:s.height},s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass),s.snapGrid=[],s.slidesGrid=[],s.slidesSizesGrid=[];var i,spaceBetween=s.params.spaceBetween,slidePosition=0,prevSlideSize=0,index=0;"string"==typeof spaceBetween&&spaceBetween.indexOf("%")>=0&&(spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size),s.virtualSize=-spaceBetween,s.rtl?s.slides.css({marginLeft:"",marginTop:""}):s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;s.params.slidesPerColumn>1&&(slidesNumberEvenToRows=Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn?s.slides.length:Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn);var slideSize;for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex,column,row,slidesPerRow,slidesPerColumn=s.params.slidesPerColumn;"column"===s.params.slidesPerColumnFill?(column=Math.floor(i/slidesPerColumn),row=i-column*slidesPerColumn,newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn,slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})):(slidesPerRow=slidesNumberEvenToRows/slidesPerColumn,row=Math.floor(i/slidesPerRow),column=i-row*slidesPerRow),slide.css({"margin-top":0!==row&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}"none"!==slide.css("display")&&("auto"===s.params.slidesPerView?slideSize=isH()?slide.outerWidth(!0):slide.outerHeight(!0):(slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView,isH()?s.slides[i].style.width=slideSize+"px":s.slides[i].style.height=slideSize+"px"),s.slides[i].swiperSlideSize=slideSize,s.slidesSizesGrid.push(slideSize),s.params.centeredSlides?(slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween,0===i&&(slidePosition=slidePosition-s.size/2-spaceBetween),Math.abs(slidePosition)<.001&&(slidePosition=0),index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition)):(index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition),slidePosition=slidePosition+slideSize+spaceBetween),s.virtualSize+=slideSize+spaceBetween,prevSlideSize=slideSize,index++)}s.virtualSize=Math.max(s.virtualSize,s.size);var newSlidesGrid;if(s.rtl&&s.wrongRTL&&("slide"===s.params.effect||"coverflow"===s.params.effect)&&s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.support.flexbox&&!s.params.setWrapperSize||(isH()?s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}):s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})),s.params.slidesPerColumn>1&&(s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows,s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween,s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.params.centeredSlides)){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<s.virtualSize+s.snapGrid[0]&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid}if(!s.params.centeredSlides){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<=s.virtualSize-s.size&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid,Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])&&s.snapGrid.push(s.virtualSize-s.size)}0===s.snapGrid.length&&(s.snapGrid=[0]),0!==s.params.spaceBetween&&(isH()?s.rtl?s.slides.css({marginLeft:spaceBetween+"px"}):s.slides.css({marginRight:spaceBetween+"px"}):s.slides.css({marginBottom:spaceBetween+"px"})),s.params.watchSlidesProgress&&s.updateSlidesOffset()},s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++)s.slides[i].swiperSlideOffset=isH()?s.slides[i].offsetLeft:s.slides[i].offsetTop},s.updateSlidesProgress=function(translate){if("undefined"==typeof translate&&(translate=s.translate||0),0!==s.slides.length){"undefined"==typeof s.slides[0].swiperSlideOffset&&s.updateSlidesOffset();var offsetCenter=s.params.centeredSlides?-translate+s.size/2:-translate;s.rtl&&(offsetCenter=s.params.centeredSlides?translate-s.size/2:translate),s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i],slideCenterOffset=s.params.centeredSlides===!0?slide.swiperSlideSize/2:0,slideProgress=(offsetCenter-slide.swiperSlideOffset-slideCenterOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset-slideCenterOffset),slideAfter=slideBefore+s.slidesSizesGrid[i],isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||slideBefore<=0&&slideAfter>=s.size;isVisible&&s.slides.eq(i).addClass(s.params.slideVisibleClass)}slide.progress=s.rtl?-slideProgress:slideProgress}}},s.updateProgress=function(translate){"undefined"==typeof translate&&(translate=s.translate||0);var translatesDiff=s.maxTranslate()-s.minTranslate();0===translatesDiff?(s.progress=0,s.isBeginning=s.isEnd=!0):(s.progress=(translate-s.minTranslate())/translatesDiff,s.isBeginning=s.progress<=0,s.isEnd=s.progress>=1),s.isBeginning&&s.emit("onReachBeginning",s),s.isEnd&&s.emit("onReachEnd",s),s.params.watchSlidesProgress&&s.updateSlidesProgress(translate),s.emit("onProgress",s,s.progress)},s.updateActiveIndex=function(){var newActiveIndex,i,snapIndex,translate=s.rtl?s.translate:-s.translate;for(i=0;i<s.slidesGrid.length;i++)"undefined"!=typeof s.slidesGrid[i+1]?translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2?newActiveIndex=i:translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]&&(newActiveIndex=i+1):translate>=s.slidesGrid[i]&&(newActiveIndex=i);(newActiveIndex<0||"undefined"==typeof newActiveIndex)&&(newActiveIndex=0),snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup),snapIndex>=s.snapGrid.length&&(snapIndex=s.snapGrid.length-1),newActiveIndex!==s.activeIndex&&(s.snapIndex=snapIndex,s.previousIndex=s.activeIndex,s.activeIndex=newActiveIndex,s.updateClasses())},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);if(activeSlide.addClass(s.params.slideActiveClass),activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass),activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);var bulletIndex;s.params.loop?(bulletIndex=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup,bulletIndex>s.slides.length-1-2*s.loopedSlides&&(bulletIndex-=s.slides.length-2*s.loopedSlides),bulletIndex>s.bullets.length-1&&(bulletIndex-=s.bullets.length)):bulletIndex="undefined"!=typeof s.snapIndex?s.snapIndex:s.activeIndex||0,s.paginationContainer.length>1?s.bullets.each(function(){$(this).index()===bulletIndex&&$(this).addClass(s.params.bulletActiveClass)}):s.bullets.eq(bulletIndex).addClass(s.params.bulletActiveClass)}s.params.loop||(s.params.prevButton&&(s.isBeginning?($(s.params.prevButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.prevButton))):($(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.prevButton)))),s.params.nextButton&&(s.isEnd?($(s.params.nextButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.nextButton))):($(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.nextButton)))))},s.updatePagination=function(){if(s.params.pagination&&s.paginationContainer&&s.paginationContainer.length>0){for(var bulletsHTML="",numberOfBullets=s.params.loop?Math.ceil((s.slides.length-2*s.loopedSlides)/s.params.slidesPerGroup):s.snapGrid.length,i=0;i<numberOfBullets;i++)bulletsHTML+=s.params.paginationBulletRender?s.params.paginationBulletRender(i,s.params.bulletClass):'<span class="'+s.params.bulletClass+'"></span>';s.paginationContainer.html(bulletsHTML),s.bullets=s.paginationContainer.find("."+s.params.bulletClass)}},s.update=function(updateTranslate){function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate()),s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),s.updatePagination(),s.updateClasses(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),updateTranslate){var translated,newTranslate;s.params.freeMode?forceSetTranslate():(translated="auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),translated||forceSetTranslate())}},s.onResize=function(){if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),("auto"===s.params.slidesPerView||s.params.freeMode)&&s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}else s.updateClasses(),"auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0)};var desktopEvents=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?desktopEvents=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===s.params.touchEventsTarget?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction),s.initEvents=function(detach){var actionDom=detach?"off":"on",action=detach?"removeEventListener":"addEventListener",touchEventsTarget="container"===s.params.touchEventsTarget?s.container[0]:s.wrapper[0],target=s.support.touch?touchEventsTarget:document,moveCapture=!!s.params.nested;s.browser.ie?(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),target[action](s.touchEvents.move,s.onTouchMove,moveCapture),target[action](s.touchEvents.end,s.onTouchEnd,!1)):(s.support.touch&&(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture),touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,!1)),!params.simulateTouch||s.device.ios||s.device.android||(touchEventsTarget[action]("mousedown",s.onTouchStart,!1),target[action]("mousemove",s.onTouchMove,moveCapture),target[action]("mouseup",s.onTouchEnd,!1))),window[action]("resize",s.onResize),s.params.nextButton&&($(s.params.nextButton)[actionDom]("click",s.onClickNext),s.params.a11y&&s.a11y&&$(s.params.nextButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.prevButton&&($(s.params.prevButton)[actionDom]("click",s.onClickPrev),s.params.a11y&&s.a11y&&$(s.params.prevButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.pagination&&s.params.paginationClickable&&$(s.paginationContainer)[actionDom]("click","."+s.params.bulletClass,s.onClickIndex),(s.params.preventClicks||s.params.preventClicksPropagation)&&touchEventsTarget[action]("click",s.preventClicks,!0)},s.attachEvents=function(){s.initEvents()},s.detachEvents=function(){s.initEvents(!0)},s.allowClick=!0,s.preventClicks=function(e){s.allowClick||(s.params.preventClicks&&e.preventDefault(),s.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onClickNext=function(e){e.preventDefault(),s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.slidePrev()},s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;s.params.loop&&(index+=s.loopedSlides),s.slideTo(index)},s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass);if(!slide)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);if(s.clickedSlide=slide,s.clickedIndex=$(slide).index(),s.params.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex){var realIndex,slideToIndex=s.clickedIndex;if(s.params.loop)if(realIndex=$(s.clickedSlide).attr("data-swiper-slide-index"),slideToIndex>s.slides.length-s.params.slidesPerView)s.fixLoop(),slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]').eq(0).index(),setTimeout(function(){s.slideTo(slideToIndex)},0);else if(slideToIndex<s.params.slidesPerView-1){s.fixLoop();var duplicatedSlides=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]');slideToIndex=duplicatedSlides.eq(duplicatedSlides.length-1).index(),setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex);else s.slideTo(slideToIndex)}};var isTouched,isMoved,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,clickTimeout,allowMomentumBounce,formElements="input, select, textarea, button",lastClickTime=Date.now(),velocities=[];s.animating=!1,s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),isTouchEvent="touchstart"===e.type,isTouchEvent||!("which"in e)||3!==e.which){if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass))return void(s.allowClick=!0);if(!s.params.swipeHandler||findElementInEvent(e,s.params.swipeHandler)){if(isTouched=!0,isMoved=!1,isScrolling=void 0,startMoving=void 0,s.touches.startX=s.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.startY=s.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=Date.now(),s.allowClick=!0,s.updateContainerSize(),s.swipeDirection=void 0,s.params.threshold>0&&(allowThresholdMove=!1),"touchstart"!==e.type){var preventDefault=!0;$(e.target).is(formElements)&&(preventDefault=!1),document.activeElement&&$(document.activeElement).is(formElements)&&document.activeElement.blur(),preventDefault&&e.preventDefault()}s.emit("onTouchStart",s,e)}}},s.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(isTouchEvent&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(s.params.onlyExternal)return isMoved=!0,void(s.allowClick=!1);if(isTouchEvent&&document.activeElement&&e.target===document.activeElement&&$(e.target).is(formElements))return isMoved=!0,void(s.allowClick=!1);if(s.emit("onTouchMove",s,e),!(e.targetTouches&&e.targetTouches.length>1)){if(s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof isScrolling){var touchAngle=180*Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))/Math.PI;isScrolling=isH()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling&&s.emit("onTouchMoveOpposite",s,e),"undefined"==typeof startMoving&&s.browser.ieTouch&&(s.touches.currentX===s.touches.startX&&s.touches.currentY===s.touches.startY||(startMoving=!0)),isTouched){if(isScrolling)return void(isTouched=!1);if(startMoving||!s.browser.ieTouch){s.allowClick=!1,s.emit("onSliderMove",s,e),e.preventDefault(),s.params.touchMoveStopPropagation&&!s.params.nested&&e.stopPropagation(),isMoved||(params.loop&&s.fixLoop(),startTranslate=s.getWrapperTranslate(),s.setWrapperTransition(0),s.animating&&s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),s.params.autoplay&&s.autoplaying&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():s.pauseAutoplay()),allowMomentumBounce=!1,s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grabbing",s.container[0].style.cursor="-moz-grabbin",s.container[0].style.cursor="grabbing")),isMoved=!0;var diff=s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff*=s.params.touchRatio,s.rtl&&(diff=-diff),s.swipeDirection=diff>0?"prev":"next",currentTranslate=diff+startTranslate;var disableParentSwiper=!0;if(diff>0&&currentTranslate>s.minTranslate()?(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio))):diff<0&&currentTranslate<s.maxTranslate()&&(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio))),disableParentSwiper&&(e.preventedByNestedSwiper=!0),!s.params.allowSwipeToNext&&"next"===s.swipeDirection&&currentTranslate<startTranslate&&(currentTranslate=startTranslate),!s.params.allowSwipeToPrev&&"prev"===s.swipeDirection&&currentTranslate>startTranslate&&(currentTranslate=startTranslate),s.params.followFinger){if(s.params.threshold>0){if(!(Math.abs(diff)>s.params.threshold||allowThresholdMove))return void(currentTranslate=startTranslate);if(!allowThresholdMove)return allowThresholdMove=!0,s.touches.startX=s.touches.currentX,s.touches.startY=s.touches.currentY,currentTranslate=startTranslate,void(s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY)}(s.params.freeMode||s.params.watchSlidesProgress)&&s.updateActiveIndex(),s.params.freeMode&&(0===velocities.length&&velocities.push({position:s.touches[isH()?"startX":"startY"],time:touchStartTime}),velocities.push({position:s.touches[isH()?"currentX":"currentY"],time:(new Date).getTime()})),s.updateProgress(currentTranslate),s.setWrapperTranslate(currentTranslate)}}}}}},s.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),s.emit("onTouchEnd",s,e),isTouched){s.params.grabCursor&&isMoved&&isTouched&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab");var touchEndTime=Date.now(),timeDiff=touchEndTime-touchStartTime;if(s.allowClick&&(s.updateClickedSlide(e),s.emit("onTap",s,e),timeDiff<300&&touchEndTime-lastClickTime>300&&(clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(function(){s&&(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)&&s.paginationContainer.toggleClass(s.params.paginationHiddenClass),s.emit("onClick",s,e))},300)),timeDiff<300&&touchEndTime-lastClickTime<300&&(clickTimeout&&clearTimeout(clickTimeout),s.emit("onDoubleTap",s,e))),lastClickTime=Date.now(),setTimeout(function(){s&&s.allowClick&&(s.allowClick=!0)},0),!isTouched||!isMoved||!s.swipeDirection||0===s.touches.diff||currentTranslate===startTranslate)return void(isTouched=isMoved=!1);isTouched=isMoved=!1;var currentPos;if(currentPos=s.params.followFinger?s.rtl?s.translate:-s.translate:-currentTranslate,s.params.freeMode){if(currentPos<-s.minTranslate())return void s.slideTo(s.activeIndex);if(currentPos>-s.maxTranslate())return void s.slideTo(s.slides.length-1);if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop(),distance=lastMoveEvent.position-velocityEvent.position,time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time,s.velocity=s.velocity/2,Math.abs(s.velocity)<.02&&(s.velocity=0),(time>150||(new Date).getTime()-lastMoveEvent.time>300)&&(s.velocity=0)}else s.velocity=0;velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio,momentumDistance=s.velocity*momentumDuration,newPosition=s.translate+momentumDistance;s.rtl&&(newPosition=-newPosition);var afterBouncePosition,doBounce=!1,bounceAmount=20*Math.abs(s.velocity)*s.params.freeModeMomentumBounceRatio;newPosition<s.maxTranslate()&&(s.params.freeModeMomentumBounce?(newPosition+s.maxTranslate()<-bounceAmount&&(newPosition=s.maxTranslate()-bounceAmount),afterBouncePosition=s.maxTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.maxTranslate()),newPosition>s.minTranslate()&&(s.params.freeModeMomentumBounce?(newPosition-s.minTranslate()>bounceAmount&&(newPosition=s.minTranslate()+bounceAmount),afterBouncePosition=s.minTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.minTranslate()),0!==s.velocity&&(momentumDuration=s.rtl?Math.abs((-newPosition-s.translate)/s.velocity):Math.abs((newPosition-s.translate)/s.velocity)),s.params.freeModeMomentumBounce&&doBounce?(s.updateProgress(afterBouncePosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating=!0,s.wrapper.transitionEnd(function(){allowMomentumBounce&&(s.emit("onMomentumBounce",s),s.setWrapperTransition(s.params.speed),s.setWrapperTranslate(afterBouncePosition),s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))})):s.velocity?(s.updateProgress(newPosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))):s.updateProgress(newPosition),s.updateActiveIndex()}return void((!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs)&&(s.updateProgress(),s.updateActiveIndex()));
}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup)"undefined"!=typeof s.slidesGrid[i+s.params.slidesPerGroup]?currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]&&(stopIndex=i,groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]):currentPos>=s.slidesGrid[i]&&(stopIndex=i,groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]);var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&(ratio>=s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex)),"prev"===s.swipeDirection&&(ratio>1-s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex))}else{if(!s.params.shortSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&s.slideTo(stopIndex+s.params.slidesPerGroup),"prev"===s.swipeDirection&&s.slideTo(stopIndex)}}},s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,!0,!0)},s.slideTo=function(slideIndex,speed,runCallbacks,internal){"undefined"==typeof runCallbacks&&(runCallbacks=!0),"undefined"==typeof slideIndex&&(slideIndex=0),slideIndex<0&&(slideIndex=0),s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup),s.snapIndex>=s.snapGrid.length&&(s.snapIndex=s.snapGrid.length-1);var translate=-s.snapGrid[s.snapIndex];s.params.autoplay&&s.autoplaying&&(internal||!s.params.autoplayDisableOnInteraction?s.pauseAutoplay(speed):s.stopAutoplay()),s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++)-translate>=s.slidesGrid[i]&&(slideIndex=i);return"undefined"==typeof speed&&(speed=s.params.speed),s.previousIndex=s.activeIndex||0,s.activeIndex=slideIndex,translate===s.translate?(s.updateClasses(),!1):(s.onTransitionStart(runCallbacks),0===speed?(s.setWrapperTransition(0),s.setWrapperTranslate(translate),s.onTransitionEnd(runCallbacks)):(s.setWrapperTransition(speed),s.setWrapperTranslate(translate),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd(runCallbacks)}))),s.updateClasses(),!0)},s.onTransitionStart=function(runCallbacks){"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionStart(),runCallbacks&&(s.emit("onTransitionStart",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeStart",s))},s.onTransitionEnd=function(runCallbacks){s.animating=!1,s.setWrapperTransition(0),"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionEnd(),runCallbacks&&(s.emit("onTransitionEnd",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeEnd",s)),s.params.hashnav&&s.hashnav&&s.hashnav.setHash()},s.slideNext=function(runCallbacks,speed,internal){return s.params.loop?!s.animating&&(s.fixLoop(),s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)):s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)},s._slideNext=function(speed){return s.slideNext(!0,speed,!0)},s.slidePrev=function(runCallbacks,speed,internal){return s.params.loop?!s.animating&&(s.fixLoop(),s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)):s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)},s._slidePrev=function(speed){return s.slidePrev(!0,speed,!0)},s.slideReset=function(runCallbacks,speed){return s.slideTo(s.activeIndex,speed,runCallbacks)},s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTransition(duration),s.params.parallax&&s.parallax&&s.parallax.setTransition(duration),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTransition(duration),s.params.control&&s.controller&&s.controller.setTransition(duration,byController),s.emit("onSetTransition",s,duration)},s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;isH()?x=s.rtl?-translate:translate:y=translate,s.params.virtualTranslate||(s.support.transforms3d?s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)"):s.wrapper.transform("translate("+x+"px, "+y+"px)")),s.translate=isH()?x:y,updateActiveIndex&&s.updateActiveIndex(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTranslate(s.translate),s.params.parallax&&s.parallax&&s.parallax.setTranslate(s.translate),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTranslate(s.translate),s.params.control&&s.controller&&s.controller.setTranslate(s.translate,byController),s.emit("onSetTranslate",s,s.translate)},s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return"undefined"==typeof axis&&(axis="x"),s.params.virtualTranslate?s.rtl?-s.translate:s.translate:(curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new WebKitCSSMatrix("none"===curStyle.webkitTransform?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),s.rtl&&curTransform&&(curTransform=-curTransform),curTransform||0)},s.getWrapperTranslate=function(axis){return"undefined"==typeof axis&&(axis=isH()?"x":"y"),s.getTranslate(s.wrapper[0],axis)},s.observers=[],s.initObservers=function(){if(s.params.observeParents)for(var containerParents=s.container.parents(),i=0;i<containerParents.length;i++)initObserver(containerParents[i]);initObserver(s.container[0],{childList:!1}),initObserver(s.wrapper[0],{attributes:!1})},s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++)s.observers[i].disconnect();s.observers=[]},s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10),s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides,s.loopedSlides>slides.length&&(s.loopedSlides=slides.length);var i,prependSlides=[],appendSlides=[];for(slides.each(function(index,el){var slide=$(this);index<s.loopedSlides&&appendSlides.push(el),index<slides.length&&index>=slides.length-s.loopedSlides&&prependSlides.push(el),slide.attr("data-swiper-slide-index",index)}),i=0;i<appendSlides.length;i++)s.wrapper.append($(appendSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass));for(i=prependSlides.length-1;i>=0;i--)s.wrapper.prepend($(prependSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))},s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove(),s.slides.removeAttr("data-swiper-slide-index")},s.fixLoop=function(){var newIndex;s.activeIndex<s.loopedSlides?(newIndex=s.slides.length-3*s.loopedSlides+s.activeIndex,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0)):("auto"===s.params.slidesPerView&&s.activeIndex>=2*s.loopedSlides||s.activeIndex>s.slides.length-2*s.params.slidesPerView)&&(newIndex=-s.slides.length+s.activeIndex+s.loopedSlides,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0))},s.appendSlide=function(slides){if(s.params.loop&&s.destroyLoop(),"object"==typeof slides&&slides.length)for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.append(slides[i]);else s.wrapper.append(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0)},s.prependSlide=function(slides){s.params.loop&&s.destroyLoop();var newActiveIndex=s.activeIndex+1;if("object"==typeof slides&&slides.length){for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.prepend(slides[i]);newActiveIndex=s.activeIndex+slides.length}else s.wrapper.prepend(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeSlide=function(slidesIndexes){s.params.loop&&s.destroyLoop();var indexToRemove,newActiveIndex=s.activeIndex;if("object"==typeof slidesIndexes&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++)indexToRemove=slidesIndexes[i],s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),indexToRemove<newActiveIndex&&newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}else indexToRemove=slidesIndexes,s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),indexToRemove<newActiveIndex&&newActiveIndex--,newActiveIndex=Math.max(newActiveIndex,0);s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeAllSlides=function(){for(var slidesIndexes=[],i=0;i<s.slides.length;i++)slidesIndexes.push(i);s.removeSlide(slidesIndexes)},s.effects={fade:{fadeIndex:null,setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),offset=slide[0].swiperSlideOffset,tx=-offset;s.params.virtualTranslate||(tx-=s.translate);var ty=0;isH()||(ty=tx,tx=0);var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slideOpacity>0&&slideOpacity<1&&(s.effects.fade.fadeIndex=i),slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){if(s.slides.transition(duration),s.params.virtualTranslate&&0!==duration){var fadeIndex=null!==s.effects.fade.fadeIndex?s.effects.fade.fadeIndex:s.activeIndex;s.slides.eq(fadeIndex).transitionEnd(function(){for(var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])})}}},cube:{setTranslate:function(){var cubeShadow,wrapperRotate=0;s.params.cube.shadow&&(isH()?(cubeShadow=s.wrapper.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.wrapper.append(cubeShadow)),cubeShadow.css({height:s.width+"px"})):(cubeShadow=s.container.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.container.append(cubeShadow))));for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),slideAngle=90*i,round=Math.floor(slideAngle/360);s.rtl&&(slideAngle=-slideAngle,round=Math.floor(-slideAngle/360));var progress=Math.max(Math.min(slide[0].progress,1),-1),tx=0,ty=0,tz=0;i%4===0?(tx=4*-round*s.size,tz=0):(i-1)%4===0?(tx=0,tz=4*-round*s.size):(i-2)%4===0?(tx=s.size+4*round*s.size,tz=s.size):(i-3)%4===0&&(tx=-s.size,tz=3*s.size+4*s.size*round),s.rtl&&(tx=-tx),isH()||(ty=tx,tx=0);var transform="rotateX("+(isH()?0:-slideAngle)+"deg) rotateY("+(isH()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(progress<=1&&progress>-1&&(wrapperRotate=90*i+90*progress,s.rtl&&(wrapperRotate=90*-i-90*progress)),slide.transform(transform),s.params.cube.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=-slide[0].progress),shadowAfter.length&&(shadowAfter[0].style.opacity=slide[0].progress)}}if(s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"}),s.params.cube.shadow)if(isH())cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var shadowAngle=Math.abs(wrapperRotate)-90*Math.floor(Math.abs(wrapperRotate)/90),multiplier=1.5-(Math.sin(2*shadowAngle*Math.PI/360)/2+Math.cos(2*shadowAngle*Math.PI/360)/2),scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(isH()?0:wrapperRotate)+"deg) rotateY("+(isH()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration),s.params.cube.shadow&&!isH()&&s.container.find(".swiper-cube-shadow").transition(duration)}},coverflow:{setTranslate:function(){for(var transform=s.translate,center=isH()?-transform+s.width/2:-transform+s.height/2,rotate=isH()?s.params.coverflow.rotate:-s.params.coverflow.rotate,translate=s.params.coverflow.depth,i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i),slideSize=s.slidesSizesGrid[i],slideOffset=slide[0].swiperSlideOffset,offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier,rotateY=isH()?rotate*offsetMultiplier:0,rotateX=isH()?0:rotate*offsetMultiplier,translateZ=-translate*Math.abs(offsetMultiplier),translateY=isH()?0:s.params.coverflow.stretch*offsetMultiplier,translateX=isH()?s.params.coverflow.stretch*offsetMultiplier:0;Math.abs(translateX)<.001&&(translateX=0),Math.abs(translateY)<.001&&(translateY=0),Math.abs(translateZ)<.001&&(translateZ=0),Math.abs(rotateY)<.001&&(rotateY=0),Math.abs(rotateX)<.001&&(rotateX=0);var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";if(slide.transform(slideTransform),slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1,s.params.coverflow.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0),shadowAfter.length&&(shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0)}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}},s.lazy={initialImageLoaded:!1,loadImageInSlide:function(index){if("undefined"!=typeof index&&0!==s.slides.length){var slide=s.slides.eq(index),img=slide.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==img.length&&img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var src=_img.attr("data-src");s.loadImage(_img[0],src,!1,function(){_img.attr("src",src),_img.removeAttr("data-src"),_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),slide.find(".swiper-lazy-preloader, .preloader").remove(),s.emit("onLazyImageReady",s,slide[0],_img[0])}),s.emit("onLazyImageLoad",s,slide[0],_img[0])})}},load:function(){if(s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(s.params.slidesPerView>1)for(var i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext){var nextSlide=s.wrapper.children("."+s.params.slideNextClass);nextSlide.length>0&&s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);prevSlide.length>0&&s.lazy.loadImageInSlide(prevSlide.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&(s.lazy.initialImageLoaded=!0,s.lazy.load())},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}},s.scrollbar={set:function(){if(s.params.scrollbar){var sb=s.scrollbar;sb.track=$(s.params.scrollbar),sb.drag=sb.track.find(".swiper-scrollbar-drag"),0===sb.drag.length&&(sb.drag=$('<div class="swiper-scrollbar-drag"></div>'),sb.track.append(sb.drag)),sb.drag[0].style.width="",sb.drag[0].style.height="",sb.trackSize=isH()?sb.track[0].offsetWidth:sb.track[0].offsetHeight,sb.divider=s.size/s.virtualSize,sb.moveDivider=sb.divider*(sb.trackSize/s.size),sb.dragSize=sb.trackSize*sb.divider,isH()?sb.drag[0].style.width=sb.dragSize+"px":sb.drag[0].style.height=sb.dragSize+"px",sb.divider>=1?sb.track[0].style.display="none":sb.track[0].style.display="",s.params.scrollbarHide&&(sb.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var newPos,sb=s.scrollbar,newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress,s.rtl&&isH()?(newPos=-newPos,newPos>0?(newSize=sb.dragSize-newPos,newPos=0):-newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize+newPos)):newPos<0?(newSize=sb.dragSize+newPos,newPos=0):newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize-newPos),isH()?(s.support.transforms3d?sb.drag.transform("translate3d("+newPos+"px, 0, 0)"):sb.drag.transform("translateX("+newPos+"px)"),sb.drag[0].style.width=newSize+"px"):(s.support.transforms3d?sb.drag.transform("translate3d(0px, "+newPos+"px, 0)"):sb.drag.transform("translateY("+newPos+"px)"),sb.drag[0].style.height=newSize+"px"),s.params.scrollbarHide&&(clearTimeout(sb.timeout),sb.track[0].style.opacity=1,sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0,sb.track.transition(400)},1e3))}},setTransition:function(duration){s.params.scrollbar&&s.scrollbar.drag.transition(duration)}},s.controller={setTranslate:function(translate,byController){var multiplier,controlledTranslate,controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&(translate=controlled[i].rtl&&"horizontal"===controlled[i].params.direction?-s.translate:s.translate,multiplier=(controlled[i].maxTranslate()-controlled[i].minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+controlled[i].minTranslate(),s.params.controlInverse&&(controlledTranslate=controlled[i].maxTranslate()-controlledTranslate),controlled[i].updateProgress(controlledTranslate),controlled[i].setWrapperTranslate(controlledTranslate,!1,s),controlled[i].updateActiveIndex());else controlled instanceof Swiper&&byController!==controlled&&(translate=controlled.rtl&&"horizontal"===controlled.params.direction?-s.translate:s.translate,multiplier=(controlled.maxTranslate()-controlled.minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+controlled.minTranslate(),s.params.controlInverse&&(controlledTranslate=controlled.maxTranslate()-controlledTranslate),controlled.updateProgress(controlledTranslate),controlled.setWrapperTranslate(controlledTranslate,!1,s),controlled.updateActiveIndex())},setTransition:function(duration,byController){var controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&controlled[i].setWrapperTransition(duration,s);else controlled instanceof Swiper&&byController!==controlled&&controlled.setWrapperTransition(duration,s)}},s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)}),s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){"undefined"==typeof duration&&(duration=s.params.speed),s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this),parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;0===duration&&(parallaxDuration=0),el.transition(parallaxDuration)})}},s._plugins=[];for(var plugin in s.plugins)if(s.plugins.hasOwnProperty(plugin)){var p=s.plugins[plugin](s,s.params[plugin]);p&&s._plugins.push(p)}return s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++)eventName in s._plugins[i]&&s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.emitterEventListeners={},s.emit=function(eventName){s.params[eventName]&&s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(s){if(s.emitterEventListeners[eventName])for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);s.callPlugins&&s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},s.on=function(eventName,handler){return eventName=normalizeEventName(eventName),s.emitterEventListeners[eventName]||(s.emitterEventListeners[eventName]=[]),s.emitterEventListeners[eventName].push(handler),s},s.off=function(eventName,handler){var i;if(eventName=normalizeEventName(eventName),"undefined"==typeof handler)return s.emitterEventListeners[eventName]=[],s;if(s.emitterEventListeners[eventName]&&0!==s.emitterEventListeners[eventName].length){for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i]===handler&&s.emitterEventListeners[eventName].splice(i,1);return s}},s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),s.off(eventName,_handler)};return s.on(eventName,_handler),s},s.a11y={makeFocusable:function($el){return $el[0].tabIndex="0",$el},addRole:function($el,role){return $el.attr("role",role),$el},addLabel:function($el,label){return $el.attr("aria-label",label),$el},disable:function($el){return $el.attr("aria-disabled",!0),$el},enable:function($el){return $el.attr("aria-disabled",!1),$el},onEnterKey:function(event){13===event.keyCode&&($(event.target).is(s.params.nextButton)?(s.onClickNext(event),s.isEnd?s.a11y.notify(s.params.lastSlideMsg):s.a11y.notify(s.params.nextSlideMsg)):$(event.target).is(s.params.prevButton)&&(s.onClickPrev(event),s.isBeginning?s.a11y.notify(s.params.firstSlideMsg):s.a11y.notify(s.params.prevSlideMsg)))},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;0!==notification.length&&(notification.html(""),notification.html(message))},init:function(){if(s.params.nextButton){var nextButton=$(s.params.nextButton);s.a11y.makeFocusable(nextButton),s.a11y.addRole(nextButton,"button"),s.a11y.addLabel(nextButton,s.params.nextSlideMsg)}if(s.params.prevButton){var prevButton=$(s.params.prevButton);s.a11y.makeFocusable(prevButton),s.a11y.addRole(prevButton,"button"),s.a11y.addLabel(prevButton,s.params.prevSlideMsg)}$(s.container).append(s.a11y.liveRegion)},destroy:function(){s.a11y.liveRegion&&s.a11y.liveRegion.length>0&&s.a11y.liveRegion.remove()}},s.init=function(){s.params.loop&&s.createLoop(),s.updateContainerSize(),s.updateSlidesSize(),s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&(s.params.loop||s.updateProgress(),s.effects[s.params.effect].setTranslate()),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit):(s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit),0===s.params.initialSlide&&(s.parallax&&s.params.parallax&&s.parallax.setTranslate(),s.lazy&&s.params.lazyLoading&&s.lazy.load())),s.attachEvents(),s.params.observer&&s.support.observer&&s.initObservers(),s.params.preloadImages&&!s.params.lazyLoading&&s.preloadImages(),s.params.autoplay&&s.startAutoplay(),s.params.keyboardControl&&s.enableKeyboardControl&&s.enableKeyboardControl(),s.params.mousewheelControl&&s.enableMousewheelControl&&s.enableMousewheelControl(),s.params.hashnav&&s.hashnav&&s.hashnav.init(),s.params.a11y&&s.a11y&&s.a11y.init(),s.emit("onInit",s)},s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style"),s.wrapper.removeAttr("style"),s.slides&&s.slides.length&&s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),s.paginationContainer&&s.paginationContainer.length&&s.paginationContainer.removeClass(s.params.paginationHiddenClass),s.bullets&&s.bullets.length&&s.bullets.removeClass(s.params.bulletActiveClass),s.params.prevButton&&$(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.nextButton&&$(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.scrollbar&&s.scrollbar&&(s.scrollbar.track&&s.scrollbar.track.length&&s.scrollbar.track.removeAttr("style"),s.scrollbar.drag&&s.scrollbar.drag.length&&s.scrollbar.drag.removeAttr("style"))},s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents(),s.stopAutoplay(),s.params.loop&&s.destroyLoop(),cleanupStyles&&s.cleanupStyles(),s.disconnectObservers(),s.params.keyboardControl&&s.disableKeyboardControl&&s.disableKeyboardControl(),s.params.mousewheelControl&&s.disableMousewheelControl&&s.disableMousewheelControl(),s.params.a11y&&s.a11y&&s.a11y.destroy(),s.emit("onDestroy"),deleteInstance!==!1&&(s=null)},s.init(),s}};Swiper.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return"[object Array]"===Object.prototype.toString.apply(arr)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipad,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){for(var div=document.createElement("div").style,styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<styles.length;i++)if(styles[i]in div)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}},$.Swiper=Swiper}(Zepto),+function($){"use strict";$.Swiper.prototype.defaults.pagination=".page-current .swiper-pagination",$.swiper=function(container,params){return new $.Swiper(container,params)},$.fn.swiper=function(params){return new $.Swiper(this,params)},$.initSwiper=function(pageContainer){function destroySwiperOnRemove(slider){function destroySwiper(){slider.destroy(),page.off("pageBeforeRemove",destroySwiper)}page.on("pageBeforeRemove",destroySwiper)}var page=$(pageContainer||document.body),swipers=page.find(".swiper-container");if(0!==swipers.length)for(var i=0;i<swipers.length;i++){var params,swiper=swipers.eq(i);if(swiper.data("swiper"))swiper.data("swiper").update(!0);else{params=swiper.dataset();var _slider=$.swiper(swiper[0],params);destroySwiperOnRemove(_slider)}}},$.reinitSwiper=function(pageContainer){var page=$(pageContainer||".page-current"),sliders=page.find(".swiper-container");if(0!==sliders.length)for(var i=0;i<sliders.length;i++){var sliderInstance=sliders[0].swiper;sliderInstance&&sliderInstance.update(!0)}}}(Zepto),+function($){"use strict";var PhotoBrowser=function(params){var i,pb=this,defaults=this.defaults;params=params||{};for(var def in defaults)"undefined"==typeof params[def]&&(params[def]=defaults[def]);pb.params=params;var navbarTemplate=pb.params.navbarTemplate||'<header class="bar bar-nav"><a class="icon icon-left pull-left photo-browser-close-link'+("popup"===pb.params.type?" close-popup":"")+'"></a><h1 class="title"><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+pb.params.ofText+'</span> <span class="photo-browser-total"></span></div></h1></header>',toolbarTemplate=pb.params.toolbarTemplate||'<nav class="bar bar-tab"><a class="tab-item photo-browser-prev" href="#"><i class="icon icon-prev"></i></a><a class="tab-item photo-browser-next" href="#"><i class="icon icon-next"></i></a></nav>',template=pb.params.template||'<div class="photo-browser photo-browser-'+pb.params.theme+'">{{navbar}}{{toolbar}}<div data-page="photo-browser-slides" class="content">{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div>',photoTemplate=pb.params.lazyLoading?pb.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+("dark"===pb.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>':pb.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',captionsTheme=pb.params.captionsTheme||pb.params.theme,captionsTemplate=pb.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+captionsTheme+'">{{captions}}</div>',captionTemplate=pb.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',objectTemplate=pb.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>',photosHtml="",captionsHtml="";
for(i=0;i<pb.params.photos.length;i++){var photo=pb.params.photos[i],thisTemplate="";"string"==typeof photo||photo instanceof String?thisTemplate=photo.indexOf("<")>=0||photo.indexOf(">")>=0?objectTemplate.replace(/{{html}}/g,photo):photoTemplate.replace(/{{url}}/g,photo):"object"==typeof photo&&(photo.hasOwnProperty("html")&&photo.html.length>0?thisTemplate=objectTemplate.replace(/{{html}}/g,photo.html):photo.hasOwnProperty("url")&&photo.url.length>0&&(thisTemplate=photoTemplate.replace(/{{url}}/g,photo.url)),photo.hasOwnProperty("caption")&&photo.caption.length>0?captionsHtml+=captionTemplate.replace(/{{caption}}/g,photo.caption).replace(/{{captionIndex}}/g,i):thisTemplate=thisTemplate.replace(/{{caption}}/g,"")),photosHtml+=thisTemplate}var htmlTemplate=template.replace("{{navbar}}",pb.params.navbar?navbarTemplate:"").replace("{{noNavbar}}",pb.params.navbar?"":"no-navbar").replace("{{photos}}",photosHtml).replace("{{captions}}",captionsTemplate.replace(/{{captions}}/g,captionsHtml)).replace("{{toolbar}}",pb.params.toolbar?toolbarTemplate:"");pb.activeIndex=pb.params.initialSlide,pb.openIndex=pb.activeIndex,pb.opened=!1,pb.open=function(index){return"undefined"==typeof index&&(index=pb.activeIndex),index=parseInt(index,10),pb.opened&&pb.swiper?void pb.swiper.slideTo(index):(pb.opened=!0,pb.openIndex=index,"standalone"===pb.params.type&&$(pb.params.container).append(htmlTemplate),"popup"===pb.params.type&&(pb.popup=$.popup('<div class="popup photo-browser-popup">'+htmlTemplate+"</div>"),$(pb.popup).on("closed",pb.onPopupClose)),"page"===pb.params.type?($(document).on("pageBeforeInit",pb.onPageBeforeInit),$(document).on("pageBeforeRemove",pb.onPageBeforeRemove),pb.params.view||(pb.params.view=$.mainView),void pb.params.view.loadContent(htmlTemplate)):(pb.layout(pb.openIndex),void(pb.params.onOpen&&pb.params.onOpen(pb))))},pb.close=function(){pb.opened=!1,pb.swiperContainer&&0!==pb.swiperContainer.length&&(pb.params.onClose&&pb.params.onClose(pb),pb.attachEvents(!0),"standalone"===pb.params.type&&pb.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){pb.container.remove()}),pb.swiper.destroy(),pb.swiper=pb.swiperContainer=pb.swiperWrapper=pb.slides=gestureSlide=gestureImg=gestureImgWrap=void 0)},pb.onPopupClose=function(){pb.close(),$(pb.popup).off("pageBeforeInit",pb.onPopupClose)},pb.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&pb.layout(pb.openIndex),$(document).off("pageBeforeInit",pb.onPageBeforeInit)},pb.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&pb.close(),$(document).off("pageBeforeRemove",pb.onPageBeforeRemove)},pb.onSliderTransitionStart=function(swiper){pb.activeIndex=swiper.activeIndex;var current=swiper.activeIndex+1,total=swiper.slides.length;if(pb.params.loop&&(total-=2,current-=swiper.loopedSlides,current<1&&(current=total+current),current>total&&(current-=total)),pb.container.find(".photo-browser-current").text(current),pb.container.find(".photo-browser-total").text(total),$(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),swiper.isBeginning&&!pb.params.loop&&$(".photo-browser-prev").addClass("photo-browser-link-inactive"),swiper.isEnd&&!pb.params.loop&&$(".photo-browser-next").addClass("photo-browser-link-inactive"),pb.captions.length>0){pb.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var captionIndex=pb.params.loop?swiper.slides.eq(swiper.activeIndex).attr("data-swiper-slide-index"):pb.activeIndex;pb.captionsContainer.find('[data-caption-index="'+captionIndex+'"]').addClass("photo-browser-caption-active")}var previousSlideVideo=swiper.slides.eq(swiper.previousIndex).find("video");previousSlideVideo.length>0&&"pause"in previousSlideVideo[0]&&previousSlideVideo[0].pause(),pb.params.onSlideChangeStart&&pb.params.onSlideChangeStart(swiper)},pb.onSliderTransitionEnd=function(swiper){pb.params.zoom&&gestureSlide&&swiper.previousIndex!==swiper.activeIndex&&(gestureImg.transform("translate3d(0,0,0) scale(1)"),gestureImgWrap.transform("translate3d(0,0,0)"),gestureSlide=gestureImg=gestureImgWrap=void 0,scale=currentScale=1),pb.params.onSlideChangeEnd&&pb.params.onSlideChangeEnd(swiper)},pb.layout=function(index){"page"===pb.params.type?pb.container=$(".photo-browser-swiper-container").parents(".view"):pb.container=$(".photo-browser"),"standalone"===pb.params.type&&pb.container.addClass("photo-browser-in"),pb.swiperContainer=pb.container.find(".photo-browser-swiper-container"),pb.swiperWrapper=pb.container.find(".photo-browser-swiper-wrapper"),pb.slides=pb.container.find(".photo-browser-slide"),pb.captionsContainer=pb.container.find(".photo-browser-captions"),pb.captions=pb.container.find(".photo-browser-caption");var sliderSettings={nextButton:pb.params.nextButton||".photo-browser-next",prevButton:pb.params.prevButton||".photo-browser-prev",indexButton:pb.params.indexButton,initialSlide:index,spaceBetween:pb.params.spaceBetween,speed:pb.params.speed,loop:pb.params.loop,lazyLoading:pb.params.lazyLoading,lazyLoadingInPrevNext:pb.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:pb.params.lazyLoadingOnTransitionStart,preloadImages:!pb.params.lazyLoading,onTap:function(swiper,e){pb.params.onTap&&pb.params.onTap(swiper,e)},onClick:function(swiper,e){pb.params.exposition&&pb.toggleExposition(),pb.params.onClick&&pb.params.onClick(swiper,e)},onDoubleTap:function(swiper,e){pb.toggleZoom($(e.target).parents(".photo-browser-slide")),pb.params.onDoubleTap&&pb.params.onDoubleTap(swiper,e)},onTransitionStart:function(swiper){pb.onSliderTransitionStart(swiper)},onTransitionEnd:function(swiper){pb.onSliderTransitionEnd(swiper)},onLazyImageLoad:function(swiper,slide,img){pb.params.onLazyImageLoad&&pb.params.onLazyImageLoad(pb,slide,img)},onLazyImageReady:function(swiper,slide,img){$(slide).removeClass("photo-browser-slide-lazy"),pb.params.onLazyImageReady&&pb.params.onLazyImageReady(pb,slide,img)}};pb.params.swipeToClose&&"page"!==pb.params.type&&(sliderSettings.onTouchStart=pb.swipeCloseTouchStart,sliderSettings.onTouchMoveOpposite=pb.swipeCloseTouchMove,sliderSettings.onTouchEnd=pb.swipeCloseTouchEnd),pb.swiper=$.swiper(pb.swiperContainer,sliderSettings),0===index&&pb.onSliderTransitionStart(pb.swiper),pb.attachEvents()},pb.attachEvents=function(detach){var action=detach?"off":"on";if(pb.params.zoom){var target=pb.params.loop?pb.swiper.slides:pb.slides;target[action]("gesturestart",pb.onSlideGestureStart),target[action]("gesturechange",pb.onSlideGestureChange),target[action]("gestureend",pb.onSlideGestureEnd),target[action]("touchstart",pb.onSlideTouchStart),target[action]("touchmove",pb.onSlideTouchMove),target[action]("touchend",pb.onSlideTouchEnd)}pb.container.find(".photo-browser-close-link")[action]("click",pb.close)},pb.exposed=!1,pb.toggleExposition=function(){pb.container&&pb.container.toggleClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.toggleClass("photo-browser-captions-exposed"),pb.exposed=!pb.exposed},pb.enableExposition=function(){pb.container&&pb.container.addClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.addClass("photo-browser-captions-exposed"),pb.exposed=!0},pb.disableExposition=function(){pb.container&&pb.container.removeClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.removeClass("photo-browser-captions-exposed"),pb.exposed=!1};var gestureSlide,gestureImg,gestureImgWrap,scale=1,currentScale=1,isScaling=!1;pb.onSlideGestureStart=function(){return gestureSlide||(gestureSlide=$(this),gestureImg=gestureSlide.find("img, svg, canvas"),gestureImgWrap=gestureImg.parent(".photo-browser-zoom-container"),0!==gestureImgWrap.length)?(gestureImg.transition(0),void(isScaling=!0)):void(gestureImg=void 0)},pb.onSlideGestureChange=function(e){gestureImg&&0!==gestureImg.length&&(scale=e.scale*currentScale,scale>pb.params.maxZoom&&(scale=pb.params.maxZoom-1+Math.pow(scale-pb.params.maxZoom+1,.5)),scale<pb.params.minZoom&&(scale=pb.params.minZoom+1-Math.pow(pb.params.minZoom-scale+1,.5)),gestureImg.transform("translate3d(0,0,0) scale("+scale+")"))},pb.onSlideGestureEnd=function(){gestureImg&&0!==gestureImg.length&&(scale=Math.max(Math.min(scale,pb.params.maxZoom),pb.params.minZoom),gestureImg.transition(pb.params.speed).transform("translate3d(0,0,0) scale("+scale+")"),currentScale=scale,isScaling=!1,1===scale&&(gestureSlide=void 0))},pb.toggleZoom=function(){gestureSlide||(gestureSlide=pb.swiper.slides.eq(pb.swiper.activeIndex),gestureImg=gestureSlide.find("img, svg, canvas"),gestureImgWrap=gestureImg.parent(".photo-browser-zoom-container")),gestureImg&&0!==gestureImg.length&&(gestureImgWrap.transition(300).transform("translate3d(0,0,0)"),scale&&1!==scale?(scale=currentScale=1,gestureImg.transition(300).transform("translate3d(0,0,0) scale(1)"),gestureSlide=void 0):(scale=currentScale=pb.params.maxZoom,gestureImg.transition(300).transform("translate3d(0,0,0) scale("+scale+")")))};var imageIsTouched,imageIsMoved,imageCurrentX,imageCurrentY,imageMinX,imageMinY,imageMaxX,imageMaxY,imageWidth,imageHeight,imageStartX,imageStartY,velocityPrevPositionX,velocityPrevTime,velocityX,velocityPrevPositionY,velocityY,imageTouchesStart={},imageTouchesCurrent={};pb.onSlideTouchStart=function(e){gestureImg&&0!==gestureImg.length&&(imageIsTouched||("android"===$.device.os&&e.preventDefault(),imageIsTouched=!0,imageTouchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,imageTouchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},pb.onSlideTouchMove=function(e){if(gestureImg&&0!==gestureImg.length&&(pb.swiper.allowClick=!1,imageIsTouched&&gestureSlide)){imageIsMoved||(imageWidth=gestureImg[0].offsetWidth,imageHeight=gestureImg[0].offsetHeight,imageStartX=$.getTranslate(gestureImgWrap[0],"x")||0,imageStartY=$.getTranslate(gestureImgWrap[0],"y")||0,gestureImgWrap.transition(0));var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;if(!(scaledWidth<pb.swiper.width&&scaledHeight<pb.swiper.height)){if(imageMinX=Math.min(pb.swiper.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.swiper.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageTouchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,imageTouchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!imageIsMoved&&!isScaling&&(Math.floor(imageMinX)===Math.floor(imageStartX)&&imageTouchesCurrent.x<imageTouchesStart.x||Math.floor(imageMaxX)===Math.floor(imageStartX)&&imageTouchesCurrent.x>imageTouchesStart.x))return void(imageIsTouched=!1);e.preventDefault(),e.stopPropagation(),imageIsMoved=!0,imageCurrentX=imageTouchesCurrent.x-imageTouchesStart.x+imageStartX,imageCurrentY=imageTouchesCurrent.y-imageTouchesStart.y+imageStartY,imageCurrentX<imageMinX&&(imageCurrentX=imageMinX+1-Math.pow(imageMinX-imageCurrentX+1,.8)),imageCurrentX>imageMaxX&&(imageCurrentX=imageMaxX-1+Math.pow(imageCurrentX-imageMaxX+1,.8)),imageCurrentY<imageMinY&&(imageCurrentY=imageMinY+1-Math.pow(imageMinY-imageCurrentY+1,.8)),imageCurrentY>imageMaxY&&(imageCurrentY=imageMaxY-1+Math.pow(imageCurrentY-imageMaxY+1,.8)),velocityPrevPositionX||(velocityPrevPositionX=imageTouchesCurrent.x),velocityPrevPositionY||(velocityPrevPositionY=imageTouchesCurrent.y),velocityPrevTime||(velocityPrevTime=Date.now()),velocityX=(imageTouchesCurrent.x-velocityPrevPositionX)/(Date.now()-velocityPrevTime)/2,velocityY=(imageTouchesCurrent.y-velocityPrevPositionY)/(Date.now()-velocityPrevTime)/2,Math.abs(imageTouchesCurrent.x-velocityPrevPositionX)<2&&(velocityX=0),Math.abs(imageTouchesCurrent.y-velocityPrevPositionY)<2&&(velocityY=0),velocityPrevPositionX=imageTouchesCurrent.x,velocityPrevPositionY=imageTouchesCurrent.y,velocityPrevTime=Date.now(),gestureImgWrap.transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")}}},pb.onSlideTouchEnd=function(){if(gestureImg&&0!==gestureImg.length){if(!imageIsTouched||!imageIsMoved)return imageIsTouched=!1,void(imageIsMoved=!1);imageIsTouched=!1,imageIsMoved=!1;var momentumDurationX=300,momentumDurationY=300,momentumDistanceX=velocityX*momentumDurationX,newPositionX=imageCurrentX+momentumDistanceX,momentumDistanceY=velocityY*momentumDurationY,newPositionY=imageCurrentY+momentumDistanceY;0!==velocityX&&(momentumDurationX=Math.abs((newPositionX-imageCurrentX)/velocityX)),0!==velocityY&&(momentumDurationY=Math.abs((newPositionY-imageCurrentY)/velocityY));var momentumDuration=Math.max(momentumDurationX,momentumDurationY);imageCurrentX=newPositionX,imageCurrentY=newPositionY;var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;imageMinX=Math.min(pb.swiper.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.swiper.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageCurrentX=Math.max(Math.min(imageCurrentX,imageMaxX),imageMinX),imageCurrentY=Math.max(Math.min(imageCurrentY,imageMaxY),imageMinY),gestureImgWrap.transition(momentumDuration).transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")}};var swipeToCloseDiff,swipeToCloseStart,swipeToCloseCurrent,swipeToCloseActiveSlide,swipeToCloseTimeStart,swipeToCloseIsTouched=!1,allowSwipeToClose=!0,swipeToCloseStarted=!1;return pb.swipeCloseTouchStart=function(){allowSwipeToClose&&(swipeToCloseIsTouched=!0)},pb.swipeCloseTouchMove=function(swiper,e){if(swipeToCloseIsTouched){swipeToCloseStarted||(swipeToCloseStarted=!0,swipeToCloseStart="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,swipeToCloseActiveSlide=pb.swiper.slides.eq(pb.swiper.activeIndex),swipeToCloseTimeStart=(new Date).getTime()),e.preventDefault(),swipeToCloseCurrent="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,swipeToCloseDiff=swipeToCloseStart-swipeToCloseCurrent;var opacity=1-Math.abs(swipeToCloseDiff)/300;swipeToCloseActiveSlide.transform("translate3d(0,"+-swipeToCloseDiff+"px,0)"),pb.swiper.container.css("opacity",opacity).transition(0)}},pb.swipeCloseTouchEnd=function(){if(swipeToCloseIsTouched=!1,!swipeToCloseStarted)return void(swipeToCloseStarted=!1);swipeToCloseStarted=!1,allowSwipeToClose=!1;var diff=Math.abs(swipeToCloseDiff),timeDiff=(new Date).getTime()-swipeToCloseTimeStart;return timeDiff<300&&diff>20||timeDiff>=300&&diff>100?void setTimeout(function(){"standalone"===pb.params.type&&pb.close(),"popup"===pb.params.type&&$.closeModal(pb.popup),pb.params.onSwipeToClose&&pb.params.onSwipeToClose(pb),allowSwipeToClose=!0},0):(0!==diff?swipeToCloseActiveSlide.addClass("transitioning").transitionEnd(function(){allowSwipeToClose=!0,swipeToCloseActiveSlide.removeClass("transitioning")}):allowSwipeToClose=!0,pb.swiper.container.css("opacity","").transition(""),void swipeToCloseActiveSlide.transform(""))},pb};PhotoBrowser.prototype={defaults:{photos:[],container:"body",initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1}},$.photoBrowser=function(params){return $.extend(params,$.photoBrowser.prototype.defaults),new PhotoBrowser(params)},$.photoBrowser.prototype={defaults:{}}}(Zepto)}),define("xg/jx-business/1.0.0/c/js/fastclick",[],function(require,exports,module){!function(){"use strict";function FastClick(layer,options){function bind(method,context){return function(){return method.apply(context,arguments)}}var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;i<l;i++)context[methods[i]]=bind(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(scrollParent=targetElement.fastClickScrollParent,!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary},FastClick.prototype.onTouchMove=function(event){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),targetTagName=targetElement.tagName.toLowerCase(),"label"===targetTagName){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||(scrollParent=targetElement.fastClickScrollParent,!scrollParent||scrollParent.fastClickLastScrollTop===scrollParent.scrollTop))||(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return!(this.targetElement&&!event.forwardedTouchEvent&&event.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),1))},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail||(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion,firefoxVersion;if("undefined"==typeof window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),blackberryVersion[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]")))){if(metaViewport.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction||(firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(firefoxVersion>=27&&(metaViewport=document.querySelector("meta[name=viewport]"),metaViewport&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||"none"===layer.style.touchAction||"manipulation"===layer.style.touchAction)},FastClick.attach=function(layer,options){return new FastClick(layer,options)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}()}),define("xg/jx-business/1.0.0/c/js/registerHelper",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime");Handlebars.registerHelper("ifCond",function(v1,operator,v2,options){switch(operator){case"!=":return v1!=v2?options.fn(this):options.inverse(this);case"==":return v1==v2?options.fn(this):options.inverse(this);case"===":return v1===v2?options.fn(this):options.inverse(this);case"<":return v1<v2?options.fn(this):options.inverse(this);case"<=":return v1<=v2?options.fn(this):options.inverse(this);case">":return v1>v2?options.fn(this):options.inverse(this);case">=":return v1>=v2?options.fn(this):options.inverse(this);case"&&":return v1&&v2?options.fn(this):options.inverse(this);case"||":return v1||v2?options.fn(this):options.inverse(this);default:return options.inverse(this)}}),Handlebars.compilePlus=function(source,context,options){var template,html="";return"object"!=typeof context?html:(Handlebars.compile&&"string"==typeof source?(template=Handlebars.compile(source),html=template(context,options)):html=source(context,options),html)},Handlebars.registerHelper("addOne",function(index){return index+1}),Handlebars.registerHelper("addTwo",function(index){return index+2}),Handlebars.registerHelper("if_even",function(value,options){return value%2==0?options.fn(this):options.inverse(this)})}),define("xg/jx-business/1.0.0/p/commodity/allOrder.handlebars",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime"),template=Handlebars.template;module.exports=template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,options,buffer="";return buffer+="\r\n    ",helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data},stack1=helper?helper.call(depth0,depth0&&depth0.status,"==",0,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.status,"==",0,options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n    ",helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data},stack1=helper?helper.call(depth0,depth0&&depth0.status,"==",1,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.status,"==",1,options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n    ",helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data},stack1=helper?helper.call(depth0,depth0&&depth0.status,"==",2,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.status,"==",2,options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n    ",helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data},stack1=helper?helper.call(depth0,depth0&&depth0.status,"==",3,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.status,"==",3,options),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n"}function program2(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n        <!--已预约（预约中）-->\r\n        <div class="orderList">\r\n            <div class="orderMeLine1">\r\n                <span class="customer left">心有灵犀一点通</span>\r\n                <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n            </div>\r\n            <div class="goodsInfo">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external><img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'"></a>\r\n                <div class="rightBox">\r\n                    <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n                        <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                        <div class="priceBox">\r\n                            <div class="goodsPrice">\r\n                                <span>',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                                <span class="goodsNumber f5">&Chi;</span>\r\n                                <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                            </div>\r\n                            <div class="lastLine">\r\n                                <div class="orderStatus left fb">\r\n                                    已预约\r\n                                </div>\r\n                                <div class="right rep-m">\r\n                                    使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                    <div class="btnGroup">\r\n                        <div class="orderTotalPriceBox left">\r\n                            <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',
(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n                        </div>\r\n                        <div class="sure sureBtn confirm-ok-cancel" id="sureBtn" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">确认消费</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    '}function program4(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n        <!--已发货（待确认）-->\r\n        <div class="orderList">\r\n            <div class="orderMeLine1">\r\n                <span class="customer left">心有灵犀一点通</span>\r\n                <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n            </div>\r\n            <div class="goodsInfo">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n                </a>\r\n                <div class="rightBox">\r\n                    <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                        <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                        <div class="priceBox">\r\n                            <div class="goodsPrice">\r\n                                ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                                <span class="goodsNumber f5">&Chi;</span>\r\n                                <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                            </div>\r\n                            <div class="lastLine">\r\n                                <div class="orderStatus left fb">\r\n                                    等待买家确认\r\n                                </div>\r\n                                <div class="right rep-m">\r\n                                    使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                    <div class="btnGroup">\r\n                        <div class="orderTotalPriceBox right">\r\n                            <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    "}function program6(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n        <!--确认收货-->\r\n        <div class="orderList">\r\n            <div class="orderMeLine1">\r\n                <span class="customer left">心有灵犀一点通</span>\r\n                <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n            </div>\r\n            <div class="goodsInfo">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n                </a>\r\n                <div class="rightBox">\r\n                    <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                        <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                        <div class="priceBox">\r\n                            <div class="goodsPrice">\r\n                                ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                                <span class="goodsNumber f5">&Chi;</span>\r\n                                <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                            </div>\r\n                            <div class="lastLine">\r\n                                <div class="orderStatus left grey fb">\r\n                                    已完成\r\n                                </div>\r\n                                <div class="right rep-m">\r\n                                    使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                    <div class="btnGroup">\r\n                        <div class="orderTotalPriceBox right">\r\n                            <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    "}function program8(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n        <!--已评价-->\r\n        <div class="orderList">\r\n            <div class="orderMeLine1">\r\n                <span class="customer left">心有灵犀一点通</span>\r\n                <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n            </div>\r\n            <div class="goodsInfo">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n                </a>\r\n                <div class="rightBox">\r\n                    <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                        <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                        <div class="priceBox">\r\n                            <div class="goodsPrice">\r\n                                ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                                <span class="goodsNumber f5">&Chi;</span>\r\n                                <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                            </div>\r\n                            <div class="lastLine">\r\n                                <div class="orderStatus left grey fb">\r\n                                    已完成\r\n                                </div>\r\n                                <div class="right rep-m">\r\n                                    使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                    <div class="btnGroup">\r\n                        <div class="orderTotalPriceBox right">\r\n                            <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n\r\n"})}),define("xg/jx-business/1.0.0/p/commodity/ordered.handlebars",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime"),template=Handlebars.template;module.exports=template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n    <div class="orderList">\r\n        <div class="orderMeLine1">\r\n            <span class="customer left">心有灵犀一点通</span>\r\n            <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n        </div>\r\n        <div class="goodsInfo">\r\n            <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n            </a>\r\n            <div class="rightBox">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                    <div class="priceBox">\r\n                        <div class="goodsPrice">\r\n                            ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                            <span class="goodsNumber f5">&Chi;</span>\r\n                            <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                        </div>\r\n                        <div class="lastLine">\r\n                            <div class="orderStatus left fb">\r\n                                已预约\r\n                            </div>\r\n                            <div class="right rep-m">\r\n                                使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n                <div class="btnGroup">\r\n                    <div class="orderTotalPriceBox left">\r\n                        <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n                    </div>\r\n                    <div class="sure sureBtn confirm-ok-cancel" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">确认消费</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n\r\n"})}),define("xg/jx-business/1.0.0/p/commodity/waitSure.handlebars",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime"),template=Handlebars.template;module.exports=template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n    <div class="orderList">\r\n        <div class="orderMeLine1">\r\n            <span class="customer left">心有灵犀一点通</span>\r\n            <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n        </div>\r\n        <div class="goodsInfo">\r\n            <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n            </a>\r\n            <div class="rightBox">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                    <div class="priceBox">\r\n                        <div class="goodsPrice">\r\n                            ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                            <span class="goodsNumber f5">&Chi;</span>\r\n                            <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                        </div>\r\n                        <div class="lastLine">\r\n                            <div class="orderStatus left fb">\r\n                                等待买家确认\r\n                            </div>\r\n                            <div class="right rep-m">\r\n                                使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n                <div class="btnGroup">\r\n                    <div class="orderTotalPriceBox right">\r\n                        <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span></div>\r\n                    </div>                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n\r\n"})}),define("xg/jx-business/1.0.0/p/commodity/completed.handlebars",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime"),template=Handlebars.template;module.exports=template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\r\n    <div class="orderList">\r\n        <div class="orderMeLine1">\r\n            <span class="customer left">心有灵犀一点通</span>\r\n            <div class="createTimeBox right"><span>创建时间：</span><span class="createTime">',(helper=helpers.createTime)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.createTime,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span></div>\r\n        </div>\r\n        <div class="goodsInfo">\r\n            <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                <img class="goodsPic left" src="',(helper=helpers.imgUrl)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.imgUrl,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'">\r\n            </a>\r\n            <div class="rightBox">\r\n                <a href="/product/goodDetails/goodsDetails.htm?id=',(helper=helpers.productId)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.productId,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'" external>\r\n                    <div class="goodsName">',(helper=helpers.name)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.name,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</div>\r\n                    <div class="priceBox">\r\n                        <div class="goodsPrice">\r\n                            ',(helper=helpers.price)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.price,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'\r\n                            <span class="goodsNumber f5">&Chi;</span>\r\n                            <span class="goodsNumber">',(helper=helpers.amount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.amount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>\r\n                        </div>\r\n                        <div class="lastLine">\r\n                            <div class="orderStatus left grey fb">\r\n                                已完成\r\n                            </div>\r\n                            <div class="right rep-m">\r\n                                使用代金券<span class="voucher">',(helper=helpers.discount)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.discount,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+'</span>元\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n                <div class="btnGroup">\r\n                    <div class="orderTotalPriceBox right">\r\n                        <div class="boxMiddle"><span>合计：</span><span class="orderTotalPrice">&yen ',(helper=helpers.totalPrice)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.totalPrice,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</span></div>\r\n                    </div>                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n"}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;return stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\r\n\r\n"})}),define("xg/jx-business/1.0.0/p/commodity/notData.handlebars",["alinw/handlebars/1.3.0/runtime"],function(require,exports,module){var Handlebars=require("alinw/handlebars/1.3.0/runtime"),template=Handlebars.template;module.exports=template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{},'<div class="missing">\r\n   <img src="http://static.hpbanking.com/xg/uploads/files/6c038b5768301c51fc839c06f93cc4e7-120-120.png" alt="">\r\n   <div>暂无记录</div>\r\n</div>'})});